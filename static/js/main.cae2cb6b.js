/*! For license information please see main.cae2cb6b.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var D=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case D:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return A(e(t))}catch(Aa){}}return null}var N=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},L=[],F=-1;function B(e){return{current:e}}function W(e){0>F||(e.current=L[F],L[F]=null,F--)}function U(e,t){F++,L[F]=e.current,e.current=t}var z=B(null),q=B(null),V=B(null),H=B(null);function K(e,t){switch(U(V,t),U(q,e),U(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(z),U(z,e)}function Y(){W(z),W(q),W(V)}function G(e){null!==e.memoizedState&&U(H,e);var t=z.current,n=ad(t,e.type);t!==n&&(U(q,e),U(z,n))}function Q(e){q.current===e&&(W(z),W(q)),H.current===e&&(W(H),Qd._currentValue=j)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ve(r):0!==(a&=s)?i=ve(a):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~o)?i=ve(s):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Pe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Pe,Ne="__reactProps$"+Pe,Me="__reactContainer$"+Pe,Oe="__reactEvents$"+Pe,je="__reactListeners$"+Pe,Le="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Be="__reactMarker$"+Pe;function We(e){delete e[Ae],delete e[Ne],delete e[Oe],delete e[je],delete e[Le]}function Ue(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Ae])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Ae]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ve(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Be]=!0}var Ke=new Set,Ye={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(Aa){var t=Aa.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<Aa.stack.indexOf("\n    at")?" (<anonymous>)":-1<Aa.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Aa){var r=Aa}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(Aa){return"\nError generating stack: "+Aa.message+"\n"+Aa.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(N(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Nt=null;function Mt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ne]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function jt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==At||null!==Nt)&&(zc(),At&&(t=At,e=Nt,Nt=At=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ne]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ft)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Mh){Bt=!1}var Ut=null,zt=null,qt=null;function Vt(){if(qt)return qt;var e,t,n=zt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Yt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Qt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Qt=0,$t=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),sn=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(h({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],xn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Sn,Tn=Ft&&(!xn||Sn&&8<Sn&&11>=Sn),Cn=String.fromCharCode(32),Dn=!1;function _n(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Nn(e,t,n,r){At?Nt?Nt.push(r):Nt=[r]:At=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,On=null;function jn(e){Lu(e,0)}function Ln(e){if(ht(qe(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(Ft){var Wn;if(Ft){var Un="oninput"in document;if(!Un){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Un="function"===typeof zn.oninput}Wn=Un}else Wn=!1;Bn=Wn&&(!document.documentMode||9<document.documentMode)}function qn(){Mn&&(Mn.detachEvent("onpropertychange",Vn),On=Mn=null)}function Vn(e){if("value"===e.propertyName&&Ln(On)){var t=[];Nn(t,On,e,Pt(e)),jt(jn,t)}}function Hn(e,t,n){"focusin"===e?(qn(),On=n,(Mn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(On)}function Yn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){wr.set(e,t),Ge(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Cr=0,Dr=0;function _r(){for(var e=Cr,t=Dr=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Ar(n,i,o)}}function Rr(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,Dr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Rr(e,t,n,r),Nr(e)}function Pr(e,t){return Rr(e,null,null,t),Nr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Nr(e){if(50<Nc)throw Nc=0,Mc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Or(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Lr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case D:return(e=jr(31,n,t,i)).elementType=D,e.lanes=o,e;case g:return Ur(n.children,i,o,t);case y:s=8,i|=24;break;case v:return(e=jr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case S:return(e=jr(13,n,t,i)).elementType=S,e.lanes=o,e;case E:return(e=jr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:s=10;break e;case w:s=9;break e;case x:s=11;break e;case T:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=jr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ur(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],Hr=0,Kr=null,Yr=0,Gr=[],Qr=0,Xr=null,$r=1,Jr="";function Zr(e,t){Vr[Hr++]=Yr,Vr[Hr++]=Kr,Kr=e,Yr=t}function ei(e,t,n){Gr[Qr++]=$r,Gr[Qr++]=Jr,Gr[Qr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$r=1<<32-pe(t)+i|n<<i|r,Jr=o+e}else $r=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Vr[--Hr],Vr[Hr]=null,Yr=Vr[--Hr],Vr[Hr]=null;for(;e===Xr;)Xr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,$r=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Ne]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Fu(Ou[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=ai;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=B(null),yi=null,vi=null;function bi(e,t,n){U(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,W(gi)}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ki(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),ki(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ci(e){return _i(yi,e)}function Di(e,t){return null===yi&&Ti(e),_i(e,t)}function _i(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ai={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ni(){return{controller:new Ri,data:new Map,refCount:0}}function Mi(e){e.refCount--,0===e.refCount&&Ii(Pi,function(){e.controller.abort()})}var Oi=null,ji=0,Li=0,Fi=null;function Bi(){if(0===--ji&&null!==Oi){null!==Fi&&(Fi.status="fulfilled");var e=Oi;Oi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];ji=0,Li=Iu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}ji++,t.then(Bi,Bi)}(0,t),null!==Wi&&Wi(e,t)};var Ui=B(null);function zi(){var e=Ui.current;return null!==e?e:ic.pooledCache}function qi(e,t){U(Ui,null===t?Ui.current:t.pool)}function Vi(){var e=zi();return null===e?null:{parent:Ai._currentValue,pool:e}}var Hi=Error(a(460)),Ki=Error(a(474)),Yi=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function eo(e){if(e===Hi||e===Yi)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Ar(e,null,n),t}return Rr(e,r,t,n),Nr(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(ac&p)===p:(r&p)===p){0!==p&&p===Li&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=B(null),mo=B(0);function go(e,t){U(mo,e=hc),U(fo,t),hc=e|t.baseLanes}function yo(){U(mo,hc),U(fo,fo.current)}function vo(){hc=mo.current,W(fo),W(mo)}var bo=0,wo=null,ko=null,xo=null,So=!1,Eo=!1,To=!1,Co=0,Do=0,_o=null,Ro=0;function Io(){throw Error(a(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ao(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ya:Ga,To=!1,o=n(r,i),To=!1,Eo&&(o=Mo(t,n,r,i)),No(e),o}function No(e){M.H=Ka;var t=null!==ko&&null!==ko.next;if(bo=0,xo=ko=wo=null,So=!1,Do=0,_o=null,t)throw Error(a(300));null===e||_s||null!==(e=e.dependencies)&&Ei(e)&&(_s=!0)}function Mo(e,t,n,r){wo=e;var i=0;do{if(Eo&&(_o=null),Do=0,Eo=!1,25<=i)throw Error(a(301));if(i+=1,xo=ko=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}M.H=Qa,o=t(n,r)}while(Eo);return o}function Oo(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==ko?ko.memoizedState:null)!==e&&(wo.flags|=1024),t}function jo(){var e=0!==Co;return Co=0,e}function Lo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}bo=0,xo=ko=wo=null,Eo=!1,Do=Co=0,_o=null}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?wo.memoizedState=xo=e:xo=xo.next=e,xo}function Wo(){if(null===ko){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=ko.next;var t=null===xo?wo.memoizedState:xo.next;if(null!==t)xo=t,ko=e;else{if(null===e){if(null===wo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ko=e).memoizedState,baseState:ko.baseState,baseQueue:ko.baseQueue,queue:ko.queue,next:null},null===xo?wo.memoizedState=xo=e:xo=xo.next=e}return xo}function Uo(e){var t=Do;return Do+=1,null===_o&&(_o=[]),e=$i(_o,e,t),t=wo,null===(null===xo?t.memoizedState:xo.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ya:Ga),e}function zo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===k)return Ci(e)}throw Error(a(438,String(e)))}function qo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function Vo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return Ko(Wo(),ko,e)}function Ko(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(bo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((bo&p)===p){u=u.next,p===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,wo.lanes|=p,fc|=p}h=u.action,To&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,wo.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Qn(o,e.memoizedState)&&(_s=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yo(e){var t=Wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Qn(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=wo,i=Wo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((ko||i).memoizedState,n);if(s&&(i.memoizedState=n,_s=!0),i=i.queue,ya(2048,8,$o.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==xo&&1&xo.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Xo.bind(null,r,i,n,t),null),null===ic)throw Error(a(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function $o(e,t,n){return n(function(){Jo(t)&&Zo(e)})}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zo(e){var t=Pr(e,2);null!==t&&Lc(t,e,2)}function ea(e){var t=Bo();if("function"===typeof e){var n=e;if(e=n(),To){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Ko(e,ko,"function"===typeof r?r:Vo)}function na(e,t,n,r,i){if(qa(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==M.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=M.T,a={};M.T=a;try{var s=n(i,r),l=M.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{M.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oa(e,t,n)},function(n){return aa(e,t,n)}):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=ic.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Bo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Wa.bind(null,wo,r),r.dispatch=n,r=ea(!1),o=za.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Bo()).queue=i,n=na.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return da(Wo(),ko,e)}function da(e,t,n){if(t=Ko(e,t,la)[0],e=Ho(Vo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Uo(t)}catch(Aa){if(Aa===Hi)throw Yi;throw Aa}else r=t;var i=(t=Wo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fa(9,{destroy:void 0,resource:void 0},ha.bind(null,i,n),null)),[r,o,e]}function ha(e,t){e.action=t}function pa(e){var t=Wo(),n=ko;if(null!==n)return da(t,n,e);Wo(),t=t.memoizedState;var r=(n=Wo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Wo().memoizedState}function ga(e,t,n,r){var i=Bo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Wo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==ko&&null!==r&&Po(r,ko.memoizedState.deps)?i.memoizedState=fa(t,o,n,r):(wo.flags|=e,i.memoizedState=fa(1|t,o,n,r))}function va(e,t){ga(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function wa(e,t){return ya(4,2,e,t)}function ka(e,t){return ya(4,4,e,t)}function xa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,xa.bind(null,t,e),n)}function Ea(){}function Ta(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Po(t,r[1]))return r[0];if(r=e(),To){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Da(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=jc(),wo.lanes|=e,fc|=e,n)}function _a(e,t,n,r){return Qn(n,t)?n:null!==fo.current?(e=Da(e,n,r),Qn(e,t)||(_s=!0),e):0===(42&bo)?(_s=!0,e.memoizedState=n):(e=jc(),wo.lanes|=e,fc|=e,t)}function Ra(e,t,n,r,i){var o=O.p;O.p=0!==o&&8>o?o:8;var a=M.T,s={};M.T=s,za(e,!1,t,n);try{var l=i(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Ua(e,t,u,Oc())}else Ua(e,t,r,Oc())}catch(d){Ua(e,t,{then:function(){},status:"rejected",reason:d},Oc())}finally{O.p=o,M.T=a}}function Ia(){}function Pa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Na(e).queue;Ra(e,i,t,j,null===n?Ia:function(){return Ma(e),n(r)})}function Na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){Ua(e,Na(e).next.queue,{},Oc())}function Oa(){return Ci(Qd)}function ja(){return Wo().memoizedState}function La(){return Wo().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oo(t,e=io(n),n);return null!==r&&(Lc(r,t,n),ao(r,t,n)),t={cache:Ni()},void(e.payload=t)}t=t.return}}function Ba(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e)?Va(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),Ha(n,t,r))}function Wa(e,t,n){Ua(e,t,n,Oc())}function Ua(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Va(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,a))return Rr(e,t,i,0),null===ic&&_r(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Lc(n,e,r),Ha(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},qa(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function qa(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Va(e,t){Eo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var Ka={readContext:Ci,use:zo,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useLayoutEffect:Io,useInsertionEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useSyncExternalStore:Io,useId:Io,useHostTransitionStatus:Io,useFormState:Io,useActionState:Io,useOptimistic:Io,useMemoCache:Io,useCacheRefresh:Io},Ya={readContext:Ci,use:zo,useCallback:function(e,t){return Bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Bo();t=void 0===t?null:t;var r=e();if(To){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bo();if(void 0!==n){var i=n(t);if(To){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ba.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Bo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Wa.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ea,useDeferredValue:function(e,t){return Da(Bo(),e,t)},useTransition:function(){var e=ea(!1);return e=Ra.bind(null,wo,e.queue,!0,!1),Bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Bo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&ac)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,va($o.bind(null,r,o,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Xo.bind(null,r,o,n,t),null),n},useId:function(){var e=Bo(),t=ic.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-pe($r)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ro++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oa,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return Bo().memoizedState=Fa.bind(null,wo)}},Ga={readContext:Ci,use:zo,useCallback:Ta,useContext:Ci,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:wa,useLayoutEffect:ka,useMemo:Ca,useReducer:Ho,useRef:ma,useState:function(){return Ho(Vo)},useDebugValue:Ea,useDeferredValue:function(e,t){return _a(Wo(),ko.memoizedState,e,t)},useTransition:function(){var e=Ho(Vo)[0],t=Wo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:ja,useHostTransitionStatus:Oa,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Wo(),0,e,t)},useMemoCache:qo,useCacheRefresh:La},Qa={readContext:Ci,use:zo,useCallback:Ta,useContext:Ci,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:wa,useLayoutEffect:ka,useMemo:Ca,useReducer:Yo,useRef:ma,useState:function(){return Yo(Vo)},useDebugValue:Ea,useDeferredValue:function(e,t){var n=Wo();return null===ko?Da(n,e,t):_a(n,ko.memoizedState,e,t)},useTransition:function(){var e=Yo(Vo)[0],t=Wo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:ja,useHostTransitionStatus:Oa,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Wo();return null!==ko?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qo,useCacheRefresh:La},Xa=null,$a=0;function Ja(e){var t=$a;return $a+=1,null===Xa&&(Xa=[]),$i(Xa,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function es(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ts(e){return(0,e._init)(e._payload)}function ns(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ts(o)===t.type)?(Za(t=i(t,n.props),n),t.return=e,t):(Za(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Za(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(N(t)||I(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===k)return h(e,Di(e,t),n);es(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case C:return p(e,t,n=(i=n._init)(n._payload),r)}if(N(n)||I(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ja(n),r);if(n.$$typeof===k)return p(e,t,Di(e,n),r);es(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(N(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===k)return y(e,t,n,Di(t,r),i);es(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ts(b)===c.type){n(l,c.sibling),Za(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ur(u.props.children,l.mode,d,u.key)).return=l,l=d):(Za(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return s(l);case C:return v(l,c,u=(b=u._init)(u._payload),d)}if(N(u))return function(i,a,s,l){for(var c=null,u=null,d=a,f=a=0,m=null;null!==d&&f<s.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(i,d,s[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===s.length)return n(i,d),oi&&Zr(i,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(i,s[f],l))&&(a=o(d,a,f),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,f),c}for(d=r(d);f<s.length;f++)null!==(m=y(d,i,f,s[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),a=o(m,a,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),oi&&Zr(i,f),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=s,m=s=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(i,f,v.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,f=g}if(v.done)return n(i,f),oi&&Zr(i,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return oi&&Zr(i,m),u}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),oi&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===k)return v(l,c,Di(l,u),d);es(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=zr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{$a=0;var i=v(e,t,n,r);return Xa=null,i}catch(Aa){if(Aa===Hi||Aa===Yi)throw Aa;var o=jr(29,Aa,null,e.mode);return o.lanes=r,o.return=e,o}}}var rs=ns(!0),is=ns(!1),os=B(null),as=null;function ss(e){var t=e.alternate;U(ds,1&ds.current),U(os,e),null===as&&(null===t||null!==fo.current||null!==t.memoizedState)&&(as=e)}function ls(e){if(22===e.tag){if(U(ds,ds.current),U(os,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else cs()}function cs(){U(ds,ds.current),U(os,os.current)}function us(e){W(os),as===e&&(as=null),W(ds)}var ds=B(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),ao(t,e,n))}};function ms(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,o))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function ys(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){vs(e)}function ws(e){console.error(e)}function ks(e){vs(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Es(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function Ts(e){return(e=io(e)).tag=3,e}function Cs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ss(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof i&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ds=Error(a(461)),_s=!1;function Rs(e,t,n,r){t.child=null===e?is(t,null,n,r):rs(t,e.child,n,r)}function Is(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ti(t),r=Ao(e,t,n,a,o,i),s=jo(),null===e||_s?(oi&&s&&ti(t),t.flags|=1,Rs(e,t,r,i),t.child):(Lo(e,t,i),Xs(e,t,i))}function Ps(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Lr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,As(e,t,o,r,i))}if(o=e.child,!$s(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Xn(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,!$s(e,i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return js(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ms(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ms(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),ls(t)}else null!==o?(qi(0,o.cachePool),go(t,o),cs(),t.memoizedState=null):(null!==e&&qi(0,null),yo(),cs());return Rs(e,t,i,n),t.child}function Ms(e,t,n,r){var i=zi();return i=null===i?null:{parent:Ai._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),yo(),ls(t),null!==e&&Si(e,t,r,!0),null}function Os(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function js(e,t,n,r,i){return Ti(t),n=Ao(e,t,n,r,void 0,i),r=jo(),null===e||_s?(oi&&r&&ti(t),t.flags|=1,Rs(e,t,n,i),t.child):(Lo(e,t,i),Xs(e,t,i))}function Ls(e,t,n,r,i,o){return Ti(t),t.updateQueue=null,n=Mo(t,r,n,i),No(e),r=jo(),null===e||_s?(oi&&r&&ti(t),t.flags|=1,Rs(e,t,n,o),t.child):(Lo(e,t,o),Xs(e,t,o))}function Fs(e,t,n,r,i){if(Ti(t),null===t.stateNode){var o=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ci(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ci(a):Mr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ps(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&fs.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=ys(n,s);o.props=l;var c=o.context,u=n.contextType;a=Mr,"object"===typeof u&&null!==u&&(a=Ci(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&gs(t,o,r,a),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,s||h!==c||to?("function"===typeof d&&(ps(t,n,d,r),c=t.memoizedState),(l=to||ms(t,n,l,r,h,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ys(n,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ci(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&gs(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var p=t.memoizedState;a!==d||h!==p||to||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof s&&(ps(t,n,s,r),p=t.memoizedState),(u=to||ms(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Os(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,n,i)):Rs(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Xs(e,t,i),e}function Bs(e,t,n,r){return pi(),t.flags|=256,Rs(e,t,n,r),t.child}var Ws={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Vi()}}function zs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function qs(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ds.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?ss(t):cs(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;us(t)}return c=i.children,i=i.fallback,o?(cs(),c=Hs({mode:"hidden",children:c},o=t.mode),i=Ur(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Us(n),o.childLanes=zs(e,r,n),t.memoizedState=Ws,i):(ss(t),Vs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(ss(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),o=i.fallback,c=t.mode,i=Hs({mode:"visible",children:i.children},c),(o=Ur(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,rs(t,e.child,null,n),(i=t.child).memoizedState=Us(n),i.childLanes=zs(e,r,n),t.memoizedState=Ws,t=o);else if(ss(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ks(e,t,n)}else if(_s||Si(e,t,n,!1),r=0!==(n&e.childLanes),_s||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:_e(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Lc(r,e,i),Ds;"$?"===c.data||Gc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Gr[Qr++]=$r,Gr[Qr++]=Jr,Gr[Qr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=Vs(t,i.children)).flags|=4096);return t}return o?(cs(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Ur(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=Ai._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=zs(e,r,n),t.memoizedState=Ws,i):(ss(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return rs(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ys(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Gs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Rs(e,t,r.children,n),0!==(2&(r=ds.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ys(e,n,t);else if(19===e.tag)Ys(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(ds,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,o);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!$s(e,n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ai,e.memoizedState.cache),pi();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ss(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(ss(t),null!==(e=Xs(e,t,n))?e.sibling:null);ss(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(ds,ds.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:bi(0,Ai,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,oi&&0!==(1048576&t.flags)&&ei(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===x){t.tag=11,t=Is(null,t,r,e,n);break e}if(i===T){t.tag=14,t=Ps(null,t,r,e,n);break e}}throw t=A(r)||r,Error(a(306,t,""))}Lr(r)?(e=ys(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=js(null,t,r,e,n))}return t;case 0:return js(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,i=ys(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Ai,r),r!==o.cache&&xi(t,[Ai],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Bs(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=Bs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Xs(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return Os(e,t),null===e?(n=Rd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=id(V.current).createElement(n))[Ae]=t,r[Ne]=e,td(r,n,e),He(r),t.stateNode=r):t.memoizedState=Rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=kd(t.type,t.pendingProps,V.current),ri=t,si=!0,i=ii,fd(t.type)?(bd=i,ii=vd(r.firstChild)):ii=i),Rs(e,t,t.pendingProps.children,n),Os(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==s&&sd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Ao(e,t,Oo,null,null,n),Qd._currentValue=i),Os(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return qs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rs(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Is(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=Ci(i)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return Ps(e,t,t.type,t.pendingProps,n);case 15:return As(e,t,t.type,t.pendingProps,n);case 19:return Qs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ti(t),r=Ci(Ai),null===e?(null===(i=zi())&&(i=ic,o=Ni(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Ai,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ai,r)):(r=o.cache,bi(0,Ai,r),r!==i.cache&&xi(t,[Ai],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zs(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=os.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Ji=Gi,Ki;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ai),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),n=V.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=z.current,hi(t)?ui(t):(e=kd(i,r,n),t.stateNode=e,Zs(t))}return rl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=z.current,hi(t))ui(t);else{switch(i=id(V.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ae]=t,e[Ne]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=V.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[Ae]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ae]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return Y(),null===e&&Uu(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(W(ds),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)nl(i,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,nl(i,!1),e=o.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(ds,1&ds.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return rl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ds.current,U(ds,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return us(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ai),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ai),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(ds),null;case 4:return Y(),null;case 10:return wi(t.type),null;case 22:case 23:return us(t),vo(),null!==e&&W(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ai),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Ai),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 13:us(t);break;case 19:W(ds);break;case 10:wi(t.type);break;case 22:case 23:us(t),vo(),null!==e&&W(Ui);break;case 24:wi(Ai)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){du(t,t.return,s)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){du(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){du(e,e.return,r)}}}function ul(e,t,n){n.props=ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){du(e,t,o)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Zu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&Zu(e,t,p,f,r,h)}}return void gt(e,s,l,c,u,d,o,i);case"select":for(o in f=s=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Zu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Zu(e,t,i,o,r,c)}return t=l,n=s,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Zu(e,t,s,i,r,o)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Zu(e,t,u,p,r,f)}return;default:if(Ct(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||ed(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Zu(e,t,h,p,r,f)}(r,e.type,n,t),r[Ne]=t}catch(i){du(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Ae]=e,t[Ne]=n}catch(o){du(e,e.return,o)}}var wl=!1,kl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,El=null;function Tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){du(n,n.return,a)}else{var i=ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){du(n,n.return,s)}}64&r&&cl(n),512&r&&dl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(a){du(n,n.return,a)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&pl(n),512&r&&dl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||kl,i=wl;var o=kl;wl=r,(kl=t)&&!o?Wl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),wl=i,kl=o}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,_l=!1;function Rl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:kl||hl(n,t),Rl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||hl(n,t);var r=Dl,i=_l;fd(n.type)&&(Dl=n.stateNode,_l=!1),Rl(e,t,n),xd(n.stateNode),Dl=r,_l=i;break;case 5:kl||hl(n,t);case 6:if(r=Dl,i=_l,Dl=null,Rl(e,t,n),_l=i,null!==(Dl=r))if(_l)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(a){du(n,t,a)}else try{Dl.removeChild(n.stateNode)}catch(a){du(n,t,a)}break;case 18:null!==Dl&&(_l?(md(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_h(e)):md(Dl,n.stateNode));break;case 4:r=Dl,i=_l,Dl=n.stateNode.containerInfo,_l=!0,Rl(e,t,n),Dl=r,_l=i;break;case 0:case 11:case 14:case 15:kl||ll(2,n,t),kl||ll(4,n,t),Rl(e,t,n);break;case 1:kl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Rl(e,t,n);break;case 21:Rl(e,t,n);break;case 22:kl=(r=kl)||null!==n.memoizedState,Rl(e,t,n),kl=r;break;default:Rl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_h(e)}catch(n){du(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Dl=l.stateNode,_l=!1;break e}break;case 5:Dl=l.stateNode,_l=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Dl)throw Error(a(160));Il(o,s,i),Dl=null,_l=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Ml=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),jl(e),4&r&&(ll(3,e,e.return),sl(3,e),ll(5,e,e.return));break;case 1:Nl(t,e),jl(e),512&r&&(kl||null===n||hl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ml;if(Nl(t,e),jl(e),512&r&&(kl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Be]||o[Ae]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),td(o,r,n),o[Ae]=e,He(o),r=o;break e;case"link":var s=Wd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Wd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Ae]=e,He(o),r=o}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Ud(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),jl(e),512&r&&(kl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),jl(e),512&r&&(kl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(f){du(e,e.return,f)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Nl(t,e),jl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){du(e,e.return,f)}}break;case 3:if(Bd=null,i=Ml,Ml=Td(t.containerInfo),Nl(t,e),Ml=i,jl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(f){du(e,e.return,f)}xl&&(xl=!1,Ll(e));break;case 4:r=Ml,Ml=Td(e.stateNode.containerInfo),Nl(t,e),jl(e),Ml=r;break;case 12:default:Nl(t,e),jl(e);break;case 13:Nl(t,e),jl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=kl;if(wl=u||i,kl=d||c,Nl(t,e),kl=d,wl=u,jl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||kl||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){du(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){du(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Nl(t,e),jl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function jl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(xt(o,""),n.flags&=-33),vl(e,gl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;yl(e,gl(e),s);break;default:throw Error(a(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tl(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Bl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Bl(t);break;case 27:xd(t.stateNode);case 26:case 5:hl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Wl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Wl(i,o,n),sl(4,o);break;case 1:if(Wl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){du(r,r.return,c)}}n&&64&a&&cl(o),dl(o,o.return);break;case 27:bl(o);case 26:case 5:Wl(i,o,n),n&&null===r&&4&a&&pl(o),dl(o,o.return);break;case 12:Wl(i,o,n);break;case 13:Wl(i,o,n),n&&4&a&&Pl(i,o);break;case 22:null===o.memoizedState&&Wl(i,o,n),dl(o,o.return);break;case 30:break;default:Wl(i,o,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mi(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e)));break;case 12:if(2048&i){ql(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?ql(e,t,n,r):Kl(e,t):2&o._visibility?ql(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(a,t);break;case 24:ql(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(o,a,s,l,i),sl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(o,a,s,l,i):Kl(o,a):(u._visibility|=2,Hl(o,a,s,l,i)),i&&2048&c&&Ul(a.alternate,a);break;case 24:Hl(o,a,s,l,i),i&&2048&c&&zl(a.alternate,a);break;default:Hl(o,a,s,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Kl(n,r),2048&i&&zl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Yl=8192;function Gl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(a(475));var r=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Id(n.href),o=e.querySelector(Pd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Ad(n),(i=Sd.get(i))&&Ld(n,i),He(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),td(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ml;Ml=Td(e.stateNode.containerInfo),Gl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Gl(e),Yl=t):Gl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,o=r.return;if(Cl(r),r===n){El=null;break e}if(null!==i){i.return=o,El=i;break e}El=o}}}var tc={getCacheForType:function(e){var t=Ci(Ai),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,oc=null,ac=0,sc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,pc=0,fc=0,mc=0,gc=0,yc=0,vc=0,bc=null,wc=null,kc=!1,xc=0,Sc=1/0,Ec=null,Tc=null,Cc=0,Dc=null,_c=null,Rc=0,Ic=0,Pc=null,Ac=null,Nc=0,Mc=null;function Oc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Li?Li:Iu()}return Ie()}function jc(){0===yc&&(yc=0===(536870912&ac)||oi?xe():536870912);var e=os.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Vc(e,0),Uc(e,ac,yc,!1)),Te(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===pc&&Uc(e,ac,yc,!1)),Su(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Yc();ic!==e||ac!==t?(Ec=null,Sc=te()+500,Vc(e,t)):uc=we(e,t);e:for(;;)try{if(0!==sc&&null!==oc){t=oc;var o=lc;t:switch(sc){case 1:sc=0,lc=null,eu(e,t,o,1);break;case 2:case 9:if(Qi(o)){sc=0,lc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),Su(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(o)?(sc=0,lc=null,Zc(t)):(sc=0,lc=null,eu(e,t,o,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||zd(s)){sc=0,lc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,tu(u)):oc=null}break t}}sc=0,lc=null,eu(e,t,o,5);break;case 6:sc=0,lc=null,eu(e,t,o,6);break;case 8:qc(),pc=6;break e;default:throw Error(a(462))}}$c();break}catch(d){Hc(e,d)}return vi=yi=null,M.H=r,M.A=i,rc=n,null!==oc?0:(ic=null,ac=0,_r(),pc)}(e,t):Qc(e,t,!0),o=r;;){if(0===i){uc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!o||Wc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,s).flags|=256),2!==(s=Qc(l,s,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=o,mc|=o,i=4;break e}o=wc,wc=i,null!==o&&(null===wc?wc=o:wc.push.apply(wc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Vc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,yc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(Bc.bind(null,r,n,wc,Ec,kc,t,yc,mc,vc,cc,o,2,-0,0),i)}else Bc(r,n,wc,Ec,kc,t,yc,mc,vc,cc,o,0,-0,0)}break}i=Qc(e,t,!1),o=!1}Su(e)}function Bc(e,t,n,r,i,o,s,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:Vd},Ql(t),null!==(h=function(){if(null===qd)throw Error(a(475));var e=qd;return e.stylesheets&&0===e.count&&Yd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,o,n,r,i,s,l,c,d,1,p,f)),void Uc(e,o,s,!u);ru(e,t,o,n,r,i,s,l,c)}function Wc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ce(e,n,t)}function zc(){return 0!==(6&rc)||(Eu(0,!1),!1)}function qc(){if(null!==oc){if(0===sc)var e=oc.return;else vi=yi=null,Fo(e=oc),Xa=null,$a=0,e=oc;for(;null!==e;)al(e.alternate,e),e=e.return;oc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),ic=e,oc=n=Fr(e.current,null),ac=t,sc=0,lc=null,cc=!1,uc=we(e,t),dc=!1,vc=yc=gc=mc=fc=pc=0,wc=bc=null,kc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,_r(),n}function Hc(e,t){wo=null,M.H=Ka,t===Hi||t===Yi?(t=Zi(),sc=3):t===Ki?(t=Zi(),sc=4):sc=t===Ds?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===oc&&(pc=1,xs(e,Er(t,e.current)))}function Kc(){var e=M.H;return M.H=Ka,null===e?Ka:e}function Yc(){var e=M.A;return M.A=tc,e}function Gc(){pc=4,cc||(4194048&ac)!==ac&&null!==os.current||(uc=!0),0===(134217727&fc)&&0===(134217727&mc)||null===ic||Uc(ic,ac,yc,!1)}function Qc(e,t,n){var r=rc;rc|=2;var i=Kc(),o=Yc();ic===e&&ac===t||(Ec=null,Vc(e,t)),t=!1;var a=pc;e:for(;;)try{if(0!==sc&&null!==oc){var s=oc,l=lc;switch(sc){case 8:qc(),a=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=sc;if(sc=0,lc=null,eu(e,s,l,c),n&&uc){a=0;break e}break;default:c=sc,sc=0,lc=null,eu(e,s,l,c)}}Xc(),a=pc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,M.H=i,M.A=o,null===oc&&(ic=null,ac=0,_r()),a}function Xc(){for(;null!==oc;)Jc(oc)}function $c(){for(;null!==oc&&!Z();)Jc(oc)}function Jc(e){var t=Js(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Fo(t);default:al(n,t),t=Js(n,t=oc=Br(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function eu(e,t,n,r){vi=yi=null,Fo(t),Xa=null,$a=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===as?Gc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Gc(),!1}if(oi)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),so(e,i=Es(e.stateNode,r,i)),4!==pc&&(pc=2)),!1;var o=Error(a(520),{cause:r});if(o=Er(o,n),null===bc?bc=[o]:bc.push(o),4!==pc&&(pc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=Es(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Tc||!Tc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Cs(i=Ts(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return pc=1,xs(e,Er(n,e.current)),void(oc=null)}catch(o){if(null!==i)throw oc=i,o;return pc=1,xs(e,Er(n,e.current)),void(oc=null)}32768&t.flags?(oi||1===r?e=!0:uc||0!==(536870912&ac)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===pc&&(pc=5)}function nu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);pc=6,oc=null}function ru(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Cc);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Dr,s,l,c),e===ic&&(oc=ic=null,ac=0),_c=t,Dc=e,Rc=n,Ic=o,Pc=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(oe,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,i=O.p,O.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(o=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ys(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{rc=s,O.p=i,M.T=r}}Cc=1,iu(),ou(),au()}}function iu(){if(1===Cc){Cc=0;var e=Dc,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=O.p;O.p=2;var i=rc;rc|=4;try{Ol(t,e);var o=rd,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(a=g,g=m,m=a);var y=Jn(s,m),v=Jn(s,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{rc=i,O.p=r,M.T=n}}e.current=t,Cc=2}}function ou(){if(2===Cc){Cc=0;var e=Dc,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=O.p;O.p=2;var i=rc;rc|=4;try{Tl(e,t.alternate,t)}finally{rc=i,O.p=r,M.T=n}}Cc=3}}function au(){if(4===Cc||3===Cc){Cc=0,ee();var e=Dc,t=_c,n=Rc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,_c=Dc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tc=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,i=O.p,O.p=2,M.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{M.T=t,O.p=i}}0!==(3&Rc)&&lu(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Mc?Nc++:(Nc=0,Mc=e):Nc=0,Eu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mi(t)))}function lu(e){return iu(),ou(),au(),cu()}function cu(){if(5!==Cc)return!1;var e=Dc,t=Ic;Ic=0;var n=Re(Rc),r=M.T,i=O.p;try{O.p=32>n?32:n,M.T=null,n=Pc,Pc=null;var o=Dc,s=Rc;if(Cc=0,_c=Dc=null,Rc=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,Jl(o.current),Vl(o,o.current,s,n),rc=l,Eu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{O.p=i,M.T=r,su(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=oo(e,t=Es(e.stateNode,t,2),2))&&(Te(e,2),Su(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Tc||!Tc.has(r))){e=Er(n,e),null!==(r=oo(t,n=Ts(2),2))&&(Cs(n,r,t,e),Te(r,2),Su(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===pc||3===pc&&(62914560&ac)===ac&&300>te()-xc?0===(2&rc)&&Vc(e,0):gc|=n,vc===ac&&(vc=0)),Su(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Te(e,t),Su(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,ku=!1,xu=0;function Su(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,hd(function(){0!==(6&rc)?$(re,Tu):Cu()}))}function Eu(e,t){if(!ku&&wu){ku=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Ru(r,o))}else o=ac,0===(3&(o=be(r,r===ic?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Ru(r,o));r=r.next}}while(n);ku=!1}}function Tu(){Cu()}function Cu(){wu=bu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,o=Du(r,t);0===o?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(wu=!0)),r=i}Eu(e,!1)}function Du(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-pe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ke(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Re(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=_u.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Du(e,te()),null!=e.callbackNode&&e.callbackNode===n?_u.bind(null,e):null)}function Ru(e,t){if(lu())return null;Fc(e,t,!0)}function Iu(){return 0===xu&&(xu=xe()),xu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<kr.length;Nu++){var Mu=kr[Nu];xr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}xr(pr,"onAnimationEnd"),xr(fr,"onAnimationIteration"),xr(mr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(gr,"onTransitionRun"),xr(yr,"onTransitionStart"),xr(vr,"onTransitionCancel"),xr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Bu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Wu]){e[Wu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(ju.has(t)||Bu(t,!1,e),Bu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wu]||(t[Wu]=!0,Bu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=oh;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ue(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}jt(function(){var r=o,i=Pt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case fr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Lt(m,p))&&d.push(Vu(m,g,f)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Me])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?s:qe(c),f=null==u?s:qe(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=f,g=null,Ue(i)===r&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Ku(f))m++;for(f=0,g=p;g;g=Ku(g))f++;for(;0<m-f;)d=Ku(d),m--;for(;0<f-m;)p=Ku(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ku(d),p=Ku(p)}d=null}else d=null;null!==c&&Yu(a,s,c,d,!1),null!==u&&null!==h&&Yu(a,h,u,d,!0)}if("select"===(c=(s=r?qe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(An(s))if(Bn)y=Gn;else{y=Kn;var v=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(y=Fn):y=Yn;switch(y&&(y=y(e,r))?Nn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?qe(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var b;if(xn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?_n(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(In||"onCompositionStart"!==w?"onCompositionEnd"===w&&In&&(b=Vt()):(zt="value"in(Ut=i)?Ut.value:Ut.textContent,In=!0)),0<(v=Hu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!xn&&_n(e,t)?(e=Vt(),qt=zt=Ut=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Pu((i[Ne]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ne]||null)?Pu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=a?Au(i,a):new FormData(i);Pa(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Au(i,a):new FormData(i),Pa(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Lt(e,n))&&r.unshift(Vu(e,i,o)),null!=(i=Lt(e,t))&&r.push(Vu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Lt(n,o))&&a.unshift(Vu(n,c,l)):i||null!=(c=Lt(n,o))&&a.push(Vu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Dt.get(n)||n,r)}}function ed(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ne]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,s,n,null)}}return o&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,s,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,s,l,n,null)}return kt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Fu(Ou[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(pd)}:cd;function pd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&xd(a.documentElement),2&n&&xd(a.body),4&n)for(xd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void _h(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);_h(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);We(e)}var Sd=new Map,Ed=new Set;function Td(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=O.d;O.d={f:function(){var e=Cd.f(),t=zc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):Cd.r(e)},D:function(e){Cd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Dd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Id(e);break;case"script":o=Nd(e)}Sd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(o))||"script"===t&&r.querySelector(Md(o))||(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Dd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nd(e)}if(!Sd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(o)))return}td(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Dd;if(n&&e){var r=Ve(n).hoistableScripts,i=Nd(e),o=r.get(i);o||((o=n.querySelector(Md(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Fd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Cd.S(e,t,n);var r=Dd;if(r&&e){var i=Ve(r).hoistableStyles,o=Id(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Pd(o)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Ld(e,n);var l=a=r.createElement("link");He(l),td(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,jd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Cd.M(e,t);var n=Dd;if(n&&e){var r=Ve(n).hoistableScripts,i=Nd(e),o=r.get(i);o||((o=n.querySelector(Md(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Fd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Dd="undefined"===typeof document?null:document;function _d(e,t,n){var r=Dd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Rd(e,t,n,r){var i,o,s,l,c=(c=V.current)?Td(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Id(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Id(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,o=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),td(o,"link",s),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Id(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),jd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Id(n.href);var o=e.querySelector(Pd(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Ad(n),(i=Sd.get(i))&&Ld(r,i),He(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),td(o,"link",r),t.state.loading|=4,jd(o,n.precedence,e),t.instance=o;case"script":return o=Nd(n.src),(i=e.querySelector(Md(o)))?(t.instance=i,He(i),i):(r=n,(i=Sd.get(o))&&Fd(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,jd(r,n.precedence,e));return t.instance}function jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bd=null;function Wd(e,t,n){if(null===Bd){var r=new Map,i=Bd=new Map;i.set(n,r)}else(r=(i=Bd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Be]||o[Ae]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Yd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Gd,e),Kd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:k,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Xd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,n,r,i,o,a,s,l,c,u,d){return e=new Xd(e,t,n,a,s,l,c,d),t=1,!0===o&&(t|=24),o=jr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ni()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Jd(e){return e?e=Mr:Mr}function Zd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),ao(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Lc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=M.T;M.T=null;var o=O.p;try{O.p=2,ah(e,t,n,r)}finally{O.p=o,M.T=i}}function oh(e,t,n,r){var i=M.T;M.T=null;var o=O.p;try{O.p=8,ah(e,t,n,r)}finally{O.p=o,M.T=i}}function ah(e,t,n,r){if(rh){var i=sh(r);if(null===i)qu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,i),!0;case"dragenter":return ph=wh(ph,e,t,n,r,i),!0;case"mouseover":return fh=wh(fh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return mh.set(o,wh(mh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gh.set(o,wh(gh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var o=ze(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-pe(a);s.entanglements[1]|=l,a&=~l}Su(o),0===(6&rc)&&(Sc=te()+500,Eu(0,!1))}}break;case 13:null!==(s=Pr(o,2))&&Lc(s,0,2),zc(),th(o,2)}if(null===(o=sh(r))&&qu(e,t,r,lh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qu(e,t,r,null,n)}}function sh(e){return ch(e=Pt(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,ph=null,fh=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function wh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ze(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function kh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=_e(e);var t=Pr(n,e);null!==t&&Lc(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Sh(e,t,n){xh(e)&&n.delete(t)}function Eh(){dh=!1,null!==hh&&xh(hh)&&(hh=null),null!==ph&&xh(ph)&&(ph=null),null!==fh&&xh(fh)&&(fh=null),mh.forEach(Sh),gh.forEach(Sh)}function Th(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eh)))}var Ch=null;function Dh(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var o=ze(n);null!==o&&(e.splice(t,3),t-=3,Pa(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function _h(e){function t(t){return Th(t,e)}null!==hh&&Th(hh,e),null!==ph&&Th(ph,e),null!==fh&&Th(fh,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)kh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Ne]||null;if("function"===typeof o)a||Dh(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ne]||null)s=a.formAction;else if(null!==ch(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Dh(n)}}}function Rh(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=Rh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zd(t.current,Oc(),e,t,null,null)},Ih.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),zc(),t[Me]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&kh(e)}};var Ph=i.version;if("19.1.1"!==Ph)throw Error(a(527,Ph,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ue=Nh.inject(Ah),de=Nh}catch(Oh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=bs,o=ws,l=ks;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,i,o,l,0,null),e[Me]=t.current,Uu(e),new Rh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=bs,l=ws,c=ks,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=io(r=_e(r=Oc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Te(t,n),Su(t),e[Me]=t.current,Uu(e),new Ih(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(){}function R(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+D(e,0):o,k(a)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),R(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,f=""===o?".":o+":";if(k(e))for(var m=0;m<e.length;m++)u+=R(o=e[m],t,i,s=f+D(o,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=R(o=o.value,t,i,s=f+D(o,m++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,A)}catch(o){A(o)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},379:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(705);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},578:(e,t,n)=>{n.d(t,{O:()=>s});var r=n(379);const i={marathon:[{goalTime:"6:00:00",paces:{easy:{min:"12:52",max:"14:04",km:"8:00-8:44"},marathon:{pace:"13:38",km:"8:28"},threshold:{pace:"11:42",km:"7:16"},interval:{pace:"10:00",km:"6:13"}},trackIntervals:{threshold:{"1200m":"8:43","800m":"5:49","600m":"4:22"},interval:{"400m":"2:29","300m":"1:53","200m":"1:15"}}},{goalTime:"5:45:00",paces:{easy:{min:"12:35",max:"13:45",km:"7:49-8:33"},marathon:{pace:"13:05",km:"8:08"},threshold:{pace:"11:20",km:"7:02"},interval:{pace:"9:46",km:"6:04"}},trackIntervals:{threshold:{"1200m":"8:27","800m":"5:38","600m":"4:13"},interval:{"400m":"2:26","300m":"1:49","200m":"1:13"}}},{goalTime:"5:30:00",paces:{easy:{min:"12:17",max:"13:26",km:"7:38-8:21"},marathon:{pace:"12:32",km:"7:47"},threshold:{pace:"10:57",km:"6:49"},interval:{pace:"9:31",km:"5:55"}},trackIntervals:{threshold:{"1200m":"8:10","800m":"5:27","600m":"4:05"},interval:{"400m":"2:22","300m":"1:46","200m":"1:11"}}},{goalTime:"5:15:00",paces:{easy:{min:"11:58",max:"13:06",km:"7:26-8:08"},marathon:{pace:"11:58",km:"7:26"},threshold:{pace:"10:34",km:"6:34"},interval:{pace:"9:16",km:"5:45"}},trackIntervals:{threshold:{"1200m":"7:53","800m":"5:15","600m":"3:57"},interval:{"400m":"2:18","300m":"1:44","200m":"1:09"}}},{goalTime:"5:00:00",paces:{easy:{min:"11:38",max:"12:45",km:"7:14-7:55"},marathon:{pace:"11:25",km:"7:05"},threshold:{pace:"10:11",km:"6:20"},interval:{pace:"9:00",km:"5:35"}},trackIntervals:{threshold:{"1200m":"7:36","800m":"5:04","600m":"3:48"},interval:{"400m":"2:14","300m":"1:41","200m":"1:07"}}},{goalTime:"4:45:00",paces:{easy:{min:"11:18",max:"12:23",km:"7:01-7:42"},marathon:{pace:"10:51",km:"6:45"},threshold:{pace:"9:47",km:"6:05"},interval:{pace:"8:43",km:"5:25"}},trackIntervals:{threshold:{"1200m":"7:18","800m":"4:52","600m":"3:39"},interval:{"400m":"2:10","300m":"1:38","200m":"1:05"}}},{goalTime:"4:30:00",paces:{easy:{min:"10:57",max:"12:00",km:"6:48-7:27"},marathon:{pace:"10:17",km:"6:24"},threshold:{pace:"9:22",km:"5:49"},interval:{pace:"8:26",km:"5:15"}},trackIntervals:{threshold:{"1200m":"6:59","800m":"4:40","600m":"3:30"},interval:{"400m":"2:06","300m":"1:34","200m":"1:03"}}},{goalTime:"4:15:00",paces:{easy:{min:"10:34",max:"11:36",km:"6:34-7:13"},marathon:{pace:"9:43",km:"6:02"},threshold:{pace:"8:57",km:"5:34"},interval:{pace:"8:08",km:"5:03"}},trackIntervals:{threshold:{"1200m":"6:41","800m":"4:27","600m":"3:20"},interval:{"400m":"2:01","300m":"1:31","200m":"1:01"}}},{goalTime:"4:00:00",paces:{easy:{min:"10:11",max:"11:11",km:"6:20-6:57"},marathon:{pace:"9:09",km:"5:41"},threshold:{pace:"8:32",km:"5:18"},interval:{pace:"7:50",km:"4:52"}},trackIntervals:{threshold:{"1200m":"6:22","800m":"4:14","600m":"3:11"},interval:{"400m":"1:57","300m":"1:28","200m":"0:58"}}},{goalTime:"3:45:00",paces:{easy:{min:"9:39",max:"10:36",km:"6:00-6:35"},marathon:{pace:"8:35",km:"5:20"},threshold:{pace:"8:02",km:"5:00"},interval:{pace:"7:24",km:"4:36"}},trackIntervals:{threshold:{"1200m":"6:00","800m":"4:00","600m":"3:00"},interval:{"400m":"1:50","300m":"1:23","200m":"0:55"}}},{goalTime:"3:30:00",paces:{easy:{min:"9:02",max:"9:56",km:"5:37-6:11"},marathon:{pace:"8:01",km:"4:59"},threshold:{pace:"7:31",km:"4:40"},interval:{pace:"6:55",km:"4:18"}},trackIntervals:{threshold:{"1200m":"5:36","800m":"3:44","600m":"2:48"},interval:{"400m":"1:43","300m":"1:17","200m":"0:52"}}},{goalTime:"3:15:00",paces:{easy:{min:"8:25",max:"9:16",km:"5:14-5:46"},marathon:{pace:"7:26",km:"4:37"},threshold:{pace:"7:00",km:"4:21"},interval:{pace:"6:26",km:"4:00"}},trackIntervals:{threshold:{"1200m":"5:13","800m":"3:29","600m":"2:37"},interval:{"400m":"1:36","300m":"1:12","200m":"0:48"}}},{goalTime:"3:00:00",paces:{easy:{min:"7:48",max:"8:36",km:"4:51-5:21"},marathon:{pace:"6:52",km:"4:16"},threshold:{pace:"6:29",km:"4:02"},interval:{pace:"5:58",km:"3:42"}},trackIntervals:{threshold:{"1200m":"4:50","800m":"3:13","600m":"2:25"},interval:{"400m":"1:29","300m":"1:07","200m":"0:44"}}},{goalTime:"2:45:00",paces:{easy:{min:"7:11",max:"7:55",km:"4:28-4:55"},marathon:{pace:"6:18",km:"3:55"},threshold:{pace:"5:58",km:"3:42"},interval:{pace:"5:29",km:"3:24"}},trackIntervals:{threshold:{"1200m":"4:27","800m":"2:58","600m":"2:13"},interval:{"400m":"1:22","300m":"1:01","200m":"0:41"}}},{goalTime:"2:30:00",paces:{easy:{min:"6:33",max:"7:14",km:"4:04-4:30"},marathon:{pace:"5:43",km:"3:33"},threshold:{pace:"5:27",km:"3:23"},interval:{pace:"5:01",km:"3:07"}},trackIntervals:{threshold:{"1200m":"4:04","800m":"2:42","600m":"2:02"},interval:{"400m":"1:15","300m":"0:56","200m":"0:37"}}},{goalTime:"2:15:00",paces:{easy:{min:"5:56",max:"6:33",km:"3:41-4:04"},marathon:{pace:"5:09",km:"3:12"},threshold:{pace:"4:56",km:"3:04"},interval:{pace:"4:32",km:"2:49"}},trackIntervals:{threshold:{"1200m":"3:40","800m":"2:27","600m":"1:50"},interval:{"400m":"1:08","300m":"0:51","200m":"0:34"}}},{goalTime:"2:00:00",paces:{easy:{min:"5:18",max:"5:51",km:"3:18-3:38"},marathon:{pace:"4:34",km:"2:50"},threshold:{pace:"4:25",km:"2:44"},interval:{pace:"4:04",km:"2:32"}},trackIntervals:{threshold:{"1200m":"3:17","800m":"2:12","600m":"1:39"},interval:{"400m":"1:01","300m":"0:45","200m":"0:30"}}}],"10K":[{goalTime:"80:00",paces:{easy:{min:"13:14",max:"14:28",km:"8:13-8:59"},marathon:{pace:"14:04",km:"8:44"},threshold:{pace:"11:58",km:"7:26"},interval:{pace:"10:11",km:"6:20"}},trackIntervals:{threshold:{"1200m":"8:56","800m":"5:58","600m":"4:28"},interval:{"400m":"2:32","300m":"1:54","200m":"1:16"}}},{goalTime:"70:00",paces:{easy:{min:"12:18",max:"13:27",km:"7:38-8:21"},marathon:{pace:"12:35",km:"7:49"},threshold:{pace:"10:59",km:"6:49"},interval:{pace:"9:33",km:"5:56"}},trackIntervals:{threshold:{"1200m":"8:12","800m":"5:28","600m":"4:06"},interval:{"400m":"2:23","300m":"1:47","200m":"1:11"}}},{goalTime:"60:00",paces:{easy:{min:"11:11",max:"12:15",km:"6:57-7:37"},marathon:{pace:"10:58",km:"6:49"},threshold:{pace:"9:48",km:"6:05"},interval:{pace:"8:39",km:"5:22"}},trackIntervals:{threshold:{"1200m":"7:19","800m":"4:53","600m":"3:40"},interval:{"400m":"2:09","300m":"1:37","200m":"1:04"}}},{goalTime:"55:00",paces:{easy:{min:"10:32",max:"11:32",km:"6:33-7:10"},marathon:{pace:"10:15",km:"6:22"},threshold:{pace:"9:09",km:"5:41"},interval:{pace:"8:08",km:"5:03"}},trackIntervals:{threshold:{"1200m":"6:50","800m":"4:33","600m":"3:25"},interval:{"400m":"2:01","300m":"1:31","200m":"1:01"}}},{goalTime:"50:00",paces:{easy:{min:"9:51",max:"10:48",km:"6:07-6:43"},marathon:{pace:"9:29",km:"5:53"},threshold:{pace:"8:29",km:"5:16"},interval:{pace:"7:35",km:"4:43"}},trackIntervals:{threshold:{"1200m":"6:20","800m":"4:13","600m":"3:10"},interval:{"400m":"1:53","300m":"1:25","200m":"0:57"}}},{goalTime:"45:00",paces:{easy:{min:"9:07",max:"10:00",km:"5:40-6:13"},marathon:{pace:"8:41",km:"5:23"},threshold:{pace:"7:46",km:"4:50"},interval:{pace:"6:58",km:"4:20"}},trackIntervals:{threshold:{"1200m":"5:48","800m":"3:52","600m":"2:54"},interval:{"400m":"1:44","300m":"1:18","200m":"0:52"}}},{goalTime:"42:00",paces:{easy:{min:"8:42",max:"9:32",km:"5:24-5:56"},marathon:{pace:"8:15",km:"5:08"},threshold:{pace:"7:23",km:"4:35"},interval:{pace:"6:38",km:"4:07"}},trackIntervals:{threshold:{"1200m":"5:31","800m":"3:40","600m":"2:45"},interval:{"400m":"1:39","300m":"1:14","200m":"0:50"}}},{goalTime:"38:00",paces:{easy:{min:"8:07",max:"8:56",km:"5:02-5:33"},marathon:{pace:"7:36",km:"4:43"},threshold:{pace:"6:51",km:"4:15"},interval:{pace:"6:10",km:"3:50"}},trackIntervals:{threshold:{"1200m":"5:07","800m":"3:24","600m":"2:33"},interval:{"400m":"1:32","300m":"1:09","200m":"0:46"}}},{goalTime:"32:00",paces:{easy:{min:"7:13",max:"7:56",km:"4:29-4:56"},marathon:{pace:"6:40",km:"4:09"},threshold:{pace:"6:03",km:"3:45"},interval:{pace:"5:28",km:"3:23"}},trackIntervals:{threshold:{"1200m":"4:31","800m":"3:01","600m":"2:16"},interval:{"400m":"1:22","300m":"1:01","200m":"0:41"}}}],halfMarathon:[{goalTime:"3:00:00",paces:{easy:{min:"12:59",max:"14:11",km:"8:04-8:49"},marathon:{pace:"13:51",km:"8:36"},threshold:{pace:"11:50",km:"7:21"},interval:{pace:"10:05",km:"6:16"}},trackIntervals:{threshold:{"1200m":"8:50","800m":"5:53","600m":"4:25"},interval:{"400m":"2:30","300m":"1:53","200m":"1:15"}}},{goalTime:"2:45:00",paces:{easy:{min:"12:25",max:"13:34",km:"7:43-8:26"},marathon:{pace:"12:46",km:"7:56"},threshold:{pace:"11:07",km:"6:55"},interval:{pace:"9:37",km:"5:59"}},trackIntervals:{threshold:{"1200m":"8:17","800m":"5:32","600m":"4:09"},interval:{"400m":"2:23","300m":"1:48","200m":"1:12"}}},{goalTime:"2:30:00",paces:{easy:{min:"11:48",max:"12:55",km:"7:20-8:02"},marathon:{pace:"11:40",km:"7:15"},threshold:{pace:"10:22",km:"6:26"},interval:{pace:"9:07",km:"5:40"}},trackIntervals:{threshold:{"1200m":"7:44","800m":"5:09","600m":"3:52"},interval:{"400m":"2:16","300m":"1:42","200m":"1:08"}}},{goalTime:"2:15:00",paces:{easy:{min:"11:07",max:"12:12",km:"6:55-7:35"},marathon:{pace:"10:34",km:"6:34"},threshold:{pace:"9:35",km:"5:57"},interval:{pace:"8:35",km:"5:20"}},trackIntervals:{threshold:{"1200m":"7:08","800m":"4:46","600m":"3:34"},interval:{"400m":"2:08","300m":"1:36","200m":"1:04"}}},{goalTime:"2:00:00",paces:{easy:{min:"10:23",max:"11:24",km:"6:27-7:05"},marathon:{pace:"9:27",km:"5:52"},threshold:{pace:"8:45",km:"5:26"},interval:{pace:"7:59",km:"4:58"}},trackIntervals:{threshold:{"1200m":"6:32","800m":"4:21","600m":"3:16"},interval:{"400m":"1:59","300m":"1:29","200m":"1:00"}}},{goalTime:"1:45:00",paces:{easy:{min:"9:21",max:"10:17",km:"5:49-6:23"},marathon:{pace:"8:19",km:"5:10"},threshold:{pace:"7:48",km:"4:51"},interval:{pace:"7:10",km:"4:27"}},trackIntervals:{threshold:{"1200m":"5:49","800m":"3:52","600m":"2:54"},interval:{"400m":"1:47","300m":"1:20","200m":"0:53"}}},{goalTime:"1:30:00",paces:{easy:{min:"8:07",max:"8:56",km:"5:02-5:33"},marathon:{pace:"7:09",km:"4:27"},threshold:{pace:"6:45",km:"4:11"},interval:{pace:"6:12",km:"3:51"}},trackIntervals:{threshold:{"1200m":"5:02","800m":"3:21","600m":"2:31"},interval:{"400m":"1:33","300m":"1:09","200m":"0:46"}}},{goalTime:"1:15:00",paces:{easy:{min:"6:51",max:"7:33",km:"4:15-4:42"},marathon:{pace:"5:59",km:"3:43"},threshold:{pace:"5:41",km:"3:32"},interval:{pace:"5:14",km:"3:15"}},trackIntervals:{threshold:{"1200m":"4:14","800m":"2:49","600m":"2:07"},interval:{"400m":"1:18","300m":"0:58","200m":"0:39"}}},{goalTime:"1:00:00",paces:{easy:{min:"5:33",max:"6:07",km:"3:27-3:48"},marathon:{pace:"4:47",km:"2:59"},threshold:{pace:"4:36",km:"2:52"},interval:{pace:"4:15",km:"2:38"}},trackIntervals:{threshold:{"1200m":"3:26","800m":"2:17","600m":"1:43"},interval:{"400m":"1:03","300m":"0:47","200m":"0:32"}}}]};function o(e){const t=e.split(":").map(Number);return 60*t[0]+t[1]}function a(e){const t=Math.floor(e/60),n=Math.round(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))}e=n.hmd(e);class s{constructor(){this.distanceMap={"10K":"10K","10k":"10K","10 K":"10K",Marathon:"marathon",marathon:"marathon",MARATHON:"marathon","Half Marathon":"halfMarathon",Half:"halfMarathon",half:"halfMarathon",halfMarathon:"halfMarathon",HalfMarathon:"halfMarathon"},this.validRanges={"10K":{min:"30:00",max:"90:00"},marathon:{min:"2:00:00",max:"6:00:00"},halfMarathon:{min:"1:00:00",max:"3:00:00"}}}timeToSeconds(e){const t=e.split(":").map(Number);if(2===t.length)return 60*t[0]+t[1];if(3===t.length)return 3600*t[0]+60*t[1]+t[2];throw new Error("Invalid time format. Use MM:SS or H:MM:SS")}secondsToTime(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.round(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}normalizeDistance(e){const t=this.distanceMap[e];if(!t)throw new Error("Unsupported race distance: ".concat(e,". Use 'Marathon' or 'Half Marathon'"));return t}isWithinRange(e,t){const n=this.validRanges[e],r=this.timeToSeconds(n.min),i=this.timeToSeconds(n.max);return t>=r&&t<=i}getRangeMessage(e){const t=this.validRanges[e];return"Training plans are designed for ".concat("marathon"===e?"Marathon":"Half Marathon"," times between ").concat(t.min," and ").concat(t.max,". ")+"For goals outside this range, please reach out to the developer for additional support."}findExactMatch(e,t){const n=i[e];return n&&n.find(e=>e.goalTime===t)||null}findSurroundingPoints(e,t){const n=i[e];if(!n)return null;const o=n.map(e=>(0,r.A)((0,r.A)({},e),{},{seconds:this.timeToSeconds(e.goalTime)})).sort((e,t)=>e.seconds-t.seconds);let a=null,s=null;for(let r=0;r<o.length;r++)if(o[r].seconds<=t&&(a=o[r]),o[r].seconds>=t&&!s){s=o[r];break}return a&&s?{lowerPoint:a,upperPoint:s}:null}interpolatePace(e,t,n){const r=o(e);return a(r+(o(t)-r)*n)}interpolatePaceData(e,t,n){const r=this.findSurroundingPoints(e,n);if(!r)throw new Error("Unable to find data points for interpolation");const{lowerPoint:i,upperPoint:o}=r;if(i.goalTime===o.goalTime)return{goalTime:t,paces:i.paces,trackIntervals:i.trackIntervals,interpolated:!1};const a=o.seconds-i.seconds,s=(n-i.seconds)/a,l={easy:{min:this.interpolatePace(i.paces.easy.min,o.paces.easy.min,s),max:this.interpolatePace(i.paces.easy.max,o.paces.easy.max,s),km:i.paces.easy.km},marathon:{pace:this.interpolatePace(i.paces.marathon.pace,o.paces.marathon.pace,s),km:i.paces.marathon.km},threshold:{pace:this.interpolatePace(i.paces.threshold.pace,o.paces.threshold.pace,s),km:i.paces.threshold.km},interval:{pace:this.interpolatePace(i.paces.interval.pace,o.paces.interval.pace,s),km:i.paces.interval.km}},c={threshold:{},interval:{}};for(const[u,d]of Object.entries(i.trackIntervals.threshold))c.threshold[u]=this.interpolatePace(i.trackIntervals.threshold[u],o.trackIntervals.threshold[u],s);for(const[u,d]of Object.entries(i.trackIntervals.interval))c.interval[u]=this.interpolatePace(i.trackIntervals.interval[u],o.trackIntervals.interval[u],s);return{goalTime:t,paces:l,trackIntervals:c,interpolated:!0,interpolatedBetween:{lower:i.goalTime,upper:o.goalTime}}}getPaceData(e,t){const n=this.normalizeDistance(e),i=this.timeToSeconds(t);if(!this.isWithinRange(n,i))throw new Error(this.getRangeMessage(n));const o=this.findExactMatch(n,t);return o?(0,r.A)((0,r.A)({},o),{},{interpolated:!1}):this.interpolatePaceData(n,t,i)}calculateFromGoal(e,t){try{const n=this.getPaceData(e,t);return(0,r.A)({distance:e,goalTime:t,paces:{easy:{pace:"".concat(n.paces.easy.min,"-").concat(n.paces.easy.max),min:n.paces.easy.min,max:n.paces.easy.max,description:"Easy/Recovery runs",heartRate:"65-79% max HR"},marathon:{pace:n.paces.marathon.pace,description:"Marathon race pace",heartRate:"80-85% max HR"},threshold:{pace:n.paces.threshold.pace,description:"Tempo/Threshold runs",heartRate:"86-90% max HR"},interval:{pace:n.paces.interval.pace,description:"VO2 Max intervals (3-8 min)",heartRate:"95-100% max HR"}},trackIntervals:n.trackIntervals,interpolated:n.interpolated},n.interpolated&&{interpolatedBetween:n.interpolatedBetween})}catch(n){throw new Error("Pace calculation failed: ".concat(n.message))}}estimateCurrentVDOT(e,t){let n=30;return!e||e<=0?n=t>=40?40:t>=30?35:t>=20?32:30:(n=e>=18?42:e>=15?40:e>=13?38:e>=10?36:e>=8?34:e>=6?32:30,t>=50?n+=2:t<20&&(n-=2)),Math.max(25,Math.min(55,n))}estimateRaceTimeFromVDOT(e,t){const n={25:{"10K":"65:00",halfMarathon:"2:35:00",marathon:"5:30:00"},30:{"10K":"58:00",halfMarathon:"2:15:00",marathon:"4:45:00"},32:{"10K":"55:00",halfMarathon:"2:08:00",marathon:"4:30:00"},34:{"10K":"52:00",halfMarathon:"2:02:00",marathon:"4:15:00"},36:{"10K":"49:30",halfMarathon:"1:56:00",marathon:"4:02:00"},38:{"10K":"47:00",halfMarathon:"1:50:00",marathon:"3:50:00"},40:{"10K":"45:00",halfMarathon:"1:45:00",marathon:"3:40:00"},42:{"10K":"43:00",halfMarathon:"1:40:00",marathon:"3:30:00"},45:{"10K":"40:30",halfMarathon:"1:33:00",marathon:"3:15:00"},50:{"10K":"37:00",halfMarathon:"1:23:00",marathon:"2:55:00"}},r=Object.keys(n).map(Number).sort((e,t)=>e-t);let i=r[0];for(const a of r)Math.abs(a-e)<Math.abs(i-e)&&(i=a);const o=this.normalizeDistance(t);return n[i][o]||"2:00:00"}calculateFromCurrentFitness(e,t,n){const r=this.estimateCurrentVDOT(e,t),i=this.estimateRaceTimeFromVDOT(r,n);return console.log("\ud83d\udcca Estimated current fitness: VDOT ".concat(r," = ").concat(n," in ").concat(i)),this.calculateFromGoal(n,i)}blendPaces(e,t,n,r){const i=(n-1)/(r-1),s=this.smoothProgressionCurve(i),l=(e,t)=>{const n=o(e);return a(n-(n-o(t))*s)},c=e.paces||e,u=t.paces||t;return{paces:{easy:(d=c.easy.min,h=c.easy.max,p=u.easy.min,f=u.easy.max,{min:l(d,p),max:l(h,f)}),marathon:{pace:l(c.marathon.pace,u.marathon.pace)},threshold:{pace:l(c.threshold.pace,u.threshold.pace)},interval:{pace:l(c.interval.pace,u.interval.pace)}},progressionRatio:s,weekNumber:n,totalWeeks:r};var d,h,p,f}smoothProgressionCurve(e){return e<.3?.5*e:e<.7?.15+1.5*(e-.3):.75+.833*(e-.7)}calculateRunEqDistance(e){const t=2*e;return{runDistance:e,bikeDistance:t,factor:2,description:"Ride ".concat(t," miles on stand-up bike (").concat(2,"x run equivalent)")}}getAvailableGoalTimes(e){const t=this.normalizeDistance(e),n=i[t];return n?n.map(e=>e.goalTime):[]}}e.exports&&(e.exports={PaceCalculator:s})},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},705:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o})},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&A(x,t.startTime-e)}}var S,E=!1,T=-1,C=5,D=-1;function _(){return!!y||!(t.unstable_now()-D<C)}function R(){if(y=!1,E){var e=t.unstable_now();D=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(T),T=-1),f=!0;var o=p;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,k(e),n=!0;break t}h===r(c)&&i(c),k(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(x,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof w)S=function(){w(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){v(R,0)};function A(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(T),T=-1):g=!0,A(x,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".6069e135.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="run-plus-plans:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkrun_plus_plans=self.webpackChunkrun_plus_plans||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),o=n.t(i,2),a=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){f=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:f,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),""));let w={get action(){return f},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),m=e,()=>{o.removeEventListener(l,v),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=y()+1;let s=d(i,g),l=w.createHref(i);try{u.pushState(s,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}a&&m&&m({action:f,location:w.location,delta:1})},replace:function(e,t){f=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=y();let o=d(i,g),s=w.createHref(i);u.replaceState(o,"",s),a&&m&&m({action:f,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=A(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=P(i);a=R(o[s],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:_(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=w(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,x=3,S=2,E=1,T=10,C=-2,D=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=C),t&&(r+=S),n.filter(e=>!D(e)).reduce((e,t)=>e+(k.test(t)?x:""===t?E:T),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([o,u.pathname]),pathnameBase:F(L([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=L([o,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let o,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:B(r),hash:W(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const H=i.createContext(null);const K=i.createContext(null);const Y=i.createContext(null);const G=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function $(){return null!=i.useContext(G)}function J(){return $()||c(!1),i.useContext(G).location}function Z(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=de(le.UseNavigateStable),n=i.useRef(!1);return Z(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},i)))},[e,t])}():function(){$()||c(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext(Q),{pathname:a}=J(),s=JSON.stringify(O(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=j(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:L([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,s,a,e])}()}function te(e,t,n,o){$()||c(!1);let{navigator:a}=i.useContext(Y),{matches:s}=i.useContext(Q),l=s[s.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=J();if(t){var m;let e="string"===typeof t?f(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let w=ae(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,o);return t&&w?i.createElement(G.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function ne(){let e=function(){var e;let t=i.useContext(X),n=ue(le.UseRouteError),r=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const re=i.createElement(ne,null);class ie extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(H);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function ae(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,r,o)=>{let a,c=!1,h=null,p=null;var f;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||re,u&&(d<0&&0===o?(f="route-fallback",!1||he[f]||(he[f]=!0),c=!0,p=null):d===o&&(c=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:c?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=i.useContext(H);return t||c(!1),t}function ue(e){let t=i.useContext(K);return t||c(!1),t}function de(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const he={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function fe(e){let{to:t,replace:n,state:r,relative:o}=e;$()||c(!1);let{future:a,static:s}=i.useContext(Y),{matches:l}=i.useContext(Q),{pathname:u}=J(),d=ee(),h=j(t,O(l,a.v7_relativeSplatPath),u,"path"===o),p=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:o}),[d,p,o,n,r]),null}function me(e){c(!1)}function ge(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:u}=e;$()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:s,static:l,future:V({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=i.useMemo(()=>{let e=A(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}},[d,p,m,g,y,v,a]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(G.Provider,{children:n,value:b}))}function ye(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise(()=>{});i.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ve(e.props.children,o));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,o)),n.push(a)}),n}var be=n(950),we=n.t(be,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(XE){}new Map;const ke=o.startTransition;we.flushSync,o.useId;function xe(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback(e=>{d&&ke?ke(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(f),[l,f]),i.useEffect(()=>pe(r),[r]),i.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Se,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Se||(Se={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));function Te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ce=n(379);const De=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Re;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(e){return function(e){const t=De(e);return _e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pe=function(e){try{return _e.decodeString(e,!0)}catch(XE){console.error("base64Decode failed: ",XE)}return null};function Ae(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ne=()=>{try{return Ae().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(XE){return}const t=e&&Pe(e[1]);return t&&JSON.parse(t)})()}catch(XE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(XE))}},Me=e=>{var t;return null===(t=Ne())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Oe=()=>{var e;return null===(e=Ne())||void 0===e?void 0:e.config},je=e=>{var t;return null===(t=Ne())||void 0===t?void 0:t["_".concat(e)]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Fe(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Be(e){return(await fetch(e,{credentials:"include"})).ok}const We={};let Ue=!1;function ze(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Fe(window.location.host)||We[e]===t||We[e]||Ue)return;function n(e){return"__firebase__banner__".concat(e)}We[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(We))We[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ue=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ve(){var e;const t=null===(e=Ne())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(XE){return!1}}function He(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ke(){return!Ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"===typeof indexedDB}catch(XE){return!1}}function Ge(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace($e,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Qe(n,o,t)}}const $e=/\{\$([^}]+)}/g;function Je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ze(n)&&Ze(o)){if(!Je(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(XE){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(XE){"undefined"!==typeof console&&console.error&&console.error(XE)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function it(){}function ot(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function at(e){return e&&e._delegate?e._delegate:e}class st{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lt="[DEFAULT]";class ct{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Le;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(XE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(XE){if(r)return null;throw XE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(XE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(XE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===lt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ct(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dt=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const pt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},ft=ht.INFO,mt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},gt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=mt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class yt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=gt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?pt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}let vt,bt;const wt=new WeakMap,kt=new WeakMap,xt=new WeakMap,St=new WeakMap,Et=new WeakMap;let Tt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _t(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bt||(bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rt(this),n),_t(wt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _t(e.apply(Rt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Rt(this),t,...r);return xt.set(o,t.sort?t.sort():[t]),_t(o)}}function Dt(e){return"function"===typeof e?Ct(e):(e instanceof IDBTransaction&&function(e){if(kt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});kt.set(e,t)}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Tt):e);var t}function _t(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(_t(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&wt.set(t,e)}).catch(()=>{}),Et.set(t,e),t}(e);if(St.has(e))return St.get(e);const t=Dt(e);return t!==e&&(St.set(e,t),Et.set(t,e)),t}const Rt=e=>Et.get(e);function It(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=_t(a);return r&&a.addEventListener("upgradeneeded",e=>{r(_t(a.result),e.oldVersion,e.newVersion,_t(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Pt=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],Nt=new Map;function Mt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nt.get(t))return Nt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=At.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Nt.set(t,o),o}Tt=(e=>(0,Ce.A)((0,Ce.A)({},e),{},{get:(t,n,r)=>Mt(t,n)||e.get(t,n,r),has:(t,n)=>!!Mt(t,n)||e.has(t,n)}))(Tt);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const jt="@firebase/app",Lt="0.14.5",Ft=new yt("@firebase/app"),Bt="@firebase/app-compat",Wt="@firebase/analytics-compat",Ut="@firebase/analytics",zt="@firebase/app-check-compat",qt="@firebase/app-check",Vt="@firebase/auth",Ht="@firebase/auth-compat",Kt="@firebase/database",Yt="@firebase/data-connect",Gt="@firebase/database-compat",Qt="@firebase/functions",Xt="@firebase/functions-compat",$t="@firebase/installations",Jt="@firebase/installations-compat",Zt="@firebase/messaging",en="@firebase/messaging-compat",tn="@firebase/performance",nn="@firebase/performance-compat",rn="@firebase/remote-config",on="@firebase/remote-config-compat",an="@firebase/storage",sn="@firebase/storage-compat",ln="@firebase/firestore",cn="@firebase/ai",un="@firebase/firestore-compat",dn="firebase",hn="[DEFAULT]",pn={[jt]:"fire-core",[Bt]:"fire-core-compat",[Ut]:"fire-analytics",[Wt]:"fire-analytics-compat",[qt]:"fire-app-check",[zt]:"fire-app-check-compat",[Vt]:"fire-auth",[Ht]:"fire-auth-compat",[Kt]:"fire-rtdb",[Yt]:"fire-data-connect",[Gt]:"fire-rtdb-compat",[Qt]:"fire-fn",[Xt]:"fire-fn-compat",[$t]:"fire-iid",[Jt]:"fire-iid-compat",[Zt]:"fire-fcm",[en]:"fire-fcm-compat",[tn]:"fire-perf",[nn]:"fire-perf-compat",[rn]:"fire-rc",[on]:"fire-rc-compat",[an]:"fire-gcs",[sn]:"fire-gcs-compat",[ln]:"fire-fst",[un]:"fire-fst-compat",[cn]:"fire-vertex","fire-js":"fire-js",[dn]:"fire-js-all"},fn=new Map,mn=new Map,gn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(XE){Ft.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),XE)}}function vn(e){const t=e.name;if(gn.has(t))return Ft.debug("There were multiple attempts to register component ".concat(t,".")),!1;gn.set(t,e);for(const n of fn.values())yn(n,e);for(const n of mn.values())yn(n,e);return!0}function bn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const kn=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xn{constructor(e,t,n){this._isDeleted=!1,this._options=(0,Ce.A)({},e),this._config=(0,Ce.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new st("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const Sn="12.5.0";function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=(0,Ce.A)({name:hn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=Oe()),!n)throw kn.create("no-options");const o=fn.get(i);if(o){if(Je(n,o.options)&&Je(r,o.config))return o;throw kn.create("duplicate-app",{appName:i})}const a=new ut(i);for(const l of gn.values())a.addComponent(l);const s=new xn(n,r,a);return fn.set(i,s),s}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;const t=fn.get(e);if(!t&&e===hn&&Oe())return En();if(!t)throw kn.create("no-app",{appName:e});return t}function Cn(e,t,n){var r;let i=null!==(r=pn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ft.warn(e.join(" "))}vn(new st("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Dn="firebase-heartbeat-store";let _n=null;function Rn(){return _n||(_n=It("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Dn)}catch(XE){console.warn(XE)}}}).catch(e=>{throw kn.create("idb-open",{originalErrorMessage:e.message})})),_n}async function In(e,t){try{const n=(await Rn()).transaction(Dn,"readwrite"),r=n.objectStore(Dn);await r.put(t,Pn(e)),await n.done}catch(XE){if(XE instanceof Qe)Ft.warn(XE.message);else{const t=kn.create("idb-set",{originalErrorMessage:null===XE||void 0===XE?void 0:XE.message});Ft.warn(t.message)}}}function Pn(e){return"".concat(e.name,"!").concat(e.options.appId)}class An{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nn();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(XE){Ft.warn(XE)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),On(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),On(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ie(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(XE){return Ft.warn(XE),""}}}function Nn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&Ge().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rn()).transaction(Dn),n=await t.objectStore(Dn).get(Pn(e));return await t.done,n}catch(XE){if(XE instanceof Qe)Ft.warn(XE.message);else{const t=kn.create("idb-get",{originalErrorMessage:null===XE||void 0===XE?void 0:XE.message});Ft.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function On(e){return Ie(JSON.stringify({version:2,heartbeats:e})).length}var jn;jn="",vn(new st("platform-logger",e=>new Ot(e),"PRIVATE")),vn(new st("heartbeat",e=>new An(e),"PRIVATE")),Cn(jt,Lt,jn),Cn(jt,Lt,"esm2020"),Cn("fire-js","");const Ln=["providerId"],Fn=["uid","auth","stsTokenManager"],Bn=["providerId","signInMethod"];function Wn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Un=Wn,zn=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qn=new yt("@firebase/auth");function Vn(e){if(qn.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.error("Auth (".concat(Sn,"): ").concat(e),...n)}}function Hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qn(e,...n)}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qn(e,...n)}function Yn(e,t,n){const r=(0,Ce.A)((0,Ce.A)({},Un()),{},{[t]:n});return new Xe("auth","Firebase",r).create(t,{appName:e.name})}function Gn(e){return Yn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return zn.create(e,...n)}function Xn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Qn(t,...r)}}function $n(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vn(t),new Error(t)}function Jn(e,t){e||$n(t)}function Zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function er(){return"http:"===tr()||"https:"===tr()}function tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class nr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(er()||He()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function rr(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ir{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ar=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sr=new nr(3e4,6e4);function lr(e,t){return e.tenantId&&!t.tenantId?(0,Ce.A)((0,Ce.A)({},t),{},{tenantId:e.tenantId}):t}async function cr(e,t,n,r){return ur(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=et((0,Ce.A)({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=(0,Ce.A)({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Fe(e.emulatorConfig.host)&&(l.credentials="include"),ir.fetch()(await hr(e,e.config.apiHost,n,a),l)})}async function ur(e,t,n){e._canInitEmulator=!1;const r=(0,Ce.A)((0,Ce.A)({},or),t);try{const t=new fr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw mr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw mr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Yn(e,s,a);Hn(e,s)}}catch(XE){if(XE instanceof Qe)throw XE;Hn(e,"network-request-failed",{message:String(XE)})}}async function dr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await cr(e,t,n,r,i);return"mfaPendingCredential"in o&&Hn(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function hr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,a=o.config.emulator?rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(ar.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function pr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Kn(this.auth,"network-request-failed")),sr.get())})}}function mr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(e,t,r);return i.customData._tokenResponse=n,i}function gr(e){return void 0!==e&&void 0!==e.enterprise}class yr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vr(e,t){return cr(e,"GET","/v2/recaptchaConfig",lr(e,t))}async function br(e,t){return cr(e,"POST","/v1/accounts:lookup",t)}function wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(XE){}}function kr(e){return 1e3*Number(e)}function xr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pe(n);return e?JSON.parse(e):(Vn("Failed to decode base64 JWT payload"),null)}catch(XE){return Vn("Caught error parsing JWT payload as JSON",null===XE||void 0===XE?void 0:XE.toString()),null}}function Sr(e){const t=xr(e);return Xn(t,"internal-error"),Xn("undefined"!==typeof t.exp,"internal-error"),Xn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Er(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(XE){throw XE instanceof Qe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(XE)&&e.auth.currentUser===e&&await e.auth.signOut(),XE}}class Tr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(XE){return void((null===XE||void 0===XE?void 0:XE.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Cr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Er(e,br(n,{idToken:r}));Xn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?_r(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==s&&void 0!==s&&s.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function _r(e){return e.map(e=>{let{providerId:t}=e,n=Te(e,Ln);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xn(e.idToken,"internal-error"),Xn("undefined"!==typeof e.idToken,"internal-error"),Xn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Sr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xn(0!==e.length,"internal-error");const t=Sr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Xn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ur(e,{},async()=>{const n=et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await hr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&Fe(e.emulatorConfig.host)&&(s.credentials="include"),ir.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Rr;return n&&(Xn("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Xn("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Xn("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rr,this.toJSON())}_performRefresh(){return $n("not implemented")}}function Ir(e,t){Xn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Pr{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=Te(e,Fn);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Er(this,this.stsTokenManager.getToken(this.auth,e));return Xn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=at(e),r=await n.getIdToken(t),i=xr(r);Xn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wr(kr(i.auth_time)),issuedAtTime:wr(kr(i.iat)),expirationTime:wr(kr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=at(e);await Dr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,Ce.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pr((0,Ce.A)((0,Ce.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Dr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Gn(this.auth));const e=await this.getIdToken();return await Er(this,async function(e,t){return cr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,Ce.A)((0,Ce.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,Ce.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=t;Xn(v&&x,e,"internal-error");const S=Rr.fromJSON(this.name,x);Xn("string"===typeof v,e,"internal-error"),Ir(u,e.name),Ir(d,e.name),Xn("boolean"===typeof b,e,"internal-error"),Xn("boolean"===typeof w,e,"internal-error"),Ir(h,e.name),Ir(p,e.name),Ir(f,e.name),Ir(m,e.name),Ir(g,e.name),Ir(y,e.name);const E=new Pr({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>(0,Ce.A)({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Rr;r.updateFromServerResponse(t);const i=new Pr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Dr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Xn(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?_r(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new Rr;a.updateFromIdToken(n);const s=new Pr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Cr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const Ar=new Map;function Nr(e){Jn(e instanceof Function,"Expected a class definition");let t=Ar.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ar.set(e,t),t)}class Mr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mr.type="NONE";const Or=Mr;function jr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Lr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=jr(this.userKey,r.apiKey,i),this.fullPersistenceKey=jr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await br(this.auth,{idToken:e}).catch(()=>{});return t?Pr._fromGetAccountInfoResponse(this.auth,t,e):null}return Pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Lr(Nr(Or),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Nr(Or);const o=jr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await br(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Pr._fromGetAccountInfoResponse(e,r,t)}else n=Pr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new Lr(i,e,n)):new Lr(i,e,n)}}function Fr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Br(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vr(t))return"Blackberry";if(Hr(t))return"Webos";if(Wr(t))return"Safari";if((t.includes("chrome/")||Ur(t))&&!t.includes("edge/"))return"Chrome";if(qr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/firefox\//i.test(e)}function Wr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/crios\//i.test(e)}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iemobile/i.test(e)}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/android/i.test(e)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/blackberry/i.test(e)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/webos/i.test(e)}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yr(){return function(){const e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Kr(e)||qr(e)||Hr(e)||Vr(e)||/windows phone/i.test(e)||zr(e)}function Qr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fr(qe());break;case"Worker":t="".concat(Fr(qe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}class Xr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(XE){r(XE)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(XE){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===XE||void 0===XE?void 0:XE.message})}}}class $r{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Jr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new Xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Lr.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(XE){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await br(this,{idToken:e}),n=await Pr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(o=n)||void 0===o?void 0:o._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==a||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(XE){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(XE))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Xn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(XE){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dr(e)}catch(XE){if((null===XE||void 0===XE?void 0:XE.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Gn(this));const t=e?at(e):null;return t&&Xn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return cr(e,"GET","/v2/passwordPolicy",lr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $r(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return cr(e,"POST","/v2/accounts:revokeToken",lr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Xn(t,this,"argument-error"),this.redirectPersistenceManager=await Lr.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xn(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(qn.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.warn("Auth (".concat(Sn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zr(e){return at(e)}class ei{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ti={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ni(e){return ti.loadJS(e)}function ri(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ii{constructor(){this.enterprise=new oi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ai="NO_RECAPTCHA";class si{constructor(e){this.type="recaptcha-enterprise",this.auth=Zr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;gr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ai)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ii).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{vr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new yr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&gr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ti.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ni(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function li(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new si(e);let a;if(i)a=ai;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=(0,Ce.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ci(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await li(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await li(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await li(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await li(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await li(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ui(e){const t=Zr(e),n=await vr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new yr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new si(t).verify()}}function di(e,t,n){const r=Zr(e);Xn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=hi(t),{host:a,port:s}=function(e){const t=hi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:pi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:pi(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(o,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Xn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Xn(Je(c,r.config.emulator)&&Je(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Fe(a)?(Be("".concat(o,"//").concat(a).concat(l)),ze("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,t){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}}async function mi(e,t){return cr(e,"POST","/v1/accounts:signUp",t)}async function gi(e,t){return dr(e,"POST","/v1/accounts:signInWithPassword",lr(e,t))}async function yi(e,t){return cr(e,"POST","/v1/accounts:sendOobCode",lr(e,t))}async function vi(e,t){return yi(e,t)}class bi extends fi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bi(e,t,"password")}static _fromEmailAndCode(e,t){return new bi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ci(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return dr(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ci(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return dr(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wi(e,t){return dr(e,"POST","/v1/accounts:signInWithIdp",lr(e,t))}class ki extends fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Te(t,Bn);if(!n||!r)return null;const o=new ki(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return wi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}async function xi(e,t){return cr(e,"POST","/v1/accounts:sendVerificationCode",lr(e,t))}const Si={USER_NOT_FOUND:"user-not-found"};class Ei extends fi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ei({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ei({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return dr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await dr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,t));if(n.temporaryProof)throw mr(e,"account-exists-with-different-credential",n);return n}(e,(0,Ce.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return dr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,(0,Ce.A)((0,Ce.A)({},t),{},{operation:"REAUTH"})),Si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ei({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ti{constructor(e){var t,n,r,i,o,a;const s=tt(nt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Xn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(e);try{return new Ti(t)}catch(n){return null}}}class Ci{constructor(){this.providerId=Ci.PROVIDER_ID}static credential(e,t){return bi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ti.parseLink(t);return Xn(n,"argument-error"),bi._fromEmailAndCode(e,n.code,n.tenantId)}}Ci.PROVIDER_ID="password",Ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Di{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _i extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ri extends _i{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch(n){return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ri.PROVIDER_ID="facebook.com";class Ii extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ki._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch(i){return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com",Ii.PROVIDER_ID="google.com";class Pi extends _i{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch(n){return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com",Pi.PROVIDER_ID="github.com";class Ai extends _i{constructor(){super("twitter.com")}static credential(e,t){return ki._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ai.credential(n,r)}catch(i){return null}}}async function Ni(e,t){return dr(e,"POST","/v1/accounts:signUp",lr(e,t))}Ai.TWITTER_SIGN_IN_METHOD="twitter.com",Ai.PROVIDER_ID="twitter.com";class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Pr._fromIdTokenResponse(e,n,r),o=Oi(n);return new Mi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Oi(n);return new Mi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Oi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ji extends Qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ji(e,t,n,r)}}function Li(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ji._fromErrorAndOperation(e,n,t,r);throw n})}async function Fi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Er(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Mi._forOperation(e,"link",r)}async function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(wn(r.app))return Promise.reject(Gn(r));const i="reauthenticate";try{const o=await Er(e,Li(r,i,t,e),n);Xn(o.idToken,r,"internal-error");const a=xr(o.idToken);Xn(a,r,"internal-error");const{sub:s}=a;return Xn(e.uid===s,r,"user-mismatch"),Mi._forOperation(e,i,o)}catch(XE){throw(null===XE||void 0===XE?void 0:XE.code)==="auth/".concat("user-not-found")&&Hn(r,"user-mismatch"),XE}}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wn(e.app))return Promise.reject(Gn(e));const r="signIn",i=await Li(e,r,t),o=await Mi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Ui(e,t){return Wi(Zr(e),t)}function zi(e,t,n){var r;Xn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Xn("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function qi(e){const t=Zr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=at(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Er(i,async function(e,t){return cr(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Hi(e){return at(e).signOut()}function Ki(e,t){return cr(e,"POST","/v2/accounts/mfaEnrollment:start",lr(e,t))}new WeakMap;const Yi="__sak";class Gi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Qi extends Gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Yr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qi.type="LOCAL";const Xi=Qi;function $i(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Ji(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Zi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ji(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return $i(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ji(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ji(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=$i(n);const i=setInterval(()=>{const e=$i(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Zi.type="COOKIE";class eo extends Gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eo.type="SESSION";const to=eo;class no{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new no(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}no.receivers=[];class io{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=ro("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function oo(){return window}function ao(){return"undefined"!==typeof oo().WorkerGlobalScope&&"function"===typeof oo().importScripts}const so="firebaseLocalStorageDb",lo="firebaseLocalStorage",co="fbase_key";class uo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ho(e,t){return e.transaction([lo],t?"readwrite":"readonly").objectStore(lo)}function po(){const e=indexedDB.open(so,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(lo,{keyPath:co})}catch(XE){n(XE)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(lo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(so);return new uo(e).toPromise()}(),t(await po()))})})}async function fo(e,t,n){const r=ho(e,!0).put({[co]:t,value:n});return new uo(r).toPromise()}function mo(e,t){const n=ho(e,!0).delete(t);return new uo(n).toPromise()}class go{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await po()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(XE){if(t++>3)throw XE;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ao()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=no._getInstance(ao()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new io(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await po();return await fo(e,Yi,"1"),await mo(e,Yi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ho(e,!1).get(t),r=await new uo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ho(e,!1).getAll();return new uo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}go.type="LOCAL";const yo=go;function vo(e,t){return cr(e,"POST","/v2/accounts/mfaSignIn:start",lr(e,t))}ri("rcb"),new nr(3e4,6e4);const bo="recaptcha";async function wo(e,t,n){if(!e._getRecaptchaConfig())try{await ui(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Xn("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=ci(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ai){Xn((null===n||void 0===n?void 0:n.type)===bo,e,"argument-error");return Ki(e,await ko(e,t,n))}return Ki(e,t)},"PHONE_PROVIDER"),a=await o.catch(e=>Promise.reject(e));return a.phoneSessionInfo.sessionInfo}{var r;Xn("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Xn(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=ci(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ai){Xn((null===n||void 0===n?void 0:n.type)===bo,e,"argument-error");return vo(e,await ko(e,t,n))}return vo(e,t)},"PHONE_PROVIDER"),l=await s.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ci(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ai){Xn((null===n||void 0===n?void 0:n.type)===bo,e,"argument-error");return xi(e,await ko(e,t,n))}return xi(e,t)},"PHONE_PROVIDER"),o=await r.catch(e=>Promise.reject(e));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ko(e,t,n){Xn(n.type===bo,e,"argument-error");const r=await n.verify();Xn("string"===typeof r,e,"argument-error");const i=(0,Ce.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class xo{constructor(e){this.providerId=xo.PROVIDER_ID,this.auth=Zr(e)}verifyPhoneNumber(e,t){return wo(this.auth,e,at(t))}static credential(e,t){return Ei._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xo.credentialFromTaggedObject(t)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ei._fromTokenResponse(n,r):null}}function So(e,t){return t?Nr(t):(Xn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xo.PROVIDER_ID="phone",xo.PHONE_SIGN_IN_METHOD="phone";class Eo extends fi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function To(e){return Wi(e.auth,new Eo(e),e.bypassAuthState)}function Co(e){const{auth:t,user:n}=e;return Xn(n,t,"internal-error"),Bi(n,new Eo(e),e.bypassAuthState)}async function Do(e){const{auth:t,user:n}=e;return Xn(n,t,"internal-error"),Fi(n,new Eo(e),e.bypassAuthState)}class _o{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(XE){this.reject(XE)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(XE){this.reject(XE)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return To;case"linkViaPopup":case"linkViaRedirect":return Do;case"reauthViaPopup":case"reauthViaRedirect":return Co;default:Hn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ro=new nr(2e3,1e4);class Io extends _o{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xn(e,this.auth,"internal-error"),e}async onExecution(){Jn(1===this.filter.length,"Popup operations only handle one event");const e=ro();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ro.get())};e()}}Io.currentPopupAction=null;const Po=new Map;class Ao extends _o{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Po.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Oo(t),r=Mo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(XE){e=()=>Promise.reject(XE)}Po.set(this.auth._key(),e)}return this.bypassAuthState||Po.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function No(e,t){Po.set(e._key(),t)}function Mo(e){return Nr(e._redirectPersistence)}function Oo(e){return jr("pendingRedirect",e.config.apiKey,e.name)}async function jo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wn(e.app))return Promise.reject(Gn(e));const r=Zr(e),i=So(r,t),o=new Ao(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Lo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Bo(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(e))}saveEventToCache(e){this.cachedEventUids.add(Fo(e)),this.lastProcessedEventTime=Date.now()}}function Fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Bo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Wo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uo=/^https?/;async function zo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return cr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qo(r))return}catch(n){}Hn(e,"unauthorized-domain")}function qo(e){const t=Zn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Uo.test(n))return!1;if(Wo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Vo=new nr(3e4,6e4);function Ho(){const e=oo().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ko(e){return new Promise((t,n)=>{var r,i;function o(){Ho(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ho(),n(Kn(e,"network-request-failed"))},timeout:Vo.get()})}if(null!==(r=oo().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=oo().gapi)||void 0===i||!i.load){const t=ri("iframefcb");return oo()[t]=()=>{gapi.load?o():n(Kn(e,"network-request-failed"))},ni("".concat(ti.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Yo=null,e})}let Yo=null;const Go=new nr(5e3,15e3),Qo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $o(e){const t=e.config;Xn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=Xo.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(et(r).slice(1))}async function Jo(e){const t=await function(e){return Yo=Yo||Ko(e),Yo}(e),n=oo().gapi;return Xn(n,e,"internal-error"),t.open({where:document.body,url:$o(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Kn(e,"network-request-failed"),o=oo().setTimeout(()=>{r(i)},Go.get());function a(){oo().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ea{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(XE){}}}function ta(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=(0,Ce.A)((0,Ce.A)({},Zo),{},{width:r.toString(),height:i.toString(),top:o,left:a}),c=qe().toLowerCase();n&&(s=Ur(c)?"_blank":n),Br(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Kr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ea(null);const d=window.open(t||"",s,u);Xn(d,e,"popup-blocked");try{d.focus()}catch(XE){}return new ea(d)}const na="__/auth/handler",ra="emulator/auth/handler",ia=encodeURIComponent("fac");async function oa(e,t,n,r,i,o){Xn(e.config.authDomain,e,"auth-domain-config-required"),Xn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(t instanceof Di){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof _i){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ia,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(na);return rr(t,ra)}(e),"?").concat(et(s).slice(1)).concat(c)}const aa="webStorageSupport";const sa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=to,this._completeRedirectFn=jo,this._overrideRedirectResult=No}async _openPopup(e,t,n,r){var i;Jn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ta(e,await oa(e,t,n,Zn(),r),ro())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){oo().location.href=e}(await oa(e,t,n,Zn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Jn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Jo(e),n=new Lo(e);return t.register("authEvent",t=>{Xn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(aa,{type:aa},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[aa];void 0!==i&&t(!!i),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gr()||Wr()||Kr()}};var la="@firebase/auth",ca="1.11.1";class ua{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const da=je("authIdTokenMaxAge")||300;let ha=null;var pa,fa;pa={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Kn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ti=pa,fa="Browser",vn(new st("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Xn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:fa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qr(fa)},c=new Jr(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),vn(new st("auth-internal",e=>(e=>new ua(e))(Zr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(la,ca,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(fa)),Cn(la,ca,"esm2020");Cn("firebase","12.5.0","app");var ma,ga,ya="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},va={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,a=e.g[3];o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[3]+3250441966&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[4]+4118548399&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[7]+4249261313&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[8]+1770035416&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[11]+2304563134&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[12]+1804603682&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[15]+1236535329&4294967295,o=t+(i^a&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[0]+3921069994&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[4]+3889429448&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[8]+1163531501&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^a)+r[5]+4294588738&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[1]+2763975236&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[13]+681279174&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[9]+3654602809&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~a))+r[0]+4096336452&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[12]+1700485571&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[8]+1873313359&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[4]+4149444226&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,a=0;for(;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return h(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||c.l(e)>0;)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=p(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=p(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),a=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=o*s,f(n,2*i+2*t),n[2*i+2*t+1]+=r*s,f(n,2*i+2*t+1),n[2*i+2*t+1]+=o*a,f(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,f(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,ga=va.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=s;for(let s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+o),n);o<8?(o=a(Math.pow(n,o)),i=i.j(o).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},ma=va.Integer=r}).apply("undefined"!==typeof ya?ya:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ba,wa,ka,xa,Sa,Ea,Ta,Ca,Da="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_a={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Da&&Da];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){o.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(x)}};function x(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){f(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function D(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(D,E),D.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _="closure_listenable_"+(1e6*Math.random()|0),R=0;function I(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++R,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const a=F(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new I(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var B="closure_lm_"+(1e6*Math.random()|0),W={};function U(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)U(e,t[o],n,r,i);return null}return n=X(n),e&&e[_]?e.J(t,n,a(r)?!!r.capture:!!r,i):z(e,t,n,!1,r,i)}function z(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const s=a(i)?!!i.capture:!!i;let l=G(e);if(l||(e[B]=l=new j(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=X(n),e&&e[_]?e.K(t,n,a(r)?!!r.capture:!!r,i):z(e,t,n,!0,r,i)}function V(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)V(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=X(n),e&&e[_]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=G(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[_])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=G(t))?(L(n,e),0==n.h&&(n.src=null,t[B]=null)):P(e)}}}function K(e){return e in W?W[e]:W[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new D(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function G(e){return(e=e[B])instanceof j?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function $(){S.call(this),this.i=new j(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;O(t=new E(r,e),i)}let o,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)o=t.g=n[a],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const a=t[o];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&L(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[_]=!0,$.prototype.removeEventListener=function(e,t,n,r){V(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,ae=o.JSON.parse,se=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var pe={},fe=null;function me(){return fe=fe||new $}function ge(e){E.call(this,pe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){E.call(this,pe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){E.call(this,pe.Ja,e),this.size=t}function ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function xe(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,E),pe.STAT_EVENT="statevent",u(ve,E),pe.Ja="timingevent",u(we,E),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Ee,Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function De(){}function _e(e){return encodeURIComponent(String(e))}function Re(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(De,le),De.prototype.g=function(){return new XMLHttpRequest},Ee=new De;var Ae={},Ne={};function Me(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=U(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?N(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var a="",s=o.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function je(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ne:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?Ne:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Be(e,e.H)}function Be(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=ke(l(e.aa,e),t)}function We(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||en(e.j,e)}function ze(e){We(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ge(n.h,e)))if(!e.L&&Ge(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=ke(l(n.Va,n),6e3));Ye(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qe(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),a.L){Xe(r.h,a);var s=a,c=r.O;c&&(s.H=c),s.D&&(We(s),Fe(s)),r.g=a}else Qt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||4!=l||7==c||ye(),We(this);var t=this.g.ca();this.X=t;var n=function(e){if(!je(e))return e.g.la();const t=Bt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return ze(e),Ue(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),ze(this),Ue(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Ne){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(s),s.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),ze(this),Ue(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&ze(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Re(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),ze(this),Ue(this)}}}catch(ls){}},Ie.prototype.cancel=function(){this.K=!0,ze(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),ze(this),this.m=2,Ue(this)):Be(this,this.T-e)};var Ve=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Ge(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ht)),e.i=new ft(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(_e(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=kt(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(kt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function St(){this.g=new se}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function Tt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,_t(e)}function _t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function It(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&_e(n):it(e,t,n))}function Pt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){mt(this),this.i=null,e=kt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=_e(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+_e(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new Tt(this.i,this.h)},u(Tt,$),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,_t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):_t(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Na=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,$);var At=/^https?$/i,Nt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Lt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function jt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=Ft(e)>2?e.g.statusText:""}catch(s){a=""}e.l=a+" ["+e.ca()+"]",Ot(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Bt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wt("baseRetryDelayMs",5e3,e),this.Za=Wt("retryDelaySeedMs",1e4,e),this.Ta=Wt("forwardChannelMaxRetries",2,e),this.va=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function zt(e){if(Vt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Yt(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Vt(e){qt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||k(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Yt(e,r),e.u&&e.o&&It(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Gt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),Me(n,r,t)}function Yt(e,t){e.H&&A(e.H,function(e,n){it(t,n,e)}),e.l&&A({},function(e,n){it(t,n,e)})}function Gt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;a(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(Ia){throw e.push(o+"type="+encodeURIComponent("_badmap")),Ia}}catch(Ia){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||k(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=ke(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Yt(e,t),e.u&&e.o&&It(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ge(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Ht(e)}else Qt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=ke(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new xe;if(o.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Vt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Yt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new Et({ab:n})):new Pt(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){$.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Mt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Nt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Mt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jt(this):this.Xa())},e.Xa=function(){jt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ie(this,this.j,e);let o=this.o;if(this.U&&(o?(o=N(o),O(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Yt(this,n),o&&(this.R?t="headers="+_e(Rt(o))+"&"+t:this.u&&It(n,this.u,o)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Me(i,n,null)):Me(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=ke(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new Ve(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,sn),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ca=_a.createWebChannelTransport=function(){return new ln},Ta=_a.getStatEventTarget=function(){return me()},Ea=_a.Event=pe,Sa=_a.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,xa=_a.ErrorCode=Te,Ce.COMPLETE="complete",ka=_a.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,wa=_a.WebChannel=ce,_a.FetchXmlHttpFactory=Et,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,ba=_a.XhrIo=Pt}).apply("undefined"!==typeof Da?Da:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ra="@firebase/firestore",Ia="4.9.2";class Pa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pa.UNAUTHENTICATED=new Pa(null),Pa.GOOGLE_CREDENTIALS=new Pa("google-credentials-uid"),Pa.FIRST_PARTY=new Pa("first-party-uid"),Pa.MOCK_USER=new Pa("mock-user");let Aa="12.3.0";const Na=new yt("@firebase/firestore");function Ma(){return Na.logLevel}function Oa(e){if(Na.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Na.debug("Firestore (".concat(Aa,"): ").concat(e),...i)}}function ja(e){if(Na.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Na.error("Firestore (".concat(Aa,"): ").concat(e),...i)}}function La(e){if(Na.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Na.warn("Firestore (".concat(Aa,"): ").concat(e),...i)}}function Fa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ba(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Wa(e,r,n)}function Wa(e,t,n){let r="FIRESTORE (".concat(Aa,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ja(r),new Error(r)}function Ua(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Wa(t,i,r)}function za(e,t){return e}const qa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Va extends Qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ha{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ka{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ya{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pa.UNAUTHENTICATED))}shutdown(){}}class Ga{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qa{constructor(e){this.t=e,this.currentUser=Pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ua(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ha,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Oa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Oa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ha)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Oa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ua("string"==typeof t.accessToken,31837,{l:t}),new Ka(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ua(null===e||"string"==typeof e,2055,{h:e}),new Pa(e)}}class Xa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Pa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $a{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Xa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Pa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ja{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Za{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ua(void 0===this.o,3512);const n=e=>{null!=e.error&&Oa("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Oa("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Oa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Oa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ja(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ua("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ja(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function es(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ts{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=es(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return as(n)===as(i)?ns(n,i):as(n)?1:-1}return ns(e.length,t.length)}const is=55296,os=57343;function as(e){const t=e.charCodeAt(0);return t>=is&&t<=os}function ss(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ls="__name__";class cs{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ba(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ba(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===cs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=cs.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ns(e.length,t.length)}static compareSegments(e,t){const n=cs.isNumericId(e),r=cs.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?cs.extractNumericId(e).compare(cs.extractNumericId(t)):rs(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class us extends cs{construct(e,t,n){return new us(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Va(qa.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new us(e)}static emptyPath(){return new us([])}}const ds=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends cs{construct(e,t,n){return new hs(e,t,n)}static isValidIdentifier(e){return ds.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ls}static keyField(){return new hs([ls])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Va(qa.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Va(qa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Va(qa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Va(qa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(t)}static emptyPath(){return new hs([])}}class ps{constructor(e){this.path=e}static fromPath(e){return new ps(us.fromString(e))}static fromName(e){return new ps(us.fromString(e).popFirst(5))}static empty(){return new ps(us.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===us.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return us.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ps(new us(e.slice()))}}function fs(e,t,n){if(!n)throw new Va(qa.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ms(e){if(!ps.isDocumentKey(e))throw new Va(qa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gs(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ys(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ba(12329,{type:typeof e})}function vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Va(qa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ys(e);throw new Va(qa.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function bs(e,t){const n={typeString:e};return t&&(n.value=t),n}function ws(e,t){if(!gs(e))throw new Va(qa.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&a!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new Va(qa.INVALID_ARGUMENT,n);return!0}const ks=-62135596800,xs=1e6;class Ss{static now(){return Ss.fromMillis(Date.now())}static fromDate(e){return Ss.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*xs);return new Ss(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Va(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Va(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ks)throw new Va(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Va(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xs}_compareTo(e){return this.seconds===e.seconds?ns(this.nanoseconds,e.nanoseconds):ns(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ws(e,Ss._jsonSchema))return new Ss(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ks;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ss._jsonSchemaVersion="firestore/timestamp/1.0",Ss._jsonSchema={type:bs("string",Ss._jsonSchemaVersion),seconds:bs("number"),nanoseconds:bs("number")};class Es{static fromTimestamp(e){return new Es(e)}static min(){return new Es(new Ss(0,0))}static max(){return new Es(new Ss(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ts=-1;class Cs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Cs.UNKNOWN_ID=-1;function Ds(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Es.fromTimestamp(1e9===r?new Ss(n+1,0):new Ss(n,r));return new Rs(i,ps.empty(),t)}function _s(e){return new Rs(e.readTime,e.key,Ts)}class Rs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Rs(Es.min(),ps.empty(),Ts)}static max(){return new Rs(Es.max(),ps.empty(),Ts)}}function Is(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ps.comparator(e.documentKey,t.documentKey),0!==n?n:ns(e.largestBatchId,t.largestBatchId))}const Ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class As{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ns(e){if(e.code!==qa.FAILED_PRECONDITION||e.message!==Ps)throw e;Oa("LocalStore","Unexpectedly lost primary lease")}class Ms{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ba(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ms((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ms?t:Ms.resolve(t)}catch(e){return Ms.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ms.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ms.reject(t)}static resolve(e){return new Ms((t,n)=>{t(e)})}static reject(e){return new Ms((t,n)=>{n(e)})}static waitFor(e){return new Ms((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Ms.resolve(!1);for(const n of e)t=t.next(e=>e?Ms.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ms((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Ms((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Os(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(e){return"IndexedDbTransactionError"===e.name}class Ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ls.ce=-1;const Fs=-1;function Bs(e){return null==e}function Ws(e){return 0===e&&1/e==-1/0}function Us(e){return"number"==typeof e&&Number.isInteger(e)&&!Ws(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const zs="\x01";function qs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hs(t)),t=Vs(e.get(n),t);return Hs(t)}function Vs(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case zs:n+="\x01\x11";break;default:n+=t}}return n}function Hs(e){return e+zs+"\x01"}const Ks="remoteDocuments",Ys="owner",Gs="mutationQueues",Qs="mutations";const Xs="documentMutations",$s="remoteDocumentsV14",Js="remoteDocumentGlobal",Zs="targets",el="targetDocuments",tl="targetGlobal",nl="collectionParents",rl="clientMetadata",il="bundles",ol="namedQueries",al="indexConfiguration",sl="indexState",ll="indexEntries",cl="documentOverlays",ul="globals",dl=[Gs,Qs,Xs,Ks,Zs,Ys,tl,el,rl,Js,nl,il,ol],hl=[Gs,Qs,Xs,$s,Zs,Ys,tl,el,rl,Js,nl,il,ol,cl],pl=hl,fl=[...pl,al,sl,ll];function ml(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vl{constructor(e,t){this.comparator=e,this.root=t||wl.EMPTY}insert(e,t){return new vl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wl.BLACK,null,null))}remove(e){return new vl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wl.RED,this.left=null!=r?r:wl.EMPTY,this.right=null!=i?i:wl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ba(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ba(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ba(27949);return e+(this.isRed()?0:1)}}wl.EMPTY=null,wl.RED=!0,wl.BLACK=!1,wl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ba(57766)}get value(){throw Ba(16141)}get color(){throw Ba(16727)}get left(){throw Ba(29726)}get right(){throw Ba(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new wl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kl{constructor(e){this.comparator=e,this.data=new vl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof kl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kl(this.comparator);return t.data=e,t}}class xl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sl{constructor(e){this.fields=e,e.sort(hs.comparator)}static empty(){return new Sl([])}unionWith(e){let t=new kl(hs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class El extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new El("Invalid base64 string: "+e):e}}(e);return new Tl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ns(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tl.EMPTY_BYTE_STRING=new Tl("");const Cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(e){if(Ua(!!e,39018),"string"==typeof e){let t=0;const n=Cl.exec(e);if(Ua(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_l(e.seconds),nanos:_l(e.nanos)}}function _l(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rl(e){return"string"==typeof e?Tl.fromBase64String(e):Tl.fromUint8Array(e)}const Il="server_timestamp",Pl="__type__",Al="__previous_value__",Nl="__local_write_time__";function Ml(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Pl])||void 0===t?void 0:t.stringValue)===Il}function Ol(e){const t=e.mapValue.fields[Al];return Ml(t)?Ol(t):t}function jl(e){const t=Dl(e.mapValue.fields[Nl].timestampValue);return new Ss(t.seconds,t.nanos)}class Ll{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Fl="(default)";class Bl{constructor(e,t){this.projectId=e,this.database=t||Fl}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Fl}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const Wl="__type__",Ul="__max__",zl={mapValue:{fields:{__type__:{stringValue:Ul}}}},ql="__vector__",Vl="value";function Hl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ml(e)?4:sc(e)?9007199254740991:oc(e)?10:11:Ba(28295,{value:e})}function Kl(e,t){if(e===t)return!0;const n=Hl(e);if(n!==Hl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jl(e).isEqual(jl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Dl(e.timestampValue),r=Dl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rl(e.bytesValue).isEqual(Rl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _l(e.geoPointValue.latitude)===_l(t.geoPointValue.latitude)&&_l(e.geoPointValue.longitude)===_l(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _l(e.integerValue)===_l(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_l(e.doubleValue),r=_l(t.doubleValue);return n===r?Ws(n)===Ws(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ss(e.arrayValue.values||[],t.arrayValue.values||[],Kl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ml(n)!==ml(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kl(n[i],r[i])))return!1;return!0}(e,t);default:return Ba(52216,{left:e})}}function Yl(e,t){return void 0!==(e.values||[]).find(e=>Kl(e,t))}function Gl(e,t){if(e===t)return 0;const n=Hl(e),r=Hl(t);if(n!==r)return ns(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ns(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_l(e.integerValue||e.doubleValue),r=_l(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ql(e.timestampValue,t.timestampValue);case 4:return Ql(jl(e),jl(t));case 5:return rs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rl(e),r=Rl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ns(n[i],r[i]);if(0!==e)return e}return ns(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ns(_l(e.latitude),_l(t.latitude));return 0!==n?n:ns(_l(e.longitude),_l(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xl(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const a=e.fields||{},s=t.fields||{},l=null===(n=a[Vl])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Vl])||void 0===r?void 0:r.arrayValue,u=ns((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Xl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zl.mapValue&&t===zl.mapValue)return 0;if(e===zl.mapValue)return 1;if(t===zl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=rs(r[a],o[a]);if(0!==e)return e;const t=Gl(n[r[a]],i[o[a]]);if(0!==t)return t}return ns(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ba(23264,{he:n})}}function Ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ns(e,t);const n=Dl(e),r=Dl(t),i=ns(n.seconds,r.seconds);return 0!==i?i:ns(n.nanos,r.nanos)}function Xl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gl(n[i],r[i]);if(e)return e}return ns(n.length,r.length)}function $l(e){return Jl(e)}function Jl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Dl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ps.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Jl(e.fields[i]));return n+"}"}(e.mapValue):Ba(61005,{value:e})}function Zl(e){switch(Hl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ol(e);return t?16+Zl(t):16;case 5:return 2*e.stringValue.length;case 6:return Rl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Zl(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return gl(e.fields,(e,n)=>{t+=e.length+Zl(n)}),t}(e.mapValue);default:throw Ba(13486,{value:e})}}function ec(e){return!!e&&"integerValue"in e}function tc(e){return!!e&&"arrayValue"in e}function nc(e){return!!e&&"nullValue"in e}function rc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ic(e){return!!e&&"mapValue"in e}function oc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Wl])||void 0===t?void 0:t.stringValue)===ql}function ac(e){if(e.geoPointValue)return{geoPointValue:(0,Ce.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,Ce.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ac(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ac(e.arrayValue.values[n]);return t}return(0,Ce.A)({},e)}function sc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ul}class lc{constructor(e){this.value=e}static empty(){return new lc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=hs.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ac(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ic(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new lc(ac(this.value))}}function cc(e){const t=[];return gl(e.fields,(e,n)=>{const r=new hs([e]);if(ic(n)){const e=cc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sl(t)}class uc{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new uc(e,0,Es.min(),Es.min(),Es.min(),lc.empty(),0)}static newFoundDocument(e,t,n,r){return new uc(e,1,t,Es.min(),n,r,0)}static newNoDocument(e,t){return new uc(e,2,t,Es.min(),Es.min(),lc.empty(),0)}static newUnknownDocument(e,t){return new uc(e,3,t,Es.min(),Es.min(),lc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Es.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Es.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof uc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new uc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dc{constructor(e,t){this.position=e,this.inclusive=t}}function hc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ps.comparator(ps.fromName(a.referenceValue),n.key):Gl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function pc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kl(e.position[n],t.position[n]))return!1;return!0}class fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gc{}class yc extends gc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Tc(e,t,n):"array-contains"===t?new Rc(e,n):"in"===t?new Ic(e,n):"not-in"===t?new Pc(e,n):"array-contains-any"===t?new Ac(e,n):new yc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cc(e,n):new Dc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Gl(t,this.value)):null!==t&&Hl(this.value)===Hl(t)&&this.matchesComparison(Gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ba(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vc extends gc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vc(e,t)}matches(e){return bc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bc(e){return"and"===e.op}function wc(e){return kc(e)&&bc(e)}function kc(e){for(const t of e.filters)if(t instanceof vc)return!1;return!0}function xc(e){if(e instanceof yc)return e.field.canonicalString()+e.op.toString()+$l(e.value);if(wc(e))return e.filters.map(e=>xc(e)).join(",");{const t=e.filters.map(e=>xc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Sc(e,t){return e instanceof yc?function(e,t){return t instanceof yc&&e.op===t.op&&e.field.isEqual(t.field)&&Kl(e.value,t.value)}(e,t):e instanceof vc?function(e,t){return t instanceof vc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Sc(n,t.filters[r]),!0)}(e,t):void Ba(19439)}function Ec(e){return e instanceof yc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($l(e.value))}(e):e instanceof vc?function(e){return e.op.toString()+" {"+e.getFilters().map(Ec).join(" ,")+"}"}(e):"Filter"}class Tc extends yc{constructor(e,t,n){super(e,t,n),this.key=ps.fromName(n.referenceValue)}matches(e){const t=ps.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cc extends yc{constructor(e,t){super(e,"in",t),this.keys=_c("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dc extends yc{constructor(e,t){super(e,"not-in",t),this.keys=_c("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _c(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ps.fromName(e.referenceValue))}class Rc extends yc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tc(t)&&Yl(t.arrayValue,this.value)}}class Ic extends yc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yl(this.value.arrayValue,t)}}class Pc extends yc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Yl(this.value.arrayValue,t)}}class Ac extends yc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Yl(this.value.arrayValue,e))}}class Nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Mc(e){return new Nc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Oc(e){const t=za(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Bs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$l(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$l(e)).join(",")),t.Te=e}return t.Te}function jc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pc(e.startAt,t.startAt)&&pc(e.endAt,t.endAt)}function Lc(e){return ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bc(e,t,n,r,i,o,a,s){return new Fc(e,t,n,r,i,o,a,s)}function Wc(e){return new Fc(e)}function Uc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zc(e){return null!==e.collectionGroup}function qc(e){const t=za(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new kl(hs.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new fc(r,n))}),e.has(hs.keyField().canonicalString())||t.Ie.push(new fc(hs.keyField(),n))}return t.Ie}function Vc(e){const t=za(e);return t.Ee||(t.Ee=Hc(t,qc(e))),t.Ee}function Hc(e,t){if("F"===e.limitType)return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new fc(e.field,t)});const n=e.endAt?new dc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dc(e.startAt.position,e.startAt.inclusive):null;return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kc(e,t,n){return new Fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yc(e,t){return jc(Vc(e),Vc(t))&&e.limitType===t.limitType}function Gc(e){return"".concat(Oc(Vc(e)),"|lt:").concat(e.limitType)}function Qc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ec(e)).join(", "),"]")),Bs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$l(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$l(e)).join(",")),"Target(".concat(t,")")}(Vc(e)),"; limitType=").concat(e.limitType,")")}function Xc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ps.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qc(e),t))&&!(e.endAt&&!function(e,t,n){const r=hc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qc(e),t))}(e,t)}function $c(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jc(e){return(t,n)=>{let r=!1;for(const i of qc(e)){const e=Zc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zc(e,t,n){const r=e.field.isKeyField()?ps.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gl(r,i):Ba(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ba(19790,{direction:e.dir})}}class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return yl(this.inner)}size(){return this.innerSize}}const tu=new vl(ps.comparator);function nu(){return tu}const ru=new vl(ps.comparator);function iu(){let e=ru;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ou(e){let t=ru;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function au(){return lu()}function su(){return lu()}function lu(){return new eu(e=>e.toString(),(e,t)=>e.isEqual(t))}const cu=new vl(ps.comparator),uu=new kl(ps.comparator);function du(){let e=uu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hu=new kl(ns);function pu(){return hu}function fu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ws(t)?"-0":t}}function mu(e){return{integerValue:""+e}}function gu(e,t){return Us(t)?mu(t):fu(e,t)}class yu{constructor(){this._=void 0}}function vu(e,t,n){return e instanceof ku?function(e,t){const n={fields:{[Pl]:{stringValue:Il},[Nl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ml(t)&&(t=Ol(t)),t&&(n.fields[Al]=t),{mapValue:n}}(n,t):e instanceof xu?Su(e,t):e instanceof Eu?Tu(e,t):function(e,t){const n=wu(e,t),r=Du(n)+Du(e.Ae);return ec(n)&&ec(e.Ae)?mu(r):fu(e.serializer,r)}(e,t)}function bu(e,t,n){return e instanceof xu?Su(e,t):e instanceof Eu?Tu(e,t):n}function wu(e,t){return e instanceof Cu?function(e){return ec(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ku extends yu{}class xu extends yu{constructor(e){super(),this.elements=e}}function Su(e,t){const n=_u(t);for(const r of e.elements)n.some(e=>Kl(e,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends yu{constructor(e){super(),this.elements=e}}function Tu(e,t){let n=_u(t);for(const r of e.elements)n=n.filter(e=>!Kl(e,r));return{arrayValue:{values:n}}}class Cu extends yu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Du(e){return _l(e.integerValue||e.doubleValue)}function _u(e){return tc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ru{constructor(e,t){this.field=e,this.transform=t}}class Iu{constructor(e,t){this.version=e,this.transformResults=t}}class Pu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pu}static exists(e){return new Pu(void 0,e)}static updateTime(e){return new Pu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nu{}function Mu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vu(e.key,Pu.none()):new Bu(e.key,e.data,Pu.none());{const n=e.data,r=lc.empty();let i=new kl(hs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wu(e.key,r,new Sl(i.toArray()),Pu.none())}}function Ou(e,t,n){e instanceof Bu?function(e,t,n){const r=e.value.clone(),i=zu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wu?function(e,t,n){if(!Au(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Uu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ju(e,t,n,r){return e instanceof Bu?function(e,t,n,r){if(!Au(e.precondition,t))return n;const i=e.value.clone(),o=qu(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wu?function(e,t,n,r){if(!Au(e.precondition,t))return n;const i=qu(e.fieldTransforms,r,t),o=t.data;return o.setAll(Uu(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Au(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wu(r.transform,e||null);null!=i&&(null===n&&(n=lc.empty()),n.set(r.field,i))}return n||null}function Fu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ss(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xu&&t instanceof xu||e instanceof Eu&&t instanceof Eu?ss(e.elements,t.elements,Kl):e instanceof Cu&&t instanceof Cu?Kl(e.Ae,t.Ae):e instanceof ku&&t instanceof ku}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bu extends Nu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wu extends Nu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Uu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zu(e,t,n){const r=new Map;Ua(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,bu(a,s,n[i]))}return r}function qu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,vu(e,o,t))}return r}class Vu extends Nu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu extends Nu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ku{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ou(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ju(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ju(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=su();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Mu(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Es.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),du())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(e,t)=>Fu(e,t))&&ss(this.baseMutations,e.baseMutations,(e,t)=>Fu(e,t))}}class Yu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ua(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=cu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Yu(e,t,n,r)}}class Gu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xu,$u;function Ju(e){switch(e){case qa.OK:return Ba(64938);case qa.CANCELLED:case qa.UNKNOWN:case qa.DEADLINE_EXCEEDED:case qa.RESOURCE_EXHAUSTED:case qa.INTERNAL:case qa.UNAVAILABLE:case qa.UNAUTHENTICATED:return!1;case qa.INVALID_ARGUMENT:case qa.NOT_FOUND:case qa.ALREADY_EXISTS:case qa.PERMISSION_DENIED:case qa.FAILED_PRECONDITION:case qa.ABORTED:case qa.OUT_OF_RANGE:case qa.UNIMPLEMENTED:case qa.DATA_LOSS:return!0;default:return Ba(15467,{code:e})}}function Zu(e){if(void 0===e)return ja("GRPC error has no .code"),qa.UNKNOWN;switch(e){case Xu.OK:return qa.OK;case Xu.CANCELLED:return qa.CANCELLED;case Xu.UNKNOWN:return qa.UNKNOWN;case Xu.DEADLINE_EXCEEDED:return qa.DEADLINE_EXCEEDED;case Xu.RESOURCE_EXHAUSTED:return qa.RESOURCE_EXHAUSTED;case Xu.INTERNAL:return qa.INTERNAL;case Xu.UNAVAILABLE:return qa.UNAVAILABLE;case Xu.UNAUTHENTICATED:return qa.UNAUTHENTICATED;case Xu.INVALID_ARGUMENT:return qa.INVALID_ARGUMENT;case Xu.NOT_FOUND:return qa.NOT_FOUND;case Xu.ALREADY_EXISTS:return qa.ALREADY_EXISTS;case Xu.PERMISSION_DENIED:return qa.PERMISSION_DENIED;case Xu.FAILED_PRECONDITION:return qa.FAILED_PRECONDITION;case Xu.ABORTED:return qa.ABORTED;case Xu.OUT_OF_RANGE:return qa.OUT_OF_RANGE;case Xu.UNIMPLEMENTED:return qa.UNIMPLEMENTED;case Xu.DATA_LOSS:return qa.DATA_LOSS;default:return Ba(39323,{code:e})}}($u=Xu||(Xu={}))[$u.OK=0]="OK",$u[$u.CANCELLED=1]="CANCELLED",$u[$u.UNKNOWN=2]="UNKNOWN",$u[$u.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$u[$u.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$u[$u.NOT_FOUND=5]="NOT_FOUND",$u[$u.ALREADY_EXISTS=6]="ALREADY_EXISTS",$u[$u.PERMISSION_DENIED=7]="PERMISSION_DENIED",$u[$u.UNAUTHENTICATED=16]="UNAUTHENTICATED",$u[$u.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$u[$u.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$u[$u.ABORTED=10]="ABORTED",$u[$u.OUT_OF_RANGE=11]="OUT_OF_RANGE",$u[$u.UNIMPLEMENTED=12]="UNIMPLEMENTED",$u[$u.INTERNAL=13]="INTERNAL",$u[$u.UNAVAILABLE=14]="UNAVAILABLE",$u[$u.DATA_LOSS=15]="DATA_LOSS";let ed=null;function td(){return new TextEncoder}const nd=new ma([4294967295,4294967295],0);function rd(e){const t=td().encode(e),n=new ga;return n.update(t),new Uint8Array(n.digest())}function id(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ma([n,r],0),new ma([i,o],0)]}class od{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ad("Invalid padding: ".concat(t));if(n<0)throw new ad("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ad("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ad("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=ma.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ma.fromNumber(n)));return 1===r.compare(nd)&&(r=new ma([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new od(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sd(Es.min(),r,new vl(ns),nu(),du())}}class ld{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ld(n,t,du(),du(),du())}}class cd{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ud{constructor(e,t){this.targetId=e,this.Ce=t}}class dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class hd{constructor(){this.ve=0,this.Fe=md(),this.Me=Tl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=du(),t=du(),n=du();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ba(38017,{changeType:i})}}),new ld(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=md()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ua(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pd{constructor(e){this.Ge=e,this.ze=new Map,this.je=nu(),this.Je=fd(),this.He=fd(),this.Ye=new vl(ns)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ba(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Lc(o))if(0===n){const e=new ps(o.path);this.et(t,e,uc.newNoDocument(e,Es.min()))}else Ua(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=ed)||void 0===i||i.lt(function(e,t,n,r,i,o,a,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(a=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Rl(n).toUint8Array()}catch(e){if(e instanceof El)return La("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new od(o,r,i)}catch(e){return La(e instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Lc(i.target)){const t=new ps(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,uc.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=du();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new sd(e,t,this.Ye,this.je,n);return this.je=nu(),this.Je=fd(),this.He=fd(),this.Ye=new vl(ns),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new hd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kl(ns),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kl(ns),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Oa("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fd(){return new vl(ps.comparator)}function md(){return new vl(ps.comparator)}const gd={asc:"ASCENDING",desc:"DESCENDING"},yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vd={and:"AND",or:"OR"};class bd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wd(e,t){return e.useProto3Json||Bs(t)?t:{value:t}}function kd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sd(e,t){return kd(e,t.toTimestamp())}function Ed(e){return Ua(!!e,49232),Es.fromTimestamp(function(e){const t=Dl(e);return new Ss(t.seconds,t.nanos)}(e))}function Td(e,t){return Cd(e,t).canonicalString()}function Cd(e,t){const n=function(e){return new us(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Dd(e){const t=us.fromString(e);return Ua(Yd(t),10190,{key:t.toString()}),t}function _d(e,t){return Td(e.databaseId,t.path)}function Rd(e,t){const n=Dd(t);if(n.get(1)!==e.databaseId.projectId)throw new Va(qa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Va(qa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ps(Nd(n))}function Id(e,t){return Td(e.databaseId,t)}function Pd(e){const t=Dd(e);return 4===t.length?us.emptyPath():Nd(t)}function Ad(e){return new us(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nd(e){return Ua(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Md(e,t,n){return{name:_d(e,t),fields:n.value.mapValue.fields}}function Od(e,t){let n;if(t instanceof Bu)n={update:Md(e,t.key,t.value)};else if(t instanceof Vu)n={delete:_d(e,t.key)};else if(t instanceof Wu)n={update:Md(e,t.key,t.data),updateMask:Kd(t.fieldMask)};else{if(!(t instanceof Hu))return Ba(16599,{Vt:t.type});n={verify:_d(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ku)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ba(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ba(27497)}(e,t.precondition)),n}function jd(e,t){return{documents:[Id(e,t.path)]}}function Ld(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Id(e,i);const o=function(e){if(0!==e.length)return Hd(vc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qd(e.field),direction:Wd(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=wd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Fd(e){let t=Pd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ua(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Bd(e);return t instanceof vc&&wc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new fc(Vd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Bs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dc(n,t)}(n.endAt)),Bc(t,i,a,o,s,"F",l,c)}function Bd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vd(e.unaryFilter.field);return yc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vd(e.unaryFilter.field);return yc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vd(e.unaryFilter.field);return yc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vd(e.unaryFilter.field);return yc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ba(61313);default:return Ba(60726)}}(e):void 0!==e.fieldFilter?function(e){return yc.create(Vd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ba(58110);default:return Ba(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vc.create(e.compositeFilter.filters.map(e=>Bd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ba(1026)}}(e.compositeFilter.op))}(e):Ba(30097,{filter:e})}function Wd(e){return gd[e]}function Ud(e){return yd[e]}function zd(e){return vd[e]}function qd(e){return{fieldPath:e.canonicalString()}}function Vd(e){return hs.fromServerFormat(e.fieldPath)}function Hd(e){return e instanceof yc?function(e){if("=="===e.op){if(rc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(nc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(nc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:Ud(e.op),value:e.value}}}(e):e instanceof vc?function(e){const t=e.getFilters().map(e=>Hd(e));return 1===t.length?t[0]:{compositeFilter:{op:zd(e.op),filters:t}}}(e):Ba(54877,{filter:e})}function Kd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Es.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Es.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tl.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qd{constructor(e){this.yt=e}}function Xd(e){const t=Fd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kc(t,t.limit,"L"):t}class $d{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(_l(e.integerValue));else if("doubleValue"in e){const n=_l(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ws(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Dl(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Rl(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?sc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):oc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ba(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Vl,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(_l(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ps.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}$d.Kt=new $d;class Jd{constructor(){this.Cn=new Zd}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ms.resolve()}getCollectionParents(e,t){return Ms.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ms.resolve()}deleteFieldIndex(e,t){return Ms.resolve()}deleteAllFieldIndexes(e){return Ms.resolve()}createTargetIndexes(e,t){return Ms.resolve()}getDocumentsMatchingTarget(e,t){return Ms.resolve(null)}getIndexType(e,t){return Ms.resolve(0)}getFieldIndexes(e,t){return Ms.resolve([])}getNextCollectionGroupToUpdate(e){return Ms.resolve(null)}getMinOffset(e,t){return Ms.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return Ms.resolve(Rs.min())}updateCollectionGroup(e,t,n){return Ms.resolve()}updateIndexEntries(e,t){return Ms.resolve()}}class Zd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kl(us.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kl(us.comparator)).toArray()}}new Uint8Array(0);const eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},th=41943040;class nh{static withCacheSize(e){return new nh(e,nh.DEFAULT_COLLECTION_PERCENTILE,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}nh.DEFAULT_COLLECTION_PERCENTILE=10,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nh.DEFAULT=new nh(th,nh.DEFAULT_COLLECTION_PERCENTILE,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nh.DISABLED=new nh(-1,0,0);class rh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rh(0)}static cr(){return new rh(-1)}}const ih="LruGarbageCollector",oh=1048576;function ah(e,t){let[n,r]=e,[i,o]=t;const a=ns(n,i);return 0===a?ns(r,o):a}class sh{constructor(e){this.Ir=e,this.buffer=new kl(ah),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ah(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Oa(ih,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){js(e)?Oa(ih,"Ignoring IndexedDB error during garbage collection: ",e):await Ns(e)}await this.Vr(3e5)})}}class ch{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ms.resolve(Ls.ce);const n=new sh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oa("LruGarbageCollector","Garbage collection skipped; disabled"),Ms.resolve(eh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oa("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),eh):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Oa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ma()<=ht.DEBUG&&Oa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ms.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function uh(e,t){return new ch(e,t)}class dh{constructor(){this.changes=new eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,uc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ms.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ph{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ju(n.mutation,e,Sl.empty(),Ss.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,du()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:du();const r=au();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=iu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=au();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,du()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=nu();const o=lu(),a=lu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Wu)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),ju(a.mutation,t,a.mutation.getFieldMask(),Ss.now())):o.set(t.key,Sl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new hh(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=lu();let r=new vl((e,t)=>e-t),i=du();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Sl.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||du()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=su();l.forEach(e=>{if(!i.has(e)){const r=Mu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ms.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ms.resolve(au());let a=Ts,s=i;return o.next(t=>Ms.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ms.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,du())).next(e=>({batchId:a,changes:ou(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ps(t)).next(e=>{let t=iu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=iu();return this.indexManager.getCollectionParents(e,i).next(a=>Ms.forEach(a,a=>{const s=function(e,t){return new Fc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,uc.newInvalidDocument(r)))});let n=iu();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&ju(o.mutation,r,Sl.empty(),Ss.now()),Xc(t,r)&&(n=n.insert(e,r))}),n})}}class fh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ms.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ed(e.createTime)}}(t)),Ms.resolve()}getNamedQuery(e,t){return Ms.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Xd(e.bundledQuery),readTime:Ed(e.readTime)}}(t)),Ms.resolve()}}class mh{constructor(){this.overlays=new vl(ps.comparator),this.qr=new Map}getOverlay(e,t){return Ms.resolve(this.overlays.get(t))}getOverlays(e,t){const n=au();return Ms.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ms.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ms.resolve()}getOverlaysForCollection(e,t,n){const r=au(),i=t.length+1,o=new ps(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ms.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vl((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=au(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=au(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ms.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gu(t,n));let i=this.qr.get(t);void 0===i&&(i=du(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class gh{constructor(){this.sessionToken=Tl.EMPTY_BYTE_STRING}getSessionToken(e){return Ms.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ms.resolve()}}class yh{constructor(){this.Qr=new kl(vh.$r),this.Ur=new kl(vh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ps(new us([])),n=new vh(t,e),r=new vh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ps(new us([])),n=new vh(t,e),r=new vh(t,e+1);let i=du();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new vh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ps.comparator(e.key,t.key)||ns(e.Yr,t.Yr)}static Kr(e,t){return ns(e.Yr,t.Yr)||ps.comparator(e.key,t.key)}}class bh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kl(vh.$r)}checkEmpty(e){return Ms.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ku(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new vh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ms.resolve(o)}lookupMutationBatch(e,t){return Ms.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ms.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ms.resolve(0===this.mutationQueue.length?Fs:this.tr-1)}getAllMutationBatches(e){return Ms.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vh(t,0),r=new vh(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ms.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kl(ns);return t.forEach(e=>{const t=new vh(e,0),r=new vh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ms.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ps.isDocumentKey(i)||(i=i.child(""));const o=new vh(new ps(i),0);let a=new kl(ns);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},o),Ms.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ua(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ms.forEach(t.mutations,r=>{const i=new vh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vh(t,0),r=this.Zr.firstAfterOrEqual(n);return Ms.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ms.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wh{constructor(e){this.ri=e,this.docs=new vl(ps.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ms.resolve(n?n.document.mutableCopy():uc.newInvalidDocument(t))}getEntries(e,t){let n=nu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():uc.newInvalidDocument(e))}),Ms.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=nu();const o=t.path,a=new ps(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Is(_s(a),n)<=0||(r.has(a.key)||Xc(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ms.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ba(9500)}ii(e,t){return Ms.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new kh(this)}getSize(e){return Ms.resolve(this.size)}}class kh extends dh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ms.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xh{constructor(e){this.persistence=e,this.si=new eu(e=>Oc(e),jc),this.lastRemoteSnapshotVersion=Es.min(),this.highestTargetId=0,this.oi=0,this._i=new yh,this.targetCount=0,this.ai=rh.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ms.resolve()}getLastRemoteSnapshotVersion(e){return Ms.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ms.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ms.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ms.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new rh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ms.resolve()}updateTargetData(e,t){return this.Pr(t),Ms.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ms.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ms.waitFor(i).next(()=>r)}getTargetCount(e){return Ms.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ms.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ms.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ms.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ms.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ms.resolve(n)}containsKey(e,t){return Ms.resolve(this._i.containsKey(t))}}class Sh{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ls(0),this.li=!1,this.li=!0,this.hi=new gh,this.referenceDelegate=e(this),this.Pi=new xh(this),this.indexManager=new Jd,this.remoteDocumentCache=function(e){return new wh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Qd(t),this.Ii=new fh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new bh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Oa("MemoryPersistence","Starting transaction:",e);const r=new Eh(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ms.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Eh extends As{constructor(e){super(),this.currentSequenceNumber=e}}class Th{constructor(e){this.persistence=e,this.Ri=new yh,this.Vi=null}static mi(e){return new Th(e)}get fi(){if(this.Vi)return this.Vi;throw Ba(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ms.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ms.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ms.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ms.forEach(this.fi,n=>{const r=ps.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Es.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ms.or([()=>Ms.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.pi=new eu(e=>qs(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uh(this,t)}static mi(e,t){return new Ch(e,t)}Ei(){}di(e){return Ms.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ms.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ms.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Es.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ms.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ms.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ms.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ms.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zl(e.data.value)),t}br(e,t,n){return Ms.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ms.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=du(),r=du();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Dh(e,t.fromCache,n,r)}}class _h{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rh{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ke()?8:Os(qe())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new _h;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ma()<=ht.DEBUG&&Oa("QueryEngine","SDK will not create cache indexes for query:",Qc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ms.resolve()):(Ma()<=ht.DEBUG&&Oa("QueryEngine","Query:",Qc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ma()<=ht.DEBUG&&Oa("QueryEngine","The SDK decides to create cache indexes for query:",Qc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vc(t))):Ms.resolve())}ys(e,t){if(Uc(t))return Ms.resolve(null);let n=Vc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Kc(t,null,"F"),n=Vc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=du(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,Kc(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return Uc(t)||r.isEqual(Es.min())?Ms.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Ms.resolve(null):(Ma()<=ht.DEBUG&&Oa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qc(t)),this.vs(e,o,t,Ds(r,Ts)).next(e=>e))})}Ds(e,t){let n=new kl(Jc(e));return t.forEach((t,r)=>{Xc(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Ma()<=ht.DEBUG&&Oa("QueryEngine","Using full collection scan to execute query:",Qc(t)),this.ps.getDocumentsMatchingQuery(e,t,Rs.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ih="LocalStore";class Ph{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new vl(ns),this.xs=new eu(e=>Oc(e),jc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ph(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Ah(e,t,n,r){return new Ph(e,t,n,r)}async function Nh(e,t){const n=za(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=du();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function Mh(e){const t=za(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Oh(e,t,n){let r=du(),i=du();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nu();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Es.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Oa(Ih,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{ks:r,qs:i}})}function jh(e,t){const n=za(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Fs),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Lh(e,t){const n=za(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ms.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Gd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Fh(e,t,n){const r=za(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!js(e))throw e;Oa(Ih,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Bh(e,t,n){const r=za(e);let i=Es.min(),o=du();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=za(e),i=r.xs.get(n);return void 0!==i?Ms.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Vc(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Es.min(),n?o:du())).next(e=>(Wh(r,$c(t),e),{documents:e,Qs:o})))}function Wh(e,t,n){let r=e.Os.get(t)||Es.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Uh{constructor(){this.activeTargetIds=pu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zh{constructor(){this.Mo=new Uh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Uh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{Oo(e){}shutdown(){}}const Vh="ConnectivityMonitor";class Hh{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Oa(Vh,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Oa(Vh,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kh=null;function Yh(){return null===Kh?Kh=268435456+Math.round(2147483648*Math.random()):Kh++,"0x"+Kh.toString(16)}const Gh="RestConnection",Qh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xh{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Fl?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Yh(),a=this.zo(e,t.toUriEncodedString());Oa(Gh,"Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(a),c=Fe(l);return this.Jo(e,a,s,n,c).then(t=>(Oa(Gh,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw La(Gh,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Aa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Qh[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class $h{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jh="WebChannelConnection";class Zh extends Xh{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Yh();return new Promise((i,a)=>{const s=new ba;s.setWithCredentials(!0),s.listenOnce(ka.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case xa.NO_ERROR:const n=s.getResponseJson();Oa(Jh,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case xa.TIMEOUT:Oa(Jh,"RPC '".concat(e,"' ").concat(o," timed out")),a(new Va(qa.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const r=s.getStatus();if(Oa(Jh,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qa).indexOf(t)>=0?t:qa.UNKNOWN}(n.status);a(new Va(e,n.message))}else a(new Va(qa.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Va(qa.UNAVAILABLE,"Connection failed."));break;default:Ba(9055,{l_:e,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{Oa(Jh,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);Oa(Jh,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Yh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ca(),a=Ta(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Oa(Jh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const p=new $h({Yo:t=>{h?Oa(Jh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Oa(Jh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,wa.EventType.OPEN,()=>{h||(Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(u,wa.EventType.CLOSE,()=>{h||(h=!0,Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),f(u,wa.EventType.ERROR,t=>{h||(h=!0,La(Jh,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new Va(qa.UNAVAILABLE,"The operation could not be completed")))}),f(u,wa.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Ua(!!i,16349);const o=i,a=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Xu[e];if(void 0!==t)return Zu(t)}(t),i=a.message;void 0===n&&(n=qa.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,p.a_(new Va(n,i)),u.close()}else Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),f(a,Ea.STAT_EVENT,t=>{t.stat===Sa.PROXY?Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Sa.NOPROXY&&Oa(Jh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ep(){return"undefined"!=typeof document?document:null}function tp(e){return new bd(e,!0)}class np{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Oa("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rp="PersistentStream";class ip{constructor(e,t,n,r,i,o,a,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new np(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===qa.RESOURCE_EXHAUSTED?(ja(t.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Va(qa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Oa(rp,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Oa(rp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class op extends ip{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ba(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ua(void 0===t||"string"==typeof t,58123),Tl.fromBase64String(t||"")):(Ua(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Tl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?qa.UNKNOWN:Zu(e.code);return new Va(t,e.message||"")}(a);n=new dd(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rd(e,r.document.name),o=Ed(r.document.updateTime),a=r.document.createTime?Ed(r.document.createTime):Es.min(),s=new lc({mapValue:{fields:r.document.fields}}),l=uc.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Rd(e,r.document),o=r.readTime?Ed(r.readTime):Es.min(),a=uc.newNoDocument(i,o),s=r.removedTargetIds||[];n=new cd([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Rd(e,r.document),o=r.removedTargetIds||[];n=new cd([],o,i,null)}else{if(!("filter"in t))return Ba(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Qu(r,i),a=e.targetId;n=new ud(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Es.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Es.min():t.readTime?Ed(t.readTime):Es.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ad(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lc(r)?{documents:jd(e,r)}:{query:Ld(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xd(e,t.resumeToken);const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Es.min())>0){n.readTime=kd(e,t.snapshotVersion.toTimestamp());const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ba(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ad(this.serializer),t.removeTarget=e,this.q_(t)}}class ap extends ip{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ua(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ua(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ua(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ua(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ed(e.updateTime):Ed(t);return n.isEqual(Es.min())&&(n=Ed(t)),new Iu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ed(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ad(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Od(this.serializer,e))};this.q_(t)}}class sp{}class lp extends sp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Va(qa.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Go(e,Cd(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Va(qa.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Ho(e,Cd(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Va(qa.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ja(t),this.aa=!1):Oa("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const up="RemoteStore";class dp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{wp(this)&&(Oa(up,"Restarting streams for network reachability change."),await async function(e){const t=za(e);t.Ea.add(4),await pp(t),t.Ra.set("Unknown"),t.Ea.delete(4),await hp(t)}(this))})}),this.Ra=new cp(n,r)}}async function hp(e){if(wp(e))for(const t of e.da)await t(!0)}async function pp(e){for(const t of e.da)await t(!1)}function fp(e,t){const n=za(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bp(n)?vp(n):Bp(n).O_()&&gp(n,t))}function mp(e,t){const n=za(e),r=Bp(n);n.Ia.delete(t),r.O_()&&yp(n,t),0===n.Ia.size&&(r.O_()?r.L_():wp(n)&&n.Ra.set("Unknown"))}function gp(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Es.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bp(e).Y_(t)}function yp(e,t){e.Va.Ue(t),Bp(e).Z_(t)}function vp(e){e.Va=new pd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Bp(e).start(),e.Ra.ua()}function bp(e){return wp(e)&&!Bp(e).x_()&&e.Ia.size>0}function wp(e){return 0===za(e).Ea.size}function kp(e){e.Va=void 0}async function xp(e){e.Ra.set("Online")}async function Sp(e){e.Ia.forEach((t,n)=>{gp(e,t)})}async function Ep(e,t){kp(e),bp(e)?(e.Ra.ha(t),vp(e)):e.Ra.set("Unknown")}async function Tp(e,t,n){if(e.Ra.set("Online"),t instanceof dd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Oa(up,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cp(e,n)}else if(t instanceof cd?e.Va.Ze(t):t instanceof ud?e.Va.st(t):e.Va.tt(t),!n.isEqual(Es.min()))try{const t=await Mh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Tl.EMPTY_BYTE_STRING,r.snapshotVersion)),yp(e,t);const i=new Gd(r.target,t,n,r.sequenceNumber);gp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Oa(up,"Failed to raise snapshot:",t),await Cp(e,t)}}async function Cp(e,t,n){if(!js(t))throw t;e.Ea.add(1),await pp(e),e.Ra.set("Offline"),n||(n=()=>Mh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Oa(up,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await hp(e)})}function Dp(e,t){return t().catch(n=>Cp(e,n,t))}async function _p(e){const t=za(e),n=Wp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fs;for(;Rp(t);)try{const e=await jh(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ip(t,e)}catch(e){await Cp(t,e)}Pp(t)&&Ap(t)}function Rp(e){return wp(e)&&e.Ta.length<10}function Ip(e,t){e.Ta.push(t);const n=Wp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Pp(e){return wp(e)&&!Wp(e).x_()&&e.Ta.length>0}function Ap(e){Wp(e).start()}async function Np(e){Wp(e).ra()}async function Mp(e){const t=Wp(e);for(const n of e.Ta)t.ea(n.mutations)}async function Op(e,t,n){const r=e.Ta.shift(),i=Yu.from(r,t,n);await Dp(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _p(e)}async function jp(e,t){t&&Wp(e).X_&&await async function(e,t){if(function(e){return Ju(e)&&e!==qa.ABORTED}(t.code)){const n=e.Ta.shift();Wp(e).B_(),await Dp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _p(e)}}(e,t),Pp(e)&&Ap(e)}async function Lp(e,t){const n=za(e);n.asyncQueue.verifyOperationInProgress(),Oa(up,"RemoteStore received new credentials");const r=wp(n);n.Ea.add(3),await pp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hp(n)}async function Fp(e,t){const n=za(e);t?(n.Ea.delete(2),await hp(n)):t||(n.Ea.add(2),await pp(n),n.Ra.set("Unknown"))}function Bp(e){return e.ma||(e.ma=function(e,t,n){const r=za(e);return r.sa(),new op(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:xp.bind(null,e),t_:Sp.bind(null,e),r_:Ep.bind(null,e),H_:Tp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),bp(e)?vp(e):e.Ra.set("Unknown")):(await e.ma.stop(),kp(e))})),e.ma}function Wp(e){return e.fa||(e.fa=function(e,t,n){const r=za(e);return r.sa(),new ap(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Np.bind(null,e),r_:jp.bind(null,e),ta:Mp.bind(null,e),na:Op.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await _p(e)):(await e.fa.stop(),e.Ta.length>0&&(Oa(up,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Up{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Up(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Va(qa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(e,t){if(ja("AsyncQueue","".concat(t,": ").concat(e)),js(e))return new Va(qa.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qp{static emptySet(e){return new qp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ps.comparator(t.key,n.key):(e,t)=>ps.comparator(e.key,t.key),this.keyedMap=iu(),this.sortedSet=new vl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vp{constructor(){this.ga=new vl(ps.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ba(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Hp{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Hp(e,t,qp.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Yp{constructor(){this.queries=Gp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=za(e),r=n.queries;n.queries=Gp(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Va(qa.ABORTED,"Firestore shutting down"))}}function Gp(){return new eu(e=>Gc(e),Yc)}async function Qp(e,t){const n=za(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Kp,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=zp(e,"Initialization of query '".concat(Qc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Zp(n)}async function Xp(e,t){const n=za(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $p(e,t){const n=za(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Zp(n)}function Jp(e,t,n){const r=za(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Zp(e){e.Ca.forEach(e=>{e.next()})}var ef,tf;(tf=ef||(ef={})).Ma="default",tf.Cache="cache";class nf{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Hp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ef.Cache}}class rf{constructor(e){this.key=e}}class of{constructor(e){this.key=e}}class af{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=du(),this.mutatedKeys=du(),this.eu=Jc(e),this.tu=new qp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Vp,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(a=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ba(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==o.length||l?{snapshot:new Hp(this.query,e.tu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=du(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new of(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new rf(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=du();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const sf="SyncEngine";class lf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cf{constructor(e){this.key=e,this.hu=!1}}class uf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new eu(e=>Gc(e),Yc),this.Iu=new Map,this.Eu=new Set,this.du=new vl(ps.comparator),this.Au=new Map,this.Ru=new yh,this.Vu={},this.mu=new Map,this.fu=rh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function df(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Af(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await pf(r,t,n,!0),i}async function hf(e,t){const n=Af(e);await pf(n,t,!0,!1)}async function pf(e,t,n,r){const i=await Lh(e.localStore,Vc(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await ff(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&fp(e.remoteStore,i),s}async function ff(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Bh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Cf(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const o=await Bh(e.localStore,t,!0),a=new af(t,o.Qs),s=a.ru(o.documents),l=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Cf(e,n,c.au);const u=new lf(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function mf(e,t,n){const r=za(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Yc(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mp(r.remoteStore,i.targetId),Ef(r,i.targetId)}).catch(Ns)):(Ef(r,i.targetId),await Fh(r.localStore,i.targetId,!0))}async function gf(e,t){const n=za(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mp(n.remoteStore,r.targetId))}async function yf(e,t){const n=za(e);try{const e=await function(e,t){const n=za(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Tl.EMPTY_BYTE_STRING,Es.min()).withLastLimboFreeSnapshotVersion(Es.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Pi.updateTargetData(e,c))});let s=nu(),l=du();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Oh(e,o,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(Es.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ms.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ua(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ua(r.hu,14607):e.removedDocuments.size>0&&(Ua(r.hu,42227),r.hu=!1))}),await Rf(n,e,t)}catch(e){await Ns(e)}}function vf(e,t,n){const r=za(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=za(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Zp(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bf(e,t,n){const r=za(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new vl(ps.comparator);e=e.insert(o,uc.newNoDocument(o,Es.min()));const n=du().add(o),i=new sd(Es.min(),new Map,new vl(ns),e,n);await yf(r,i),r.du=r.du.remove(o),r.Au.delete(t),_f(r)}else await Fh(r.localStore,t,!1).then(()=>Ef(r,t,n)).catch(Ns)}async function wf(e,t){const n=za(e),r=t.batch.batchId;try{const e=await function(e,t){const n=za(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ms.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Ua(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=du();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Sf(n,r,null),xf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rf(n,e)}catch(e){await Ns(e)}}async function kf(e,t,n){const r=za(e);try{const e=await function(e,t){const n=za(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ua(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Sf(r,t,n),xf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rf(r,e)}catch(n){await Ns(n)}}function xf(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Sf(e,t,n){const r=za(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Ef(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Tf(e,t)})}function Tf(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(mp(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),_f(e))}function Cf(e,t,n){for(const r of n)r instanceof rf?(e.Ru.addReference(r.key,t),Df(e,r)):r instanceof of?(Oa(sf,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Tf(e,r.key)):Ba(19791,{wu:r})}function Df(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Oa(sf,"New document in limbo: "+n),e.Eu.add(r),_f(e))}function _f(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ps(us.fromString(t)),r=e.fu.next();e.Au.set(r,new cf(n)),e.du=e.du.insert(n,r),fp(e.remoteStore,new Gd(Vc(Wc(n.path)),r,"TargetPurposeLimboResolution",Ls.ce))}}async function Rf(e,t,n){const r=za(e),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Dh.As(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=za(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ms.forEach(t,t=>Ms.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ms.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!js(e))throw e;Oa(Ih,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function If(e,t){const n=za(e);if(!n.currentUser.isEqual(t)){Oa(sf,"User change. New user:",t.toKey());const e=await Nh(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Va(qa.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rf(n,e.Ls)}}function Pf(e,t){const n=za(e),r=n.Au.get(t);if(r&&r.hu)return du().add(r.key);{let e=du();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Af(e){const t=za(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bf.bind(null,t),t.Pu.H_=$p.bind(null,t.eventManager),t.Pu.yu=Jp.bind(null,t.eventManager),t}function Nf(e){const t=za(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kf.bind(null,t),t}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ah(this.persistence,new Rh,e.initialUser,this.serializer)}Cu(e){return new Sh(Th.mi,this.serializer)}Du(e){return new zh}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class Of extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ua(this.persistence.referenceDelegate instanceof Ch,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?nh.withCacheSize(this.cacheSizeBytes):nh.DEFAULT;return new Sh(e=>Ch.mi(e,t),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=If.bind(null,this.syncEngine),await Fp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yp}createDatastore(e){const t=tp(e.databaseInfo.databaseId),n=function(e){return new Zh(e)}(e.databaseInfo);return function(e,t,n,r){return new lp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>vf(this.syncEngine,e,0),Hh.v()?new Hh:new qh)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new uf(e,t,n,r,i,o);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=za(e);Oa(up,"RemoteStore shutting down."),t.Ea.add(5),await pp(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jf.provider={build:()=>new jf};class Lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ff="FirestoreClient";class Bf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pa.UNAUTHENTICATED,this.clientId=ts.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Oa(Ff,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Oa(Ff,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Wf(e,t){e.asyncQueue.verifyOperationInProgress(),Oa(Ff,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Nh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Uf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zf(e);Oa(Ff,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Lp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Lp(t.remoteStore,n)),e._onlineComponents=t}async function zf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Oa(Ff,"Using user provided OfflineComponentProvider");try{await Wf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===qa.FAILED_PRECONDITION||e.code===qa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Wf(e,new Mf)}}else Oa(Ff,"Using default OfflineComponentProvider"),await Wf(e,new Of(void 0));return e._offlineComponents}async function qf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Oa(Ff,"Using user provided OnlineComponentProvider"),await Uf(e,e._uninitializedComponentsProvider._online)):(Oa(Ff,"Using default OnlineComponentProvider"),await Uf(e,new jf))),e._onlineComponents}function Vf(e){return qf(e).then(e=>e.syncEngine)}async function Hf(e){const t=await qf(e),n=t.eventManager;return n.onListen=df.bind(null,t.syncEngine),n.onUnlisten=mf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gf.bind(null,t.syncEngine),n}function Kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ha;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Lf({next:s=>{o.Nu(),t.enqueueAndForget(()=>Xp(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Va(qa.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Va(qa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new nf(Wc(n.path),o,{includeMetadataChanges:!0,qa:!0});return Qp(e,a)}(await Hf(e),e.asyncQueue,t,n,r)),r.promise}function Yf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Gf=new Map,Qf="firestore.googleapis.com",Xf=!0;class $f{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Va(qa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qf,this.ssl=Xf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xf;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=th;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<oh)throw new Va(qa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Va(qa.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Va(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Va(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Va(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $f({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Va(qa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Va(qa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $f(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ya;switch(e.type){case"firstParty":return new $a(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Va(qa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gf.get(e);t&&(Oa("ComponentProvider","Removing Datastore"),Gf.delete(e),t.terminate())}(this),Promise.resolve()}}function Zf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=vs(e,Jf);const i=Fe(t),o=e._getSettings(),a=(0,Ce.A)((0,Ce.A)({},o),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(Be("https://".concat(s)),ze("Firestore",!0)),o.host!==Qf&&o.host!==s&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=(0,Ce.A)((0,Ce.A)({},o),{},{host:s,ssl:i,emulatorOptions:r});if(!Je(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pa.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=(0,Ce.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Va(qa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pa(i)}e._authCredentials=new Ga(new Ka(t,n))}}class em{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new em(this.firestore,e,this._query)}}class tm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tm(this.firestore,e,this._key)}toJSON(){return{type:tm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ws(t,tm._jsonSchema))return new tm(e,n||null,new ps(us.fromString(t.referencePath)))}}tm._jsonSchemaVersion="firestore/documentReference/1.0",tm._jsonSchema={type:bs("string",tm._jsonSchemaVersion),referencePath:bs("string")};class nm extends em{constructor(e,t,n){super(e,t,Wc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tm(this.firestore,null,new ps(e))}withConverter(e){return new nm(this.firestore,e,this._path)}}function rm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=at(e),1===arguments.length&&(t=ts.newId()),fs("doc","path",t),e instanceof Jf){const n=us.fromString(t,...r);return ms(n),new tm(e,null,new ps(n))}{if(!(e instanceof tm||e instanceof nm))throw new Va(qa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(us.fromString(t,...r));return ms(n),new tm(e.firestore,e instanceof nm?e.converter:null,new ps(n))}}const im="AsyncQueue";class om{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new np(this,"async_queue_retry"),this._c=()=>{const e=ep();e&&Oa(im,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ep();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ep();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ha;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(XE){if(!js(XE))throw XE;Oa(im,"Operation failed with retryable error: "+XE)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ja("INTERNAL UNHANDLED ERROR: ",am(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Up.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ba(47125,{Pc:am(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function am(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class sm extends Jf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new om,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new om(e),this._firestoreClient=void 0,await e}}}function lm(e){if(e._terminated)throw new Va(qa.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cm(e),e._firestoreClient}function cm(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ll(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Bf(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class um{constructor(e){this._byteString=e}static fromBase64String(e){try{return new um(Tl.fromBase64String(e))}catch(e){throw new Va(qa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new um(Tl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:um._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ws(e,um._jsonSchema))return um.fromBase64String(e.bytes)}}um._jsonSchemaVersion="firestore/bytes/1.0",um._jsonSchema={type:bs("string",um._jsonSchemaVersion),bytes:bs("string")};class dm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Va(qa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hm{constructor(e){this._methodName=e}}class pm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Va(qa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Va(qa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ns(this._lat,e._lat)||ns(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pm._jsonSchemaVersion}}static fromJSON(e){if(ws(e,pm._jsonSchema))return new pm(e.latitude,e.longitude)}}pm._jsonSchemaVersion="firestore/geoPoint/1.0",pm._jsonSchema={type:bs("string",pm._jsonSchemaVersion),latitude:bs("number"),longitude:bs("number")};class fm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ws(e,fm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fm(e.vectorValues);throw new Va(qa.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fm._jsonSchemaVersion="firestore/vectorValue/1.0",fm._jsonSchema={type:bs("string",fm._jsonSchemaVersion),vectorValues:bs("object")};const mm=/^__.*__$/;class gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class ym{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ba(40011,{Ac:e})}}class bm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm((0,Ce.A)((0,Ce.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(vm(this.Ac)&&mm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tp(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bm({Ac:e,methodName:t,Dc:n,path:hs.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(e){const t=e._freezeSettings(),n=tp(e._databaseId);return new wm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xm(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);Im("Data must be an object, but it was:",a,r);const s=_m(r,a);let l,c;if(o.merge)l=new Sl(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Pm(t,r,n);if(!a.contains(i))throw new Va(qa.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Om(e,i)||e.push(i)}l=new Sl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new gm(new lc(s),l,c)}class Sm extends hm{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class Em extends hm{_toFieldTransform(e){return new Ru(e.path,new ku)}isEqual(e){return e instanceof Em}}function Tm(e,t,n,r){const i=e.Cc(1,t,n);Im("Data must be an object, but it was:",i,r);const o=[],a=lc.empty();gl(r,(e,r)=>{const s=Nm(t,e,n);r=at(r);const l=i.yc(s);if(r instanceof Sm)o.push(s);else{const e=Dm(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new Sl(o);return new ym(a,s,i.fieldTransforms)}function Cm(e,t,n,r,i,o){const a=e.Cc(1,t,n),s=[Pm(t,r,n)],l=[i];if(o.length%2!=0)throw new Va(qa.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(Pm(t,o[h])),l.push(o[h+1]);const c=[],u=lc.empty();for(let h=s.length-1;h>=0;--h)if(!Om(c,s[h])){const e=s[h];let t=l[h];t=at(t);const n=a.yc(e);if(t instanceof Sm)c.push(e);else{const r=Dm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Sl(c);return new ym(u,d,a.fieldTransforms)}function Dm(e,t){if(Rm(e=at(e)))return Im("Unsupported field value:",t,e),_m(e,t);if(e instanceof hm)return function(e,t){if(!vm(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dm(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=at(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ss.fromDate(e);return{timestampValue:kd(t.serializer,n)}}if(e instanceof Ss){const n=new Ss(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kd(t.serializer,n)}}if(e instanceof pm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof um)return{bytesValue:xd(t.serializer,e._byteString)};if(e instanceof tm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Td(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fm)return function(e,t){return{mapValue:{fields:{[Wl]:{stringValue:ql},[Vl]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return fu(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ys(e)))}(e,t)}function _m(e,t){const n={};return yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gl(e,(e,r)=>{const i=Dm(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Rm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ss||e instanceof pm||e instanceof um||e instanceof tm||e instanceof hm||e instanceof fm)}function Im(e,t,n){if(!Rm(n)||!gs(n)){const r=ys(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Pm(e,t,n){if((t=at(t))instanceof dm)return t._internalPath;if("string"==typeof t)return Nm(e,t);throw Mm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Am=new RegExp("[~\\*/\\[\\]]");function Nm(e,t,n){if(t.search(Am)>=0)throw Mm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dm(...t.split("."))._internalPath}catch(Oy){throw Mm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mm(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Va(qa.INVALID_ARGUMENT,s+e+l)}function Om(e,t){return e.some(e=>e.isEqual(t))}class jm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lm extends jm{data(){return super.data()}}function Fm(e,t){return"string"==typeof t?Nm(e,t):t instanceof dm?t._internalPath:t._delegate._internalPath}class Bm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _l(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ba(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return gl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Vl].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>_l(e.doubleValue));return new fm(n)}convertGeoPoint(e){return new pm(_l(e.latitude),_l(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ol(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new Ss(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=us.fromString(e);Ua(Yd(n),9688,{name:e});const r=new Bl(n.get(1),n.get(3)),i=new ps(n.popFirst(5));return r.isEqual(t)||ja("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Wm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Um{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zm extends jm{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Va(qa.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}zm._jsonSchemaVersion="firestore/documentSnapshot/1.0",zm._jsonSchema={type:bs("string",zm._jsonSchemaVersion),bundleSource:bs("string","DocumentSnapshot"),bundleName:bs("string"),bundle:bs("string")};class qm extends zm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Um(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new qm(this._firestore,this._userDataWriter,n.key,n,new Um(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Va(qa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new qm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Um(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new qm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Hm(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Va(qa.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ts.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ba(61501,{type:e})}}Vm._jsonSchemaVersion="firestore/querySnapshot/1.0",Vm._jsonSchema={type:bs("string",Vm._jsonSchemaVersion),bundleSource:bs("string","QuerySnapshot"),bundleName:bs("string"),bundle:bs("string")};class Km extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new um(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tm(this.firestore,null,t)}}function Ym(e,t,n){e=vs(e,tm);const r=vs(e.firestore,sm),i=Wm(e.converter,t,n);return Gm(r,[xm(km(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Pu.none())])}function Gm(e,t){return function(e,t){const n=new Ha;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Nf(e);try{const e=await function(e,t){const n=za(e),r=Ss.now(),i=t.reduce((e,t)=>e.add(t.key),du());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=nu(),l=du();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Lu(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Wu(e.key,t,cc(t.value.mapValue),Pu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:ou(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new vl(ns)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rf(r,e.changes),await _p(r.remoteStore)}catch(e){const t=zp(e,"Failed to persist write");n.reject(t)}}(await Vf(e),t,n)),n.promise}(lm(e),t)}function Qm(e,t,n){const r=n.docs.get(t._key),i=new Km(e);return new zm(e,i,t._key,r,new Um(n.hasPendingWrites,n.fromCache),t.converter)}function Xm(){return new Em("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Aa=e}(Sn),vn(new st("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new sm(new Qa(e.getProvider("auth-internal")),new Za(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Va(qa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(e.options.projectId,t)}(o,r),o);return i=(0,Ce.A)({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cn(Ra,Ia,e),Cn(Ra,Ia,"esm2020")}();const $m="@firebase/installations",Jm="0.6.19",Zm=1e4,eg="w:".concat(Jm),tg="FIS_v2",ng=36e5,rg=new Xe("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ig(e){return e instanceof Qe&&e.code.includes("request-failed")}function og(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ag(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function sg(e,t){const n=(await t.json()).error;return rg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function lg(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cg(e,t){let{refreshToken:n}=t;const r=lg(e);return r.append("Authorization",function(e){return"".concat(tg," ").concat(e)}(n)),r}async function ug(e){const t=await e();return t.status>=500&&t.status<600?e():t}function dg(e){return new Promise(t=>{setTimeout(t,e)})}const hg=/^[cdef][\w-]{21}$/;function pg(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return hg.test(t)?t:""}catch(e){return""}}function fg(e){return"".concat(e.appName,"!").concat(e.appId)}const mg=new Map;function gg(e,t){const n=fg(e);yg(n,t),function(e,t){const n=bg();n&&n.postMessage({key:e,fid:t});wg()}(n,t)}function yg(e,t){const n=mg.get(e);if(n)for(const r of n)r(t)}let vg=null;function bg(){return!vg&&"BroadcastChannel"in self&&(vg=new BroadcastChannel("[Firebase] FID Change"),vg.onmessage=e=>{yg(e.data.key,e.data.fid)}),vg}function wg(){0===mg.size&&vg&&(vg.close(),vg=null)}const kg="firebase-installations-store";let xg=null;function Sg(){return xg||(xg=It("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kg)}})),xg}async function Eg(e,t){const n=fg(e),r=(await Sg()).transaction(kg,"readwrite"),i=r.objectStore(kg),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||gg(e,t.fid),t}async function Tg(e){const t=fg(e),n=(await Sg()).transaction(kg,"readwrite");await n.objectStore(kg).delete(t),await n.done}async function Cg(e,t){const n=fg(e),r=(await Sg()).transaction(kg,"readwrite"),i=r.objectStore(kg),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||gg(e,a.fid),a}async function Dg(e){let t;const n=await Cg(e.appConfig,n=>{const r=function(e){const t=e||{fid:pg(),registrationStatus:0};return Ig(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(rg.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=og(n),a=lg(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:tg,appId:n.appId,sdkVersion:eg},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await ug(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:ag(e.authToken)}}throw await sg("Create Installation",u)}(e,t);return Eg(e.appConfig,n)}catch(XE){throw ig(XE)&&409===XE.customData.serverCode?await Tg(e.appConfig):await Eg(e.appConfig,{fid:t.fid,registrationStatus:0}),XE}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_g(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function _g(e){let t=await Rg(e.appConfig);for(;1===t.registrationStatus;)await dg(100),t=await Rg(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Dg(e);return n||t}return t}function Rg(e){return Cg(e,e=>{if(!e)throw rg.create("installation-not-found");return Ig(e)})}function Ig(e){return 1===(t=e).registrationStatus&&t.registrationTime+Zm<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Pg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(og(e),"/").concat(n,"/authTokens:generate")}(n,t),o=cg(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:eg,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await ug(()=>fetch(i,l));if(c.ok){return ag(await c.json())}throw await sg("Generate Auth Token",c)}async function Ag(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Cg(e.appConfig,r=>{if(!Mg(r))throw rg.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ng}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Ng(e.appConfig);for(;1===n.authToken.requestStatus;)await dg(100),n=await Ng(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Ag(e,t):r}(e,n),r;{if(!navigator.onLine)throw rg.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,Ce.A)((0,Ce.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Pg(e,t),r=(0,Ce.A)((0,Ce.A)({},t),{},{authToken:n});return await Eg(e.appConfig,r),n}catch(XE){if(!ig(XE)||401!==XE.customData.serverCode&&404!==XE.customData.serverCode){const n=(0,Ce.A)((0,Ce.A)({},t),{},{authToken:{requestStatus:0}});await Eg(e.appConfig,n)}else await Tg(e.appConfig);throw XE}}(e,n),n}});return t?await t:r.authToken}function Ng(e){return Cg(e,e=>{if(!Mg(e))throw rg.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Zm<Date.now()?(0,Ce.A)((0,Ce.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Mg(e){return void 0!==e&&2===e.registrationStatus}async function Og(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Dg(e);t&&await t}(n);return(await Ag(n,t)).token}function jg(e){return rg.create("missing-app-config-values",{valueName:e})}const Lg="installations",Fg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw jg("App Configuration");if(!e.name)throw jg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw jg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:bn(t,"heartbeat"),_delete:()=>Promise.resolve()}},Bg=e=>{const t=bn(e.getProvider("app").getImmediate(),Lg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Dg(t);return r?r.catch(console.error):Ag(t).catch(console.error),n.fid}(t),getToken:e=>Og(t,e)}};vn(new st(Lg,Fg,"PUBLIC")),vn(new st("installations-internal",Bg,"PRIVATE")),Cn($m,Jm),Cn($m,Jm,"esm2020");const Wg="analytics",Ug="https://www.googletagmanager.com/gtag/js",zg=new yt("@firebase/analytics"),qg=new Xe("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vg(e){if(!e.startsWith(Ug)){const t=qg.create("invalid-gtag-resource",{gtagURL:e});return zg.warn(t.message),""}return e}function Hg(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Kg(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Vg}),r=document.createElement("script"),i="".concat(Ug,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Yg(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Hg(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(XE){zg.error(XE)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await Hg(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(XE){zg.error(XE)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(XE){zg.error(XE)}}}const Gg=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Qg(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gg,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw qg.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw qg.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Jg;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),$g({appId:r,apiKey:i,measurementId:o},a,s,t)}async function $g(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gg;const{appId:a,measurementId:s}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(qg.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(XE){if(s)return zg.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===XE||void 0===XE?void 0:XE.message,"]")),{appId:a,measurementId:s};throw XE}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Qg(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var a;const t=await o.json();null!==(a=t.error)&&void 0!==a&&a.message&&(e=t.error.message)}catch(s){}throw qg.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(a),t}catch(XE){var l;const r=XE;if(!function(e){if(!(e instanceof Qe)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(a),s)return zg.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:s};throw XE}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?ot(i,o.intervalMillis,30):ot(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(a,u),zg.debug("Calling attemptFetch again in ".concat(c," millis")),$g(e,u,n,o)}}class Jg{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Zg,ey;function ty(e){ey=e}function ny(e){Zg=e}async function ry(e,t,n,r,i,o,a){var s;const l=Xg(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&zg.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>zg.error(e)),t.push(l);const c=async function(){if(!Ye())return zg.warn(qg.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ge()}catch(XE){return zg.warn(qg.create("indexeddb-unavailable",{errorInfo:null===XE||void 0===XE?void 0:XE.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ug)&&n.src.includes(e))return n;return null})(o)||Kg(o,u.measurementId),ey&&(i("consent","default",ey),ty(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Zg&&(i("set",Zg),ny(void 0)),u.measurementId}class iy{constructor(e){this.app=e}_delete(){return delete oy[this.app.options.appId],Promise.resolve()}}let oy={},ay=[];const sy={};let ly,cy,uy="dataLayer",dy="gtag",hy=!1;function py(){const e=[];if(He()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=qg.create("invalid-analytics-context",{errorInfo:t});zg.warn(n.message)}}function fy(e,t,n){py();const r=e.options.appId;if(!r)throw qg.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw qg.create("no-api-key");zg.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=oy[r])throw qg.create("already-exists",{id:r});if(!hy){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(uy);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Yg(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(oy,ay,sy,uy,dy);cy=e,ly=t,hy=!0}oy[r]=ry(e,ay,sy,t,ly,uy,n);return new iy(e)}function my(e,t,n){e=at(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(cy,oy[e.app.options.appId],t,n).catch(e=>zg.error(e))}function gy(e,t,n,r){e=at(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,(0,Ce.A)((0,Ce.A)({},r),{},{send_to:i}))}}(cy,oy[e.app.options.appId],t,n,r).catch(e=>zg.error(e))}const yy="@firebase/analytics",vy="0.10.19";vn(new st(Wg,(e,t)=>{let{options:n}=t;return fy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),vn(new st("analytics-internal",function(e){try{const t=e.getProvider(Wg).getImmediate();return{logEvent:(e,n,r)=>gy(t,e,n,r),setUserProperties:(e,n)=>my(t,e,n)}}catch(XE){throw qg.create("interop-component-reg-failed",{reason:XE})}},"PRIVATE")),Cn(yy,vy),Cn(yy,vy,"esm2020");const by=En({apiKey:"AIzaSyD8w8BevGoG5L5n5wSU5TrVyYe1qi008Do",authDomain:"run-plus-plans.firebaseapp.com",projectId:"run-plus-plans",storageBucket:"run-plus-plans.firebasestorage.app",messagingSenderId:"426458481793",appId:"1:426458481793:web:dbcb81b021501d94e7f980",measurementId:"G-HFHB0GWKCC"}),wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();const t=bn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=bn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Je(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Hn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:sa,persistence:[yo,Xi,to]}),r=je("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>da)return;const r=null===t||void 0===t?void 0:t.token;ha!==r&&(ha=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){at(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){at(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Me("auth");return o&&di(n,"http://".concat(o)),n}(by),ky=function(e,t){const n="object"==typeof e?e:Tn(),r="string"==typeof e?e:t||Fl,i=bn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Me(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Zf(i,...e)}return i}(by);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();e=at(e);const t=bn(e,Wg);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=bn(e,Wg);if(n.isInitialized()){const e=n.getImmediate();if(Je(t,n.getOptions()))return e;throw qg.create("already-initialized")}const r=n.initialize({options:t})}(e)}(by);const xy=new class{async saveUserProfile(e,t){try{const n=rm(ky,"users",e);return await Ym(n,{profile:(0,Ce.A)((0,Ce.A)({},t),{},{createdAt:Xm(),updatedAt:Xm()})},{merge:!0}),console.log("\u2705 User profile saved to Firestore"),{success:!0}}catch(n){return console.error("\u274c Error saving user profile:",n),{success:!1,error:n.message}}}async saveTrainingPlan(e,t){try{const n=rm(ky,"users",e);return await Ym(n,{trainingPlan:(0,Ce.A)((0,Ce.A)({},t),{},{savedAt:Xm()}),updatedAt:Xm()},{merge:!0}),console.log("\u2705 Training plan saved to Firestore"),{success:!0}}catch(n){return console.error("\u274c Error saving training plan:",n),{success:!1,error:n.message}}}async getUserData(e){try{const t=rm(ky,"users",e),n=await function(e){e=vs(e,tm);const t=vs(e.firestore,sm);return Kf(lm(t),e._key).then(n=>Qm(t,e,n))}(t);return n.exists()?(console.log("\u2705 User data loaded from Firestore"),{success:!0,data:n.data()}):(console.log("\u2139\ufe0f No user data found (new user)"),{success:!0,data:null})}catch(t){return console.error("\u274c Error loading user data:",t),{success:!1,error:t.message}}}async markWorkoutComplete(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{var i;rm(ky,"users",e);const o=await this.getUserData(e);if(!o.success||null===(i=o.data)||void 0===i||!i.trainingPlan)throw new Error("No training plan found");const a=o.data.trainingPlan,s=a.weeks.find(e=>e.week===t);if(s){const e=s.workouts.find(e=>e.day===n);e&&(e.completed=r,e.completedAt=r?(new Date).toISOString():null)}return await this.saveTrainingPlan(e,a),console.log("\u2705 Workout marked as ".concat(r?"complete":"incomplete")),{success:!0}}catch(o){return console.error("\u274c Error updating workout:",o),{success:!1,error:o.message}}}async saveModifiedWorkout(e,t,n,r){try{const i=rm(ky,"users",e);return await function(e,t,n){e=vs(e,tm);const r=vs(e.firestore,sm),i=km(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=at(t))||t instanceof dm?Cm(i,"updateDoc",e._key,t,n,s):Tm(i,"updateDoc",e._key,t),Gm(r,[o.toMutation(e._key,Pu.exists(!0))])}(i,{["modifiedWorkouts.".concat(t,"-").concat(n)]:(0,Ce.A)((0,Ce.A)({},r),{},{modifiedAt:Xm()}),updatedAt:Xm()}),console.log("\u2705 Modified workout saved"),{success:!0}}catch(i){return console.error("\u274c Error saving modified workout:",i),{success:!1,error:i.message}}}async getModifiedWorkouts(e){try{var t;const n=await this.getUserData(e);return n.success&&null!==(t=n.data)&&void 0!==t&&t.modifiedWorkouts?{success:!0,data:n.data.modifiedWorkouts}:{success:!0,data:{}}}catch(n){return console.error("\u274c Error loading modified workouts:",n),{success:!1,error:n.message}}}async clearUserData(e){try{const t=rm(ky,"users",e);return await Ym(t,{clearedAt:Xm()}),console.log("\u2705 User data cleared"),{success:!0}}catch(t){return console.error("\u274c Error clearing user data:",t),{success:!1,error:t.message}}}};var Sy=n(579);const Ey=function(){const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1);return(0,Sy.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)",padding:"20px"},children:(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"40px",maxWidth:"400px",width:"100%",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("h1",{style:{textAlign:"center",color:"#00D4FF",marginBottom:"8px",fontSize:"2rem"},children:"Run+ Plans"}),(0,Sy.jsx)("p",{style:{textAlign:"center",color:"#AAAAAA",marginBottom:"32px",fontSize:"0.9rem"},children:"Stand-up bike + running training plans"}),p?(0,Sy.jsxs)("div",{style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",borderRadius:"8px",padding:"16px",color:"#00D4FF",textAlign:"center",marginBottom:"20px"},children:[(0,Sy.jsx)("p",{style:{margin:0},children:"\u2705 Password reset email sent! Check your inbox."}),(0,Sy.jsx)("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",color:"#00D4FF",textDecoration:"underline",cursor:"pointer",marginTop:"12px"},children:"Back to login"})]}):(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(""),h(!0);try{if(e)await function(e,t,n){return wn(e.app)?Promise.reject(Gn(e)):Ui(at(e),Ci.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&qi(e),t})}(wy,n,o),console.log("\u2705 Logged in successfully");else{const e=await async function(e,t,n){if(wn(e.app))return Promise.reject(Gn(e));const r=Zr(e),i=ci(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ni,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&qi(e),t}),a=await Mi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(wy,n,o);s&&await Vi(e.user,{displayName:s}),console.log("\u2705 Account created successfully")}}catch(r){switch(console.error("\u274c Auth error:",r),r.code){case"auth/email-already-in-use":u("This email is already registered. Please login instead.");break;case"auth/weak-password":u("Password should be at least 6 characters.");break;case"auth/invalid-email":u("Please enter a valid email address.");break;case"auth/user-not-found":case"auth/wrong-password":u("Invalid email or password.");break;case"auth/too-many-requests":u("Too many failed attempts. Please try again later.");break;default:u("An error occurred. Please try again.")}}finally{h(!1)}},children:[!e&&(0,Sy.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Sy.jsx)("label",{style:{display:"block",color:"#CCCCCC",marginBottom:"8px"},children:"Name"}),(0,Sy.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Your name",style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#FFFFFF",fontSize:"1rem"}})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Sy.jsx)("label",{style:{display:"block",color:"#CCCCCC",marginBottom:"8px"},children:"Email"}),(0,Sy.jsx)("input",{type:"email",value:n,onChange:e=>r(e.target.value),required:!0,placeholder:"you@example.com",style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#FFFFFF",fontSize:"1rem"}})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sy.jsx)("label",{style:{display:"block",color:"#CCCCCC",marginBottom:"8px"},children:"Password"}),(0,Sy.jsx)("input",{type:"password",value:o,onChange:e=>a(e.target.value),required:!0,placeholder:"At least 6 characters",style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#FFFFFF",fontSize:"1rem"}})]}),c&&(0,Sy.jsx)("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid rgba(229, 62, 62, 0.3)",borderRadius:"6px",padding:"12px",color:"#FC8181",marginBottom:"16px",fontSize:"0.9rem"},children:c}),(0,Sy.jsx)("button",{type:"submit",disabled:d,style:{width:"100%",padding:"14px",background:d?"#666666":"#00D4FF",border:"none",borderRadius:"6px",color:"#000000",fontSize:"1rem",fontWeight:"bold",cursor:d?"not-allowed":"pointer",marginBottom:"16px"},children:d?"Loading...":e?"Login":"Create Account"}),e&&(0,Sy.jsx)("button",{type:"button",onClick:async()=>{if(n){u(""),h(!0);try{await async function(e,t,n){const r=Zr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&zi(r,i,n),await ci(r,i,"getOobCode",vi,"EMAIL_PASSWORD_PROVIDER")}(wy,n),f(!0),console.log("\u2705 Password reset email sent")}catch(e){console.error("\u274c Password reset error:",e),u("Could not send reset email. Please check your email address.")}finally{h(!1)}}else u("Please enter your email address first.")},disabled:d,style:{background:"transparent",border:"none",color:"#00D4FF",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem",display:"block",margin:"0 auto 16px"},children:"Forgot password?"})]}),(0,Sy.jsx)("div",{style:{textAlign:"center",paddingTop:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,Sy.jsx)("button",{onClick:()=>{t(!e),u("")},style:{background:"transparent",border:"none",color:"#AAAAAA",cursor:"pointer",fontSize:"0.9rem"},children:e?(0,Sy.jsxs)(Sy.Fragment,{children:["Don't have an account? ",(0,Sy.jsx)("span",{style:{color:"#00D4FF"},children:"Sign up"})]}):(0,Sy.jsxs)(Sy.Fragment,{children:["Already have an account? ",(0,Sy.jsx)("span",{style:{color:"#00D4FF"},children:"Login"})]})})})]})]})})};const Ty=function(){const e=ee(),[t,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=localStorage.getItem("runeq_userProfile"),t=localStorage.getItem("runeq_trainingPlan");n(!!e&&!!t)},[]),(0,Sy.jsxs)("div",{className:"fade-in",style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,Sy.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:(0,Sy.jsx)("div",{className:"container",children:(0,Sy.jsxs)("div",{style:{textAlign:"center",padding:"60px 0"},children:[(0,Sy.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"16px"},children:"Run+ Plans"}),(0,Sy.jsx)("p",{style:{fontSize:"1.25rem",color:"#AAAAAA",marginBottom:"32px",maxWidth:"600px",margin:"0 auto 32px"},children:"The intelligent training app that adapts to your equipment, climate, and life. Built for runners, cyclists, and stand-up bike athletes."}),(0,Sy.jsxs)("div",{className:"card-grid",style:{marginBottom:"40px",textAlign:"left"},children:[(0,Sy.jsxs)("div",{className:"card slide-up",style:{animationDelay:"0.1s"},children:[(0,Sy.jsx)("div",{className:"equipment-icon",children:"\ud83d\udeb4\u200d\u2642\ufe0f"}),(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",marginBottom:"8px"},children:"Equipment Specific"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:0},children:'Cyclete and ElliptiGO workouts with motion-specific training. No more generic "bike conversion" - real equipment intelligence.'})]}),(0,Sy.jsxs)("div",{className:"card slide-up",style:{animationDelay:"0.2s"},children:[(0,Sy.jsx)("div",{className:"equipment-icon",children:"\ud83c\udf21\ufe0f"}),(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",marginBottom:"8px"},children:"Climate Smart"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:0},children:"Automatic pace adjustments for heat, humidity, and altitude. No more impossible paces in tropical climates."})]}),(0,Sy.jsxs)("div",{className:"card slide-up",style:{animationDelay:"0.3s"},children:[(0,Sy.jsx)("div",{className:"equipment-icon",children:"\ud83d\udd04"}),(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",marginBottom:"8px"},children:"Life Flexible"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:0},children:"Miss a workout? Change your mind? We adapt without penalty. Real training for real life."})]})]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"32px",textAlign:"left"},children:[(0,Sy.jsx)("h3",{style:{textAlign:"center",marginBottom:"20px"},children:"Why Run+ Plans vs Others?"}),(0,Sy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"80+ workout varieties"})," vs repetitive formats"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Cross-platform access"})," - phone, tablet, and web"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Equipment-specific training"})," nobody else offers"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Smart workout substitution"})," that counts properly"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Future Garmin integration"})," - instant workout sync"]})]})]})]}),(0,Sy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",maxWidth:"400px",margin:"0 auto"},children:t?(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("button",{className:"btn btn-success btn-full-width",onClick:()=>e("/dashboard"),style:{fontSize:"1.1rem",padding:"20px"},children:"\ud83d\udcc5 Continue Your Training Plan"}),(0,Sy.jsx)("button",{className:"btn btn-secondary btn-full-width",onClick:()=>e("/onboarding"),style:{fontSize:"1rem",padding:"16px"},children:"\ud83d\ude80 Start New Training Plan"}),(0,Sy.jsx)("button",{className:"btn",onClick:()=>{localStorage.clear(),window.location.reload()},style:{fontSize:"0.9rem",padding:"12px",background:"transparent",border:"1px solid #666",color:"#999"},children:"\ud83d\uddd1\ufe0f Clear All Data & Start Fresh"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",color:"#888888",margin:"8px 0"},children:"Welcome back! Continue where you left off or create a new plan."})]}):(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("button",{className:"btn btn-success btn-full-width",onClick:()=>e("/onboarding"),style:{fontSize:"1.1rem",padding:"20px"},children:"\ud83d\ude80 Start Free Training Plan"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",color:"#888888",margin:"8px 0"},children:"Experience the full onboarding flow for free. See your personalized plan before subscribing."}),(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"0.8rem",color:"#666666"},children:[(0,Sy.jsx)("span",{children:"\u2713 No credit card"}),(0,Sy.jsx)("span",{children:"\u2713 Full preview"}),(0,Sy.jsx)("span",{children:"\u2713 All features"})]})]})})]})})}),(0,Sy.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"#AAAAAA",padding:"20px 0",textAlign:"center"},children:(0,Sy.jsx)("div",{className:"container",children:(0,Sy.jsx)("p",{style:{margin:"0",fontSize:"0.9rem",color:"#888888"},children:"Built by runners, for runners. Research-based workouts from McMillan, Hal Higdon, Ben Parkes, and more."})})})]})};class Cy{constructor(){this.tempoIntensityGuidelines={comfortablyHard:{description:"Controlled breathing, can speak in short sentences",heartRate:"86-90% max HR",effort:"Medium-hard effort, sustainable for 20-60 minutes"},thresholdPace:{description:"Lactate threshold pace - usually around 1-hour race pace",heartRate:"88-92% max HR",effort:"Controlled discomfort, rhythmic breathing"},tempoPlus:{description:"Slightly faster than threshold - 10K to 15K pace",heartRate:"90-94% max HR",effort:"Harder breathing, shorter sustainable durations"}},this.workoutLibrary={TRADITIONAL_TEMPO:[{name:"Classic Tempo Run",duration:"20-40 minutes",structure:"15-20 min easy warmup + 20-40 min tempo + 10-15 min easy cooldown",intensity:"comfortablyHard",source:"Hal Higdon / McMillan",description:"Continuous run at lactate threshold pace",benefits:"Improves lactate clearance, race pacing, mental toughness",progression:{beginner:"Start with 15-20 min tempo, build by 3-5 min weekly",intermediate:"20-30 min tempo, focus on consistent pacing",advanced:"30-40 min tempo, practice race-specific scenarios"}},{name:"Sandwich Tempo",duration:"30-45 minutes total",structure:"10-15 min easy + 15-20 min tempo + 5-10 min easy",intensity:"comfortablyHard",source:"Hal Higdon adaptation",description:"Tempo effort sandwiched between easy running",benefits:"Teaches body to settle into tempo rhythm, race simulation"}],TEMPO_INTERVALS:[{name:"McMillan 2x2 Miles",duration:"45-50 minutes total",structure:"Warmup + 2x2 miles @ tempo with 3 min recovery + Cooldown",intensity:"thresholdPace",source:"McMillan Running",description:"Two 2-mile repeats at threshold pace",benefits:"Mental preparation for longer races, pacing practice",variations:["2x3 miles for marathon training","3x2 miles for advanced athletes","2x1.5 miles for beginners"]},{name:"Cruise Intervals",duration:"30-40 minutes total",structure:"Warmup + 4-6 x 3-8 min @ tempo with 1-2 min recovery + Cooldown",intensity:"thresholdPace",source:"Jack Daniels / McMillan",description:"Multiple medium-length intervals at threshold pace",benefits:"Accumulates time at threshold, teaches recovery between efforts",examples:["4 x 5 min with 90 sec recovery","5 x 4 min with 2 min recovery","6 x 3 min with 60 sec recovery"]},{name:"Cutdown Tempo Intervals",duration:"40-45 minutes total",structure:"Warmup + 5 min + 4 min + 3 min + 2 min @ tempo (2 min recovery) + Cooldown",intensity:"thresholdPace",source:"Advanced coaching adaptation",description:"Descending interval lengths at consistent tempo pace",benefits:"Mental strength, teaches pace discipline under fatigue"}],ALTERNATING_TEMPO:[{name:"McMillan Minutes Workout",duration:"20-60 minutes total",structure:"Warmup + Alternate 1 min tempo / 1 min easy x 10-30 + Cooldown",intensity:"comfortablyHard",source:"McMillan Running",description:"Alternate tempo and easy minutes without stopping",benefits:"Avoids going too fast, accumulates threshold time",progression:{week1:"10 x (1 min on / 1 min easy)",week4:"20 x (1 min on / 1 min easy)",week8:"25-30 x (1 min on / 1 min easy)"},notes:"Easy minutes naturally get faster as workout progresses"},{name:"2 Minutes On/Off",duration:"32-48 minutes total",structure:"Warmup + 8-12 x (2 min tempo / 2 min easy) + Cooldown",intensity:"comfortablyHard",source:"Tempo progression adaptation",description:"Longer alternating segments for advanced athletes",benefits:"Extended time in tempo zone, teaches rhythm"},{name:"Tempo Fartlek",duration:"25-35 minutes total",structure:"Warmup + 15-20 min of varied tempo surges (30sec-3min) + Cooldown",intensity:"comfortablyHard to tempoPlus",source:"Swedish fartlek adaptation",description:"Unstructured tempo efforts based on feel and terrain",benefits:"Teaches pace variety, mental flexibility, fun factor"}],PROGRESSIVE_TEMPO:[{name:"Build-Up Tempo",duration:"25-35 minutes",structure:"Warmup + 20 min building from easy to tempo + Cooldown",intensity:"easy to comfortablyHard",source:"Progressive training philosophy",description:"Gradually build from easy pace to tempo over 20 minutes",benefits:"Smooth transition to tempo, teaches pacing, less jarring"},{name:"Negative Split Tempo",duration:"30-40 minutes",structure:"Warmup + 2 x 10-15 min (first @ easy-moderate, second @ tempo) + Cooldown",intensity:"moderate to comfortablyHard",source:"Race pacing strategy",description:"Two equal segments with second half at tempo pace",benefits:"Race strategy practice, controlled progression"},{name:"Tempo Ladder",duration:"35-45 minutes",structure:"Warmup + 3-5-7-5-3 min @ tempo (2 min recovery) + Cooldown",intensity:"thresholdPace",source:"Pyramid training adaptation",description:"Ladder format building to longer tempo effort",benefits:"Mental preparation, variety in interval lengths"}],RACE_SPECIFIC:[{name:"Marathon Pace Tempo",duration:"40-70 minutes",structure:"Warmup + 6-13 miles @ marathon pace + Cooldown",intensity:"Slightly easier than comfortablyHard",source:"Ben Parkes / Marathon specific",description:"Extended runs at goal marathon pace",benefits:"Marathon pace practice, aerobic development",progression:"Start at 6 miles, build by 1-2 miles every 2-3 weeks"},{name:"Half Marathon Simulation",duration:"50-60 minutes",structure:"Warmup + 3-4 miles easy + 6-8 miles @ half pace + 2-3 miles easy",intensity:"comfortablyHard",source:"Race simulation training",description:"Practice middle portion of half marathon at race pace",benefits:"Race pacing, fueling practice, confidence building"},{name:"10K Tempo Simulation",duration:"35-45 minutes",structure:"Warmup + 2 miles easy + 4 miles @ 10K pace + 1-2 miles easy",intensity:"tempoPlus",source:"Race pace training",description:"Simulate 10K race effort within longer run",benefits:"10K pacing, mental preparation, race confidence"}]}}prescribeTempoWorkout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{runEqPreference:n=0,paces:r=null}=t;let i=null,o=null;for(const[l,c]of Object.entries(this.workoutLibrary)){const t=c.find(t=>t.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.name.toLowerCase()));if(t){i=t,o=l;break}}if(!i)throw new Error('Workout "'.concat(e,'" not found'));const a=this.tempoIntensityGuidelines[i.intensity],s=(0,Ce.A)((0,Ce.A)({},i),{},{category:o,intensityGuidance:a,runEqOptions:this.generateRunEqOptions(i,n),safetyNotes:this.getTempoSafetyNotes(i),paceGuidance:this.getPaceGuidance(i.intensity),alternatives:this.getTempoAlternatives(i)});return r&&(s.paces=r,s.name=this.injectPacesIntoName(i.name,r),s.structure=this.injectPacesIntoStructure(i.structure,r),s.description=this.injectPacesIntoDescription(i.description,r)),s}injectPacesIntoName(e,t){let n=e;return t.threshold&&(n="".concat(e," (").concat(t.threshold.pace,"/mi)")),n}injectPacesIntoStructure(e,t){let n=e;return t.threshold&&(n=n.replace(/@ tempo/g,"@ ".concat(t.threshold.pace,"/mile")),n=n.replace(/\bmin tempo\b/g,"min @ ".concat(t.threshold.pace,"/mile")),n=n.replace(/tempo pace/g,"".concat(t.threshold.pace,"/mile"))),t.easy&&(n=n.replace(/\beasy warmup\b/g,"easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) warmup")),n=n.replace(/\beasy cooldown\b/g,"easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) cooldown")),n=n.replace(/(\d+)(-\d+)? min easy\b/g,"$1$2 min easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)"))),t.marathon&&(n=n.replace(/@ marathon pace/g,"@ ".concat(t.marathon.pace,"/mile")),n=n.replace(/@ half pace/g,"@ ".concat(t.marathon.pace,"/mile")),n=n.replace(/@ MP/g,"@ ".concat(t.marathon.pace,"/mile"))),n}injectPacesIntoDescription(e,t){return e}generateRunEqOptions(e,t){const n={optionA:"Full running workout",optionB:"First half running, second half riding (Cyclete/Elliptigo)",optionC:"Alternate running/riding every interval or segment",optionD:"Full Cyclete/Elliptigo ride (use Garmin RunEQ data field to track equivalent miles)"};return n.recommendation=t>=70?"Full Cyclete/Elliptigo ride":t>=40?"Split workout - start running, finish riding":t>=20?"Alternate segments between running and riding":"Full running workout",n}getTempoSafetyNotes(e){const t=["Start conservatively - tempo should feel 'controlled discomfort'","If breathing becomes labored, slow down slightly","Better to run slightly too easy than too hard","Recovery between intervals should be easy jogging or walking"];return(e.name.includes("Minutes")||e.name.includes("Alternating"))&&t.push("Let easy segments naturally speed up as workout progresses"),(e.duration.includes("40")||e.duration.includes("50"))&&(t.push("Fuel appropriately for longer tempo sessions"),t.push("Stay hydrated throughout the workout")),t}getPaceGuidance(e){const t={comfortablyHard:{description:"Half marathon to 10-mile race pace",breathingTest:"Can speak 3-5 words at a time",effortLevel:"7-8 out of 10",commonMistake:"Running too fast - this should feel controlled"},thresholdPace:{description:"15K to 1-hour race pace",breathingTest:"Can speak 2-3 words with some difficulty",effortLevel:"8 out of 10",commonMistake:"Going anaerobic - keep it at threshold level"},tempoPlus:{description:"10K to 8K race pace",breathingTest:"Difficult to speak in sentences",effortLevel:"8-9 out of 10",commonMistake:"Unsustainable pace - should feel hard but controlled"}};return t[e]||t.comfortablyHard}getTempoAlternatives(e){return{treadmill:"Use slight incline (1-2%) to simulate outdoor effort",track:"4-6 laps for every mile of tempo running",badWeather:"Indoor track, treadmill, or covered area like parking garage",injury:"Pool running, elliptical, or Cyclete/Elliptigo ride maintaining same effort level",noTime:"Shorten warmup/cooldown, focus on quality tempo portion",tooHard:"Reduce intensity to comfortable-moderate effort, build gradually",tooEasy:"Slightly increase pace, but avoid going anaerobic"}}getWorkoutsByCategory(e){return this.workoutLibrary[e]||[]}getCategories(){return Object.keys(this.workoutLibrary)}getRandomWorkout(e){const t=this.getWorkoutsByCategory(e);if(0===t.length)throw new Error("No workouts found in category: ".concat(e));return t[Math.floor(Math.random()*t.length)]}searchWorkouts(e){const t=[],n=e.toLowerCase();for(const[r,i]of Object.entries(this.workoutLibrary))for(const e of i)(e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.source.toLowerCase().includes(n))&&t.push((0,Ce.A)((0,Ce.A)({},e),{},{category:r}));return t}}class Dy{constructor(){this.intervalIntensityGuidelines={shortSpeed:{description:"All-out sprint efforts, neuromuscular power",pace:"800m to mile race pace",heartRate:"105%+ max HR",effort:"Maximum sustainable for 15-90 seconds",recovery:"Complete recovery between reps (walk/jog)"},vo2Max:{description:"VO2 max development, aerobic power",pace:"3K to 5K race pace",heartRate:"90-100% max HR",effort:"Hard but sustainable for 2-8 minutes",recovery:"Equal time recovery (light jog)"},longIntervals:{description:"Sustained speed, race-specific preparation",pace:"5K to 10K race pace",heartRate:"85-95% max HR",effort:"Controlled hard effort for 4+ minutes",recovery:"50-75% of work interval (easy jog)"}},this.workoutLibrary={SHORT_SPEED:[{name:"Classic 200m Repeats",distance:"200m",repetitions:"6-12 x 200m",intensity:"shortSpeed",recovery:"200m walk/jog (2-3 minutes)",source:"Hal Higdon",description:"Short speed bursts for neuromuscular development",pace:"800m race pace",benefits:"Leg turnover, running economy, speed development",progression:"Start 6 reps, add 1-2 per week to 12 reps"},{name:"400m Speed Intervals",distance:"400m",repetitions:"5-10 x 400m",intensity:"shortSpeed",recovery:"400m jog (3-4 minutes)",source:"Hal Higdon / Track training",description:"Classic one-lap speed intervals",pace:"Mile to 5K race pace",benefits:"Speed endurance, lactate tolerance, mental toughness",progression:"Start 5 reps, build by 1 every 2 weeks to 10"},{name:"Flying 100s",distance:"100m",repetitions:"6-10 x 100m",intensity:"shortSpeed",recovery:"Full recovery (3-5 minutes walk)",source:"Speed development training",description:"Accelerate 30m, sprint 100m, decelerate 30m",pace:"Faster than mile race pace",benefits:"Top-end speed, form at speed, confidence"},{name:"30-Second Strides",distance:"30 seconds",repetitions:"8-12 x 30 seconds",intensity:"shortSpeed",recovery:"90 seconds easy walk/jog",source:"General speed development",description:"Time-based speed intervals",pace:"5K pace or slightly faster",benefits:"Speed without track access, time-efficient"}],VO2_MAX:[{name:"1000m VO2 Max Intervals",distance:"1000m",repetitions:"3-6 x 1000m",intensity:"vo2Max",recovery:"Equal time recovery (3-4 minutes jog)",source:"Runner's World",description:"Classic VO2 max development intervals",pace:"5K race pace",benefits:"Aerobic power, VO2 max improvement, race preparation"},{name:"2-Minute VO2 Intervals",distance:"2 minutes",repetitions:"4-8 x 2 minutes",intensity:"vo2Max",recovery:"2 minutes easy jog",source:"Runner's World",description:"Time-based VO2 max intervals",pace:"5K effort",benefits:"VO2 max development without track access"},{name:"800m Track Intervals",distance:"800m",repetitions:"4-8 x 800m",intensity:"vo2Max",recovery:"400m jog (2-3 minutes)",source:"Classic track training",description:"Two-lap intervals at VO2 max intensity",pace:"3K to 5K race pace",benefits:"Speed endurance, lactate processing, mental strength"},{name:"1200m Extended VO2",distance:"1200m",repetitions:"3-5 x 1200m",intensity:"vo2Max",recovery:"400m jog (3-4 minutes)",source:"Extended VO2 max training",description:"Longer VO2 max intervals for advanced athletes",pace:"5K race pace",benefits:"Extended time at VO2 max, mental toughness"},{name:"Ladder Intervals",distance:"Variable",repetitions:"400-800-1200-800-400m",intensity:"vo2Max",recovery:"Half distance jog between reps",source:"Pyramid training",description:"Ascending and descending interval distances",pace:"5K race pace throughout",benefits:"Variety, mental engagement, comprehensive VO2 stimulus"}],LONG_INTERVALS:[{name:"Mile Repeats",distance:"1 mile",repetitions:"2-5 x 1 mile",intensity:"longIntervals",recovery:"3-4 minutes easy jog",source:"Distance training classic",description:"Sustained speed over longer distance",pace:"5K to 10K race pace",benefits:"Race-specific speed, sustained effort, pacing practice"},{name:"2K Intervals",distance:"2000m",repetitions:"3-4 x 2K",intensity:"longIntervals",recovery:"800m jog (4-5 minutes)",source:"International distance training",description:"Extended intervals for 5K/10K preparation",pace:"10K race pace",benefits:"Race-specific endurance, sustained speed"},{name:"6-Minute Intervals",distance:"6 minutes",repetitions:"3-5 x 6 minutes",intensity:"longIntervals",recovery:"3 minutes easy jog",source:"Time-based distance training",description:"Extended time-based intervals",pace:"10K effort",benefits:"Sustained speed without distance pressure"},{name:"1K-2K-1K Sandwich",distance:"Variable",repetitions:"1K + 2K + 1K",intensity:"longIntervals",recovery:"600m jog between reps",source:"Varied distance training",description:"Build to longer effort, then recover with shorter",pace:"5K-10K race pace",benefits:"Mental challenge, varied stimulus, race simulation"}],MIXED_INTERVALS:[{name:"Progressive Pyramid",distance:"Variable",repetitions:"2:30-3:30-4:30 @ 10K, then repeat @ 5K pace",intensity:"vo2Max to longIntervals",recovery:"Same time recovery as work interval",source:"Runner's World",description:"Build effort, then repeat at higher intensity",pace:"10K pace, then 5K pace",benefits:"Progressive overload, mental toughness, pace variety"},{name:"Fartlek Intervals",distance:"Variable",repetitions:"20-30 minutes of varied surges",intensity:"shortSpeed to longIntervals",recovery:"Easy running between surges",source:"Swedish training method",description:"Unstructured speed play based on feel",pace:"Varies from 5K to 10K effort",benefits:"Mental flexibility, fun factor, natural terrain adaptation"},{name:"Mona Fartlek",distance:"Variable",repetitions:"90s-3min-90s-60s-30s-30s hard efforts",intensity:"vo2Max",recovery:"90 seconds easy between all efforts",source:"Steve Moneghetti training",description:"Structured fartlek with specific time intervals",pace:"5K effort for all intervals",benefits:"Structured variety, comprehensive speed stimulus"}],RACE_SIMULATION:[{name:"5K Simulation Intervals",distance:"1K",repetitions:"5 x 1K",intensity:"longIntervals",recovery:"200m jog (90 seconds)",source:"Race-specific training",description:"Simulate 5K race with brief recoveries",pace:"Goal 5K race pace",benefits:"Race pacing, confidence, mental preparation"},{name:"10K Tempo-Speed Mix",distance:"Variable",repetitions:"2 x (2K @ 10K pace + 4 x 400m @ 5K pace)",intensity:"longIntervals to vo2Max",recovery:"2 min between sets, 90s between 400s",source:"10K race preparation",description:"Combine race pace with speed finish",pace:"10K pace + 5K pace",benefits:"Race-specific fitness, finishing kick practice"},{name:"Cut-Down Intervals",distance:"Variable",repetitions:"1200m-1000m-800m-600m-400m",intensity:"longIntervals to shortSpeed",recovery:"400m jog between reps",source:"Descending interval training",description:"Get faster as intervals get shorter",pace:"Start at 10K pace, end at 3K pace",benefits:"Finishing kick, mental toughness, speed development"}]}}prescribeIntervalWorkout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{runEqPreference:n=0,paces:r=null,trackIntervals:i=null,specificReps:o=null}=t;let a=null,s=null;for(const[d,h]of Object.entries(this.workoutLibrary)){const t=h.find(t=>t.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.name.toLowerCase()));if(t){a=t,s=d;break}}if(!a)throw new Error('Workout "'.concat(e,'" not found'));const l=this.intervalIntensityGuidelines[a.intensity],c=o||a.repetitions,u=(0,Ce.A)((0,Ce.A)({},a),{},{repetitions:c,category:s,intensityGuidance:l,totalWorkout:this.calculateTotalWorkout(a,r,c),runEqOptions:this.generateRunEqOptions(a,n),safetyNotes:this.getIntervalSafetyNotes(a),alternatives:this.getIntervalAlternatives(a),warmupCooldown:this.getWarmupCooldown(a.intensity,r)});return r&&(u.paces=r,u.trackIntervals=i,u.name=this.injectPacesIntoName(a.name,c,r,i),u.repetitions=this.injectPacesIntoReps(c,r,i),u.description=this.injectPacesIntoDescription(a.description,a.pace,r)),u}convertToMilePace(e,t){const n=e.split(":"),r=(60*parseInt(n[0],10)+parseInt(n[1],10))/t*1609.34,i=Math.floor(r/60),o=Math.round(r%60);return"".concat(i,":").concat(o.toString().padStart(2,"0"),"/mi")}injectPacesIntoName(e,t,n,r){let i=e;if(n.interval&&r&&r.interval)if(t.includes("400m")&&r.interval["400m"]){const t=this.convertToMilePace(r.interval["400m"],400);i="".concat(e," (").concat(r.interval["400m"],"/400m = ").concat(t,")")}else if(t.includes("800m")&&r.threshold&&r.threshold["800m"]){const t=this.convertToMilePace(r.threshold["800m"],800);i="".concat(e," (").concat(r.threshold["800m"],"/800m = ").concat(t,")")}else if(t.includes("1200m")&&r.threshold&&r.threshold["1200m"]){const t=this.convertToMilePace(r.threshold["1200m"],1200);i="".concat(e," (").concat(r.threshold["1200m"],"/1200m = ").concat(t,")")}else if(t.includes("200m")&&r.interval["200m"]){const t=this.convertToMilePace(r.interval["200m"],200);i="".concat(e," (").concat(r.interval["200m"],"/200m = ").concat(t,")")}else i="".concat(e," (").concat(n.interval.pace,"/mi)");else n.interval&&(i="".concat(e," (").concat(n.interval.pace,"/mi)"));return i}injectPacesIntoReps(e,t,n){let r=e;return n&&n.interval&&(r.includes("400m")&&n.interval["400m"]&&(r=r.replace(/(\d+)\s*x\s*400m/g,"$1 x 400m (".concat(n.interval["400m"]," each)"))),r.includes("800m")&&n.threshold&&n.threshold["800m"]&&(r=r.replace(/(\d+)\s*x\s*800m/g,"$1 x 800m (".concat(n.threshold["800m"]," each)"))),r.includes("1200m")&&n.threshold&&n.threshold["1200m"]&&(r=r.replace(/(\d+)\s*x\s*1200m/g,"$1 x 1200m (".concat(n.threshold["1200m"]," each)"))),r.includes("200m")&&n.interval["200m"]&&(r=r.replace(/(\d+)\s*x\s*200m/g,"$1 x 200m (".concat(n.interval["200m"]," each)")))),t.interval&&(r=r.replace(/(\d+)\s*x\s*1\s*mile/g,"$1 x 1 mile @ ".concat(t.interval.pace,"/mile")),r=r.replace(/(\d+)\s*x\s*2\s*mile/g,"$1 x 2 miles @ ".concat(t.interval.pace,"/mile"))),r}injectPacesIntoDescription(e,t,n){let r=e;return n.interval&&(t.includes("5K")||t.includes("VO2"))&&(r=r.replace(/5K race pace/g,"".concat(n.interval.pace,"/mile (5K race pace)")),r=r.replace(/5K pace/g,"".concat(n.interval.pace,"/mile"))),n.threshold&&(t.includes("10K")||t.includes("threshold"))&&(r=r.replace(/10K race pace/g,"".concat(n.threshold.pace,"/mile (10K/threshold pace)")),r=r.replace(/10K pace/g,"".concat(n.threshold.pace,"/mile"))),r}calculateTotalWorkout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="15-20 minutes easy + dynamic warmup + 3-4 strides",i="15-20 minutes easy";t&&t.easy&&(r="15-20 minutes easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) + dynamic warmup + 3-4 strides"),i="15-20 minutes easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)"));const o=n||e.repetitions;let a="50-70 minutes total";return"shortSpeed"===e.intensity?a="45-60 minutes total":(o.includes("x 6")||o.includes("x 8"))&&(a="60-75 minutes total"),{structure:"".concat(r," + ").concat(o," + ").concat(i),estimatedTime:a,focusPhase:"Main interval set should take 15-30 minutes"}}generateRunEqOptions(e,t){const n={optionA:"Full running workout",optionB:"First half of intervals running, second half riding (Cyclete/Elliptigo)",optionC:"Alternate each interval between running and riding",optionD:"Full Cyclete/Elliptigo ride (use Garmin RunEQ data field to track equivalent miles)"};return n.recommendation=t>=70?"Full Cyclete/Elliptigo ride":t>=40?"Split intervals - some running, some riding":t>=20?"Alternate every other interval":"Full running workout",n}getIntervalSafetyNotes(e){const t=["Proper warmup is CRUCIAL - never skip the full warmup routine","Start conservatively - first interval should feel controlled","Recovery should be truly easy - avoid rushing between intervals","Stop workout if form breaks down significantly"];return"shortSpeed"===e.intensity?(t.push("Complete recovery between reps - walk or very easy jog only"),t.push("Focus on form and efficiency over pure speed")):"vo2Max"===e.intensity?(t.push("Should reach breathing heavily but not gasping"),t.push("Equal time recovery allows partial recovery while maintaining stimulus")):(t.push("Maintain consistent pace across all intervals"),t.push("These should feel 'comfortably hard' not all-out")),t}getWarmupCooldown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={warmup:"15-20 minutes easy running + 5 minutes dynamic exercises + 3-4 x 20-second strides",cooldown:"15-20 minutes easy running + stretching"};return t&&t.easy&&(n.warmup="15-20 minutes easy running (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) + 5 minutes dynamic exercises + 3-4 x 20-second strides"),n.cooldown="15-20 minutes easy running (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) + stretching")),"shortSpeed"===e&&(t&&t.easy?n.warmup="20-25 minutes easy running (".concat(t.easy.min,"-").concat(t.easy.max,"/mile) + 10 minutes dynamic warmup + 4-6 progressive strides"):n.warmup="20-25 minutes easy running + 10 minutes dynamic warmup + 4-6 progressive strides",n.notes="Extra warmup time crucial for speed work"),n}getIntervalAlternatives(e){return{noTrack:{"200m":"20-30 second hard efforts on any surface","400m":"60-90 second hard efforts","800m":"2.5-3 minute hard efforts","1000m":"3-4 minute hard efforts","1 mile":"5-7 minute hard efforts"},badWeather:"Treadmill (use 1% incline), indoor track, or covered parking garage",injury:"Pool running, elliptical, or Cyclete/Elliptigo ride maintaining same effort level",altitude:"Reduce pace by 15-30 seconds per mile, extend recovery time",heat:"Run early morning, extend recovery, focus on effort over pace",beginners:"Start with fewer reps, longer recovery, slightly easier pace"}}getWorkoutsByCategory(e){return this.workoutLibrary[e]||[]}getCategories(){return Object.keys(this.workoutLibrary)}getRandomWorkout(e){const t=this.getWorkoutsByCategory(e);if(0===t.length)throw new Error("No workouts found in category: ".concat(e));return t[Math.floor(Math.random()*t.length)]}searchWorkouts(e){const t=[],n=e.toLowerCase();for(const[r,i]of Object.entries(this.workoutLibrary))for(const e of i)(e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.source.toLowerCase().includes(n))&&t.push((0,Ce.A)((0,Ce.A)({},e),{},{category:r}));return t}}class _y{constructor(){this.hillGradeGuidelines={gentle:{min:2,max:4,description:"2-4% grade - sustainable for longer efforts"},moderate:{min:4,max:7,description:"4-7% grade - challenging but manageable"},steep:{min:7,max:12,description:"7-12% grade - short, intense efforts"},very_steep:{min:12,max:20,description:"12-20% grade - power/strength focus"}},this.workoutLibrary=this.buildWorkoutLibrary()}buildWorkoutLibrary(){return{short_power:[{name:"Hill Strides",duration:"10-15 seconds",hillRequirement:{grade:"moderate",distance:"50-100 meters",description:"Find a 4-7% grade hill, at least 50m long"},workout:{warmup:"15 min easy + 4x20sec strides on flat",main:"6-8 x 12sec hill strides @ 90% effort",recovery:"Walk/jog down + 1 min easy",cooldown:"10-15 min easy"},focus:"Neuromuscular power, running form, leg turnover",intensity:"Very High (TE 4.0+)",runEqOptions:{optionA:"Full running workout as prescribed",optionB:"Warmup riding (Cyclete/Elliptigo), hill reps running, cooldown riding",optionC:"Hill power intervals on Cyclete/Elliptigo (same RunEQ miles)",optionD:"Full Cyclete/Elliptigo ride (use Garmin RunEQ data field)"}},{name:"Stadium Steps Simulation",duration:"20-30 seconds",hillRequirement:{grade:"steep",distance:"75-150 meters",description:"Find a 7-12% grade hill, stadium steps, or parking garage ramp"},workout:{warmup:"20 min easy + dynamic drills",main:"5-8 x 25sec explosive hill climbs @ 95% effort",recovery:"Walk down + 2 min easy jog",cooldown:"15 min easy"},focus:"Explosive power, anaerobic capacity, mental toughness",intensity:"Maximum (TE 4.5+)"}],medium_vo2:[{name:"Classic Hill Repeats",duration:"2-3 minutes",hillRequirement:{grade:"moderate",distance:"400-800 meters",description:"Find a steady 4-7% grade, like your 0.75-mile hill"},workout:{warmup:"20 min easy + 3x30sec pickups",main:"4-6 x 2.5 min uphill @ threshold effort",recovery:"Jog/walk down + 90sec easy",cooldown:"15 min easy"},focus:"VO2 max, lactate threshold, hill running economy",intensity:"Hard (TE 3.5-4.0)",progression:{week1:"4 x 2 min",week2:"5 x 2 min",week3:"4 x 2.5 min",week4:"5 x 2.5 min"}},{name:"Hill Pyramid",duration:"Variable (1-4 min)",hillRequirement:{grade:"moderate",distance:"600+ meters",description:"Long steady hill - your 0.75-mile hill is perfect"},workout:{warmup:"20 min easy",main:"1-2-3-4-3-2-1 min uphill @ building effort",recovery:"Equal time easy jog/walk down between reps",cooldown:"15 min easy"},focus:"Progressive effort, mental strength, pacing discipline",intensity:"Progressive (TE 3.0-4.0)"}],long_strength:[{name:"Tempo Hills",duration:"6-12 minutes",hillRequirement:{grade:"gentle",distance:"1+ miles",description:"Find a long 2-4% grade - perfect for your 0.75-mile hill!"},workout:{warmup:"15-20 min easy",main:"2-3 x 8-10 min uphill @ tempo effort",recovery:"5 min easy (jog down + flat)",cooldown:"15 min easy"},focus:"Sustained power, aerobic strength, mental endurance",intensity:"Moderately Hard (TE 3.0-3.5)",runEqOptions:{optionA:"Full running workout",optionB:"First rep running, second rep riding (Cyclete/Elliptigo)",optionC:"Alternate running/riding every 2-3 minutes",optionD:"Full Cyclete/Elliptigo ride (use Garmin RunEQ data field)"}},{name:"Long Hill Progression",duration:"8-15 minutes",hillRequirement:{grade:"gentle_to_moderate",distance:"1.5+ miles",description:"Long gradual climb - multiple loops of your hill work great"},workout:{warmup:"20 min easy",main:"12 min continuous uphill: 4min easy\u21924min moderate\u21924min hard",recovery:"Walk/easy jog down",repeat:"1-2 more times depending on fitness",cooldown:"15-20 min easy"},focus:"Progressive effort, race simulation, mental toughness"}],hill_circuits:[{name:"Hill Circuit Training",duration:"30-45 minutes",hillRequirement:{grade:"moderate",distance:"Circuit of 1-2 miles",description:"Perfect for your 2-mile loop with 0.75-mile climb!"},workout:{warmup:"15 min easy + dynamic drills",main:"4-6 complete loops:\n\u2022 0.75mi climb @ steady effort\n\u2022 Downhill recovery @ controlled pace\n\u2022 0.25mi flat @ easy pace",effort:"Build effort each loop (start 70%, finish 85%)",cooldown:"10-15 min easy"},focus:"Hill-specific endurance, downhill control, circuit training",intensity:"Moderate-Hard (TE 3.0-3.5)",seasonal:"Great for base building and hill marathon prep"},{name:"Hill Fartlek",duration:"25-35 minutes",hillRequirement:{grade:"rolling_terrain",distance:"Varied",description:"Rolling hills or repeated loops with varied efforts"},workout:{warmup:"15 min easy",main:"20 min continuous fartlek on hills:\n\u2022 Up hills: surge to moderate-hard\n\u2022 Down hills: controlled but not easy\n\u2022 Flats: settle to steady tempo",style:"Unstructured - respond to terrain",cooldown:"15 min easy"},focus:"Terrain adaptation, variable pacing, race preparation"}],downhill_specific:[{name:"Controlled Downhill Repeats",duration:"1-3 minutes",hillRequirement:{grade:"moderate",distance:"400-800 meters downhill",description:"The downhill section of your 2-mile loop is ideal"},workout:{warmup:"20 min easy + leg swings",main:"5-8 x 90sec controlled fast downhill",technique:"Quick cadence, lean slightly forward, land on forefoot",recovery:"Walk/jog up hill + 1 min easy",cooldown:"15 min easy + stretching"},focus:"Eccentric strength, downhill speed, injury prevention",intensity:"Moderate (TE 2.5-3.0)",caution:"Start conservative - high injury risk if overdone"}],specialty:[{name:"Hill Progression Run",duration:"45-60 minutes",hillRequirement:{grade:"rolling_or_repeatable",distance:"Multiple miles",description:"Your 2-mile loop repeated, or rolling terrain course"},workout:{warmup:"15 min easy",main:"30-40 min progression:\n\u2022 First 10 min: easy on hills\n\u2022 Middle 15-20 min: moderate effort on climbs\n\u2022 Final 10-15 min: strong effort on all uphills",approach:"Gradual effort increase, maintain form",cooldown:"10-15 min easy"},focus:"Progressive loading, race preparation, mental preparation"},{name:"Over-Under Hills",duration:"Variable",hillRequirement:{grade:"moderate",distance:"Long steady climb",description:"Single long hill or multiple loops of your 0.75-mile climb"},workout:{warmup:"20 min easy",main:"3-4 x 6 min on hill: 3min @ threshold, 3min @ slightly above threshold",pattern:"Switch effort every 3 minutes without stopping",recovery:"4-5 min easy between sets",cooldown:"15 min easy"},focus:"Lactate clearance, threshold power, race-pace variability"}]}}getWorkoutsForTerrain(e){"loop_with_climb"===e&&[].push(...this.workoutLibrary.long_strength.filter(e=>e.name.includes("Tempo")),...this.workoutLibrary.hill_circuits,...this.workoutLibrary.medium_vo2.filter(e=>e.name.includes("Pyramid")));return{short_steep:[...this.workoutLibrary.short_power],medium_steady:[...this.workoutLibrary.medium_vo2],long_gentle:[...this.workoutLibrary.long_strength],rolling_terrain:[...this.workoutLibrary.specialty,...this.workoutLibrary.hill_circuits]}[e]||[]}prescribeHillWorkout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{runEqPreference:n=0,paces:r=null}=t;let i=null,o=null;for(const[s,l]of Object.entries(this.workoutLibrary)){const t=l.find(t=>t.name.toLowerCase().includes(e.toLowerCase()));if(t){i=t,o=s;break}}if(!i)return null;const a=(0,Ce.A)((0,Ce.A)({},i),{},{terrainInstructions:this.generateTerrainInstructions(i.hillRequirement),runEqAdaptation:this.adaptForRunEq(i,n),safetyNotes:this.generateSafetyNotes(o,i),alternatives:this.suggestAlternatives(i.hillRequirement)});return r&&(a.paces=r,a.name=this.injectPacesIntoName(i.name,r)),a}injectPacesIntoName(e,t){let n=e;return t.threshold?n="".concat(e," (").concat(t.threshold.pace,"/mi)"):t.interval&&(n="".concat(e," (").concat(t.interval.pace,"/mi)")),n}generateTerrainInstructions(e){if(!e||!e.grade)return{findHill:"Look for a moderate hill with 4-7% grade",measurement:"Use your phone's inclinometer app or estimate: you should feel challenged but able to maintain form",distance:"Hill should be at least 100 meters long",examples:["Neighborhood hills","Park paths","Treadmill incline"],backup:"If no ideal hill available, use treadmill at appropriate incline or find closest available grade"};const t=this.hillGradeGuidelines[e.grade];return t?{findHill:"Look for a hill with ".concat(t.description),measurement:"Use your phone's inclinometer app or estimate: you should feel challenged but able to maintain form",distance:"Hill should be at least ".concat(e.distance),examples:this.getTerrainExamples(e.grade),backup:"If no ideal hill available, use treadmill at appropriate incline or find closest available grade"}:this.generateTerrainInstructions(null)}getTerrainExamples(e){return{gentle:["Long highway on-ramps","Gradual neighborhood streets","Park paths with slight incline","Treadmill at 2-4% incline"],moderate:["Typical neighborhood hills","Multi-story parking garage ramps","Bridge approaches","Treadmill at 4-7% incline"],steep:["Short neighborhood climbs","Stadium stairs","Steep parking garage ramps","Treadmill at 7-12% incline"],very_steep:["Stadium steps","Ski slope access roads","Short power line hills","Treadmill at 12%+ incline"]}[e]||[]}adaptForRunEq(e,t){return 0===t?{note:"Full running workout as prescribed"}:e.runEqOptions?t<=25?{recommendation:e.runEqOptions.optionA}:t<=50?{recommendation:e.runEqOptions.optionB}:t<=75?{recommendation:e.runEqOptions.optionC}:{recommendation:e.runEqOptions.optionD}:{lowPreference:"Consider doing warmup/cooldown on Cyclete/Elliptigo",mediumPreference:"Alternate running and Cyclete/Elliptigo intervals",highPreference:"Full Cyclete/Elliptigo ride (use Garmin RunEQ data field to track equivalent miles)"}}generateSafetyNotes(e,t){return["Start conservatively and build intensity gradually","Focus on form - don't let hills break down your running mechanics","Stay hydrated and fuel appropriately for longer hill sessions",...{short_power:["Very high intensity - ensure adequate recovery","Perfect form is critical at high speeds"],medium_vo2:["Monitor effort level - hills amplify perceived exertion","Don't start too fast on first rep"],long_strength:["Pace should feel sustainable for the full duration","Mental focus is as important as physical strength"],downhill_specific:["HIGH INJURY RISK - start very conservatively","Focus on quick cadence, not long strides","Stop if you feel excessive quad/knee stress"],hill_circuits:["Monitor cumulative fatigue across multiple loops","Adjust effort based on conditions and fatigue"]}[e]||[]]}suggestAlternatives(e){return{noHill:"Use treadmill with appropriate incline setting",hillTooShort:"Repeat shorter hill multiple times with brief recovery",hillTooLong:"Use only portion of longer hill, mark turnaround point",wrongGrade:"Adjust effort level to compensate - easier on steeper hills, harder on gentler grades",indoorOption:"StairMaster, stadium stairs, or parking garage ramps can substitute"}}getWorkoutsByCategory(e){return this.workoutLibrary[e]||[]}getCategories(){return Object.keys(this.workoutLibrary)}getRandomWorkout(e){const t=this.getWorkoutsByCategory(e);if(0===t.length)throw new Error("No workouts found in category: ".concat(e));return t[Math.floor(Math.random()*t.length)]}searchWorkouts(e){const t=[],n=e.toLowerCase();for(const[r,i]of Object.entries(this.workoutLibrary))for(const e of i)(e.name.toLowerCase().includes(n)||e.focus.toLowerCase().includes(n))&&t.push((0,Ce.A)((0,Ce.A)({},e),{},{category:r}));return t}}class Ry{constructor(){this.longRunIntensityGuidelines={easy:{description:"Conversational pace, can speak in full sentences",pace:"30-90 seconds slower than marathon pace",heartRate:"65-78% max HR",effort:"Comfortable, sustainable for hours"},steadyState:{description:"Sustained aerobic effort, controlled breathing",pace:"1:15:00 to 2:30:00 race pace (usually 15-45 sec slower than marathon pace)",heartRate:"83-87% max HR",effort:"Moderate effort, what you can sustain for 2-2.5 hours"},marathonPace:{description:"Goal marathon race pace",pace:"Marathon race pace",heartRate:"80-85% max HR",effort:"Controlled hard effort, race-specific"},fastFinish:{description:"Faster than marathon pace for finishing segments",pace:"Half marathon to 10K pace",heartRate:"85-90% max HR",effort:"Strong finish, practice racing on tired legs"}},this.workoutLibrary={TRADITIONAL_EASY:[{name:"Classic Easy Long Run",duration:"60-150 minutes",structure:"Entire run at easy, conversational pace",intensity:"easy",source:"Hal Higdon foundation",description:"Traditional base-building long run",benefits:"Aerobic development, time on feet, mental endurance",progression:"Increase by 1-2 miles per week, stepback every 3rd week",notes:"30-90 seconds slower than marathon pace, finish refreshed"},{name:"Conversational Long Run",duration:"75-120 minutes",structure:"Run with partner/group, maintain conversation throughout",intensity:"easy",source:"Social running philosophy",description:"Easy long run emphasizing conversational pace",benefits:"Aerobic base, social aspect, pace discipline",notes:"If you can't hold a conversation, you're going too fast"}],PROGRESSIVE_RUNS:[{name:"Thirds Progression",duration:"45-90 minutes",structure:"First 1/3 easy, middle 1/3 moderate, final 1/3 strong",intensity:"easy to fastFinish",source:"McMillan Running",description:"Equal time segments with increasing intensity",benefits:"Teaches finishing speed, energy conservation",example:"60 min run: 20 min easy + 20 min moderate + 20 min strong",notes:"Final third at steady state or tempo pace, not all-out"},{name:"DUSA Progression",duration:"50-90 minutes",structure:"75-90% easy pace, final 10-25% strong pace",intensity:"easy to fastFinish",source:"McMillan Running (Discovery USA)",description:"Majority easy with extended fast finish",benefits:"Teaches racing on fatigued legs, builds confidence",example:"60 min run: 45 min easy + 15 min strong pace",notes:"Used by elite marathoners, builds race-specific fitness"},{name:"Super Fast Finish",duration:"50-90 minutes",structure:"Normal easy run + final 3-6 minutes at 5K race effort",intensity:"easy to fastFinish",source:"McMillan (Paul Tergat method)",description:"Easy run with explosive final minutes",benefits:"Finishing kick practice, confidence, speed on tired legs",notes:"Used by Paul Tergat for world record marathon buildup"},{name:"10-Second Dropdowns",duration:"45-75 minutes",structure:"Drop pace by 10 seconds every mile (or every 10 minutes)",intensity:"easy to marathonPace",source:"Runner's World progression method",description:"Gradual, systematic pace progression",benefits:"Smooth pace control, negative split practice",example:"Start 8:30 pace, drop to 8:20, 8:10, 8:00, etc."}],STEADY_STATE_LONG:[{name:"Marathon Pace Long Run",duration:"60-120 minutes",structure:"15-20 min easy warmup + 20-60 min @ marathon pace + 10-15 min easy",intensity:"marathonPace",source:"Marathon-specific training",description:"Extended time at goal marathon pace",benefits:"Race pace practice, aerobic power, confidence",progression:"Start with 20 min MP, build by 5-10 min weekly",notes:"Practice fueling and pacing strategies"},{name:"Steady State Long Run",duration:"50-95 minutes",structure:"15 min easy warmup + 25-75 min steady state + 10 min easy",intensity:"steadyState",source:"McMillan Running",description:"Extended aerobic effort at steady state pace",benefits:"Aerobic power, endurance, lactate clearance",notes:"Pace between 1:15:00 and 2:30:00 race pace"},{name:"Half Marathon Pace Long Run",duration:"60-90 minutes",structure:"15 min easy + 30-60 min @ half marathon pace + 15 min easy",intensity:"steadyState",source:"Half marathon training",description:"Extended half marathon pace practice",benefits:"Race-specific fitness, sustained speed"}],MIXED_PACE_LONG:[{name:"Fast-Slow Long Run",duration:"60-120 minutes",structure:"Alternate fast and easy segments (e.g., 2 min fast / 3 min easy)",intensity:"easy to marathonPace",source:"Varied pace training",description:"Alternating pace segments throughout long run",benefits:"Pace variety, teaches recovery while running, mental engagement",variations:["2 min fast / 3 min easy for entire run","5 min fast / 5 min easy x 6-12 sets","1 mile fast / 2 miles easy pattern"]},{name:"Surge Long Run",duration:"60-120 minutes",structure:"Easy base pace with 30-60 second surges every 5-10 minutes",intensity:"easy to fastFinish",source:"Fartlek adaptation for long runs",description:"Easy long run with regular speed surges",benefits:"Simulates race surges, mental toughness, speed on tired legs",notes:"Surges should be strong but controlled, return to easy pace"},{name:"Out-and-Back Negative Split",duration:"60-120 minutes",structure:"Run out easy, return faster (aim for 30-60 sec negative split)",intensity:"easy to marathonPace",source:"Negative split training",description:"Practice negative splitting over long distance",benefits:"Pacing discipline, finishing strength, race strategy",notes:"Turn around at halfway point, aim to return 30-60 sec faster"}],RACE_SIMULATION:[{name:"Marathon Dress Rehearsal",duration:"120-180 minutes",structure:"20-26 mile run at planned marathon paces with race fueling",intensity:"easy to marathonPace",source:"Marathon preparation",description:"Full marathon simulation 3-4 weeks before race",benefits:"Race day practice, fueling test, confidence",structure_example:"6 easy + 13-16 @ MP + 1-3 easy cooldown",notes:"Practice everything: clothing, fueling, pacing, mindset"},{name:"Half Marathon Simulation",duration:"90-120 minutes",structure:"15 min easy + 8-10 miles @ half pace + 15 min easy",intensity:"easy to marathonPace",source:"Half marathon preparation",description:"Simulate middle miles of half marathon",benefits:"Race pace confidence, fueling practice",notes:"Practice race day routine and mindset"},{name:"Goal Pace Sandwich",duration:"75-120 minutes",structure:"Easy miles + goal pace block + easy miles (mimic race splits)",intensity:"easy to marathonPace",source:"Race-specific training",description:"Practice goal pace within context of longer run",benefits:"Race pacing, mental preparation, confidence",example:"3 easy + 6 @ goal pace + 3 easy for 12-mile long run"}],TERRAIN_SPECIFIC:[{name:"Rolling Hills Long Run",duration:"60-120 minutes",structure:"Long run on rolling terrain, maintain effort (not pace)",intensity:"easy to steadyState",source:"Terrain-specific training",description:"Long run emphasizing varied terrain",benefits:"Hill strength, effort-based pacing, race preparation",notes:"Focus on consistent effort, let pace vary with terrain"},{name:"Trail Long Run",duration:"75-150 minutes",structure:"Long run on trails, emphasis on time not distance",intensity:"easy",source:"Trail running adaptation",description:"Time-based long run on trail terrain",benefits:"Mental break, varied muscle recruitment, adventure",notes:"Time-based rather than distance-based due to terrain"}],RECOVERY_LONG:[{name:"Aerobic Base Long Run",duration:"90-150 minutes",structure:"Very easy pace, focus on time on feet not speed",intensity:"easy",source:"Base building philosophy",description:"Ultra-easy long run for aerobic development",benefits:"Aerobic base, active recovery, mental endurance",notes:"Should feel refreshed after, not fatigued"},{name:"Social Long Run",duration:"75-120 minutes",structure:"Group long run with conversation throughout",intensity:"easy",source:"Social running",description:"Easy long run with group, emphasizing social aspect",benefits:"Mental break, social connection, pace discipline"}]}}prescribeLongRunWorkout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{runEqPreference:n=0,distance:r=null,duration:i=null,paces:o=null}=t;let a=null,s=null;for(const[c,u]of Object.entries(this.workoutLibrary)){const t=u.find(t=>t.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.name.toLowerCase()));if(t){a=t,s=c;break}}if(!a)throw new Error('Workout "'.concat(e,'" not found'));const l=(0,Ce.A)((0,Ce.A)({},a),{},{category:s,intensityGuidance:this.getIntensityGuidance(a),runEqOptions:this.generateRunEqOptions(a,n),customization:this.getCustomizationOptions(a,r,i,o),safetyNotes:this.getLongRunSafetyNotes(a),fuelingGuidance:this.getFuelingGuidance(a),alternatives:this.getLongRunAlternatives(a)});return o&&(l.paces=o,l.name=this.injectPacesIntoName(a.name,r,o),l.structure=this.injectPacesIntoStructure(a.structure,o),l.description=this.injectPacesIntoDescription(a.description,o)),l}injectPacesIntoName(e,t,n){let r=e;return t&&n.easy?r="".concat(t,"-Mile ").concat(e," (").concat(n.easy.min,"-").concat(n.easy.max,"/mi)"):t?r="".concat(t,"-Mile ").concat(e):n.easy&&(r="".concat(e," (").concat(n.easy.min,"-").concat(n.easy.max,"/mi)")),r}injectPacesIntoStructure(e,t){let n=e;return t.easy&&(n=n.replace(/easy pace/g,"easy pace (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)")),n=n.replace(/easy warmup/g,"easy warmup (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)")),n=n.replace(/\bmin easy/g,"min easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)")),n=n.replace(/easy cooldown/g,"easy cooldown (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)")),n=n.replace(/\bmiles easy/g,"miles easy (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)"))),t.marathon&&(n=n.replace(/@ marathon pace/g,"@ ".concat(t.marathon.pace,"/mile marathon pace")),n=n.replace(/@ MP/g,"@ ".concat(t.marathon.pace,"/mile")),n=n.replace(/@ half pace/g,"@ ".concat(t.marathon.pace,"/mile pace"))),t.threshold&&(n=n.replace(/steady state/g,"steady state (".concat(t.threshold.pace,"/mile)")),n=n.replace(/strong pace/g,"strong pace (".concat(t.threshold.pace,"/mile)"))),n}injectPacesIntoDescription(e,t){let n=e;return t.easy&&(n=n.replace(/easy pace/g,"easy pace (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)")),n=n.replace(/conversational pace/g,"conversational pace (".concat(t.easy.min,"-").concat(t.easy.max,"/mile)"))),t.marathon&&(n=n.replace(/marathon pace/g,"marathon pace (".concat(t.marathon.pace,"/mile)")),n=n.replace(/goal pace/g,"goal pace (".concat(t.marathon.pace,"/mile)"))),n}getIntensityGuidance(e){let t=e.intensity;return"string"===typeof e.intensity&&e.intensity.includes(" to ")&&(t=e.intensity.split(" to ")[0]),this.longRunIntensityGuidelines[t]||this.longRunIntensityGuidelines.easy}generateRunEqOptions(e,t){const n={optionA:"Full running workout",optionB:"First half running, second half on stand-up bike",optionC:"Alternate segments between running and biking (if structured workout)",optionD:"Full stand-up bike workout (".concat(2,"x time conversion for easy pace)"),conversionFactor:2};return(e.intensity.includes("marathonPace")||e.intensity.includes("steadyState"))&&(n.optionD="Full stand-up bike workout (2x easy pace, 2.5x marathon pace)",n.conversionNotes="Use 2.5x conversion for marathon pace segments, 2x for easy segments"),n.recommendation=t>=70?"Full stand-up bike workout":t>=40?"Split workout - first half running, second half biking":t>=20?"Alternate major segments if structured workout":"Full running workout",n}getCustomizationOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i={distanceOptions:{short:"45-75 minutes or 6-10 miles",medium:"75-120 minutes or 10-16 miles",long:"120-180 minutes or 16-26 miles"},adaptForDistance:{},adaptForTime:{}};return(e.name.includes("Progression")||e.name.includes("Progressive"))&&(r&&r.easy&&r.threshold?i.adaptForDistance={"6-8 miles":"2-3 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile), 2-3 miles moderate, 2 miles strong (").concat(r.threshold.pace,"/mile)"),"10-12 miles":"4 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile), 4 miles moderate, 4 miles strong (").concat(r.threshold.pace,"/mile)"),"16-18 miles":"6 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile), 6 miles moderate, 6 miles strong (").concat(r.threshold.pace,"/mile)")}:i.adaptForDistance={"6-8 miles":"2-3 miles easy, 2-3 miles moderate, 2 miles strong","10-12 miles":"4 miles easy, 4 miles moderate, 4 miles strong","16-18 miles":"6 miles easy, 6 miles moderate, 6 miles strong"}),e.name.includes("Marathon Pace")&&(r&&r.easy&&r.marathon?i.adaptForDistance={"10-12 miles":"3 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile) + 6 miles @ ").concat(r.marathon.pace,"/mile + 2 miles easy"),"14-16 miles":"3 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile) + 10 miles @ ").concat(r.marathon.pace,"/mile + 3 miles easy"),"18-20 miles":"3 miles easy (".concat(r.easy.min,"-").concat(r.easy.max,"/mile) + 13 miles @ ").concat(r.marathon.pace,"/mile + 4 miles easy")}:i.adaptForDistance={"10-12 miles":"3 miles easy + 6 miles MP + 2 miles easy","14-16 miles":"3 miles easy + 10 miles MP + 3 miles easy","18-20 miles":"3 miles easy + 13 miles MP + 4 miles easy"}),i}getLongRunSafetyNotes(e){const t=["Start conservatively - long runs should feel sustainable","Focus on effort over pace, especially in varying weather/terrain","Plan hydration strategy for runs over 90 minutes","Carry identification and emergency contact information","Know your route and have bailout options"];return(e.intensity.includes("marathonPace")||e.intensity.includes("fastFinish"))&&(t.push("Save faster segments for when you're warmed up (after 15+ minutes)"),t.push("If pace becomes unsustainable, dial back to easy effort")),(e.duration.includes("120")||e.duration.includes("150"))&&(t.push("Practice race-day fueling for runs over 2 hours"),t.push("Consider electrolyte replacement for extended efforts")),(e.name.includes("Progression")||e.name.includes("Progressive"))&&(t.push("Build pace gradually - avoid sudden speed changes"),t.push("Final segments should feel strong but controlled, not all-out")),t}getFuelingGuidance(e){const t=[];return(e.duration.includes("120")||e.duration.includes("150")||e.duration.includes("180"))&&(t.push("This is a key fueling practice opportunity"),t.push("Test gels, sports drinks, or real food you plan to use in races"),t.push("Practice taking fuel while maintaining pace/effort")),{baseFueling:{under60min:"Generally no fueling needed, just hydration","60-90min":"Consider sports drink or small fuel if hot weather","90-120min":"Practice race fueling - 30-60g carbs per hour after first hour",over120min:"Definitely fuel - practice exact race day strategy"},notes:t}}getLongRunAlternatives(e){return{badWeather:{treadmill:"Use 1% incline, break into segments if needed for mental engagement",indoor:"Mall walking, indoor track (expect many laps)",postpone:"Better to move day than compromise safety"},timeConstraints:{shortenDistance:"Maintain workout structure but reduce total time/distance",focusOnQuality:"Keep key pace segments, reduce easy portions",splitAcrossDays:"Not ideal, but could split very long runs across 2 days"},injury:{pool:"Aqua jogging maintaining same effort and time",bike:"Stand-up bike or regular bike with appropriate time conversion",elliptical:"Good alternative maintaining effort level"},terrain:{noHills:"Use treadmill incline or find bridges/overpasses",onlyTrack:"Long run on track requires mental strategies, audiobooks/podcasts help",onlyTreadmill:"Break into segments, vary incline/pace for mental engagement"}}}getWorkoutsByCategory(e){return this.workoutLibrary[e]||[]}getCategories(){return Object.keys(this.workoutLibrary)}getRandomWorkout(e){const t=this.getWorkoutsByCategory(e);if(0===t.length)throw new Error("No workouts found in category: ".concat(e));return t[Math.floor(Math.random()*t.length)]}searchWorkouts(e){const t=[],n=e.toLowerCase();for(const[r,i]of Object.entries(this.workoutLibrary))for(const e of i)(e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.source.toLowerCase().includes(n))&&t.push((0,Ce.A)((0,Ce.A)({},e),{},{category:r}));return t}}class Iy{constructor(){this.equipmentSpecs={cyclete:{name:"cyclete",description:"Fluid, powerful running-like motion",strengths:["Long distance","Running simulation","Endurance training"],optimalDurations:"Extended sessions (60+ minutes)",resistanceType:"Variable terrain simulation"},elliptigo:{name:"elliptiGO",description:"Smooth elliptical motion, up to 26-inch adjustable stride",strengths:["Full body workout","Interval training","Recovery sessions"],optimalDurations:"Varied (20-120 minutes)",resistanceType:"Gear-based resistance"}},this.workoutLibrary={TEMPO_BIKE:[{name:"Sustained Threshold Effort",duration:"50-70 minutes",equipment:"both",description:"Continuous steady hard effort at lactate threshold",structure:"10 min easy warmup + 20-40 min @ threshold effort + 10 min easy cooldown",intensity:"tempo",benefits:"Lactate threshold development, sustained power, mental toughness",cycleteNotes:"Excellent for building race-pace endurance on natural motion",elliptigoNotes:"Use moderate-long stride, maintain steady resistance throughout",effort:{heartRate:"Zone 3-4 (80-90% max HR)",perceived:"Comfortably hard, can speak in short sentences"},roadConsiderations:"Find a flat, uninterrupted stretch of bike path or quiet road for sustained effort"},{name:"Tempo Intervals",duration:"60-75 minutes",equipment:"both",description:"Repeated threshold efforts with short recovery",structure:"10 min warmup + 3-4 x 8 min @ threshold with 3 min easy recovery + 10 min cooldown",intensity:"tempo",benefits:"Threshold power, recovery management, pacing practice",cycleteNotes:"Perfect for building powerful sustained efforts",elliptigoNotes:"Maintain consistent stride pattern across intervals",effort:{heartRate:"Zone 3-4 during intervals (80-90% max HR)",perceived:"Hard but sustainable, recovery is truly easy"},roadConsiderations:"Out-and-back route or loop works well, recovery is active (keep moving)"},{name:"Progressive Tempo Build",duration:"55-70 minutes",equipment:"both",description:"Gradually building effort to threshold and beyond",structure:"15 min easy + 10 min moderate + 10 min threshold + 5 min hard + 15 min easy cooldown",intensity:"tempo",benefits:"Graduated effort adaptation, race simulation, finishing strength",cycleteNotes:"Natural motion allows smooth power progression",elliptigoNotes:"Increase resistance and/or cadence to build effort",effort:{heartRate:"Building from Zone 2 \u2192 Zone 4 \u2192 Zone 5",perceived:"Starting comfortable, finishing hard"},roadConsiderations:"Slight uphill finish helps with progressive build"},{name:"Cruise Intervals",duration:"60-80 minutes",equipment:"both",description:"Classic lactate threshold intervals with short recovery",structure:"15 min warmup + 5-6 x 5 min @ threshold with 2 min easy + 10 min cooldown",intensity:"tempo",benefits:"Threshold efficiency, power sustainability, mental resilience",cycleteNotes:"Maintain smooth natural rhythm throughout efforts",elliptigoNotes:"Focus on consistent resistance and stride pattern",effort:{heartRate:"Zone 3-4 (80-90% max HR)",perceived:"Comfortably hard, short recovery keeps you honest"},roadConsiderations:"Timer-based intervals work anywhere, don't need specific landmarks"},{name:"Tempo Sandwich",duration:"60-75 minutes",equipment:"both",description:"Two threshold blocks separated by easy riding",structure:"10 min warmup + 15 min @ threshold + 10 min easy + 15 min @ threshold + 10 min cooldown",intensity:"tempo",benefits:"Threshold endurance, mid-ride recovery practice, race pacing",cycleteNotes:"Second effort teaches pacing discipline",elliptigoNotes:"Maintain form quality into second block",effort:{heartRate:"Zone 3-4 during blocks",perceived:"First block strong, second block requires focus"},roadConsiderations:"Out-and-back route ideal (turnaround during easy section)"},{name:"Fast Finish Tempo",duration:"50-65 minutes",equipment:"both",description:"Steady effort with strong closing surge",structure:"10 min warmup + 25 min @ steady moderate + 10 min @ threshold + 5 min hard + 10 min cooldown",intensity:"tempo",benefits:"Finishing strength, race simulation, mental toughness",cycleteNotes:"Teaches finishing power when fatigued",elliptigoNotes:"Final surge requires full body engagement",effort:{heartRate:"Building to Zone 4-5 at finish",perceived:"Start controlled, finish strong"},roadConsiderations:"Plan route so final hard section is on good road surface"},{name:"Threshold Pyramid",duration:"70-85 minutes",equipment:"both",description:"Ascending and descending threshold intervals",structure:"15 min warmup + 5-7-10-7-5 min @ threshold with 3 min easy recovery + 10 min cooldown",intensity:"tempo",benefits:"Variable effort management, mental engagement, threshold development",cycleteNotes:"Varied interval lengths prevent mental monotony",elliptigoNotes:"Practice pacing across different interval durations",effort:{heartRate:"Zone 3-4 (80-90% max HR)",perceived:"Maintain same effort despite changing durations"},roadConsiderations:"Timer-based, works on any reasonable road"},{name:"Cutdown Tempo",duration:"55-70 minutes",equipment:"both",description:"Progressively faster tempo intervals",structure:"10 min warmup + 10 min @ moderate + 8 min @ threshold + 6 min @ hard + 4 min @ very hard with 3 min recovery between + 10 min cooldown",intensity:"tempo",benefits:"Pace judgment, variable effort training, finishing power",cycleteNotes:"Progressive resistance or cadence increase",elliptigoNotes:"Combine resistance and stride adjustments",effort:{heartRate:"Building from Zone 3 \u2192 Zone 5",perceived:"Each interval harder than previous"},roadConsiderations:"Descending intervals keep mental engagement high"},{name:"Steady State Tempo",duration:"60-80 minutes",equipment:"both",description:"Extended time at threshold for endurance adaptation",structure:"15 min warmup + 30-40 min @ steady threshold + 15 min cooldown",intensity:"tempo",benefits:"Threshold endurance, mental training, race-specific work",cycleteNotes:"Long sustained natural motion builds race fitness",elliptigoNotes:"Maintain consistent form over extended effort",effort:{heartRate:"Zone 3-4 (80-90% max HR)",perceived:"Comfortably hard for extended duration"},roadConsiderations:"Need long uninterrupted stretch, bike path or quiet country road ideal"},{name:"Tempo with Surges",duration:"55-70 minutes",equipment:"both",description:"Threshold effort with periodic hard surges",structure:"10 min warmup + 20 min @ threshold with 6 x 30 sec surges every 3 min + 10 min cooldown",intensity:"tempo",benefits:"Race simulation, surge recovery, variable pace training",cycleteNotes:"Surges mimic race attacks or traffic situations",elliptigoNotes:"Quick resistance/cadence changes develop responsiveness",effort:{heartRate:"Zone 3-4 baseline, Zone 5 during surges",perceived:"Hard base with brief very hard surges"},roadConsiderations:"Surges work well at intersections or road features"}],INTERVAL_BIKE:[{name:"Short Power Repeats",duration:"50-65 minutes",equipment:"both",description:"High-intensity short intervals for power development",structure:"15 min warmup + 10-12 x 2 min hard with 2 min easy recovery + 10 min cooldown",intensity:"intervals",benefits:"VO2max development, neuromuscular power, aerobic capacity",cycleteNotes:"Explosive power in natural motion pattern",elliptigoNotes:"Quick stride and resistance changes",effort:{heartRate:"Zone 4-5 during intervals (90-100% max HR)",perceived:"Hard effort, breathing heavy, full recovery needed"},roadConsiderations:"Timer-based, any safe road works, recovery is active (keep moving)"},{name:"Classic 5-Minute Repeats",duration:"65-80 minutes",equipment:"both",description:"VO2max intervals at hard sustainable effort",structure:"15 min warmup + 4-6 x 5 min @ VO2max with 3-4 min easy recovery + 10 min cooldown",intensity:"intervals",benefits:"Aerobic power, VO2max improvement, sustained speed work",cycleteNotes:"5 minutes allows rhythm development at high power",elliptigoNotes:"Find sustainable high resistance for full duration",effort:{heartRate:"Zone 5 (95-100% max HR)",perceived:"Very hard but sustainable for 5 minutes"},roadConsiderations:"Flat section preferred to maintain consistent power output"},{name:"Ladder Intervals",duration:"70-90 minutes",equipment:"both",description:"Variable duration intervals ascending and descending",structure:"15 min warmup + 2-3-4-5-4-3-2 min hard with equal recovery + 10 min cooldown",intensity:"intervals",benefits:"Variable effort training, mental engagement, comprehensive stimulus",cycleteNotes:"Varied durations prevent monotony",elliptigoNotes:"Adjust pacing for different interval lengths",effort:{heartRate:"Zone 4-5 during intervals",perceived:"Hard throughout, adjust effort for interval duration"},roadConsiderations:"Timer-based pyramid keeps mental focus high"},{name:"Tabata-Style Power Blasts",duration:"40-55 minutes",equipment:"both",description:"Ultra-short maximal efforts for neuromuscular power",structure:"15 min warmup + 2-3 sets of 8 x 20 sec maximal with 10 sec easy (4 min recovery between sets) + 10 min cooldown",intensity:"intervals",benefits:"Explosive power, anaerobic capacity, neuromuscular recruitment",cycleteNotes:"Explosive natural motion develops race finishing speed",elliptigoNotes:"Maximum resistance and cadence for 20 seconds",effort:{heartRate:"Zone 5+ (maximal)",perceived:"All-out effort, 10 seconds barely enough recovery"},roadConsiderations:"Need very safe road/path, minimal traffic, good surface"},{name:"Long Intervals",duration:"75-95 minutes",equipment:"both",description:"Extended hard efforts for sustained power",structure:"15 min warmup + 4-5 x 8 min hard with 4 min recovery + 15 min cooldown",intensity:"intervals",benefits:"Sustained VO2max work, mental toughness, race-specific power",cycleteNotes:"Long intervals build race-day sustained power",elliptigoNotes:"Form maintenance critical over 8-minute efforts",effort:{heartRate:"Zone 4-5 (90-95% max HR)",perceived:"Very hard, requires pacing discipline"},roadConsiderations:"8 minutes is long enough to use out-and-back landmarks"},{name:"Pyramid Power",duration:"60-75 minutes",equipment:"both",description:"Ascending and descending power intervals",structure:"15 min warmup + 1-2-3-4-3-2-1 min hard with 1 min easy recovery + 10 min cooldown",intensity:"intervals",benefits:"Variable power training, mental focus, comprehensive development",cycleteNotes:"Varied efforts keep engagement high",elliptigoNotes:"Manage effort across different durations",effort:{heartRate:"Zone 4-5",perceived:"Hard throughout, short recoveries"},roadConsiderations:"Timer-based, works anywhere safe"},{name:"Over-Under Intervals",duration:"60-75 minutes",equipment:"both",description:"Alternating just below and just above threshold",structure:"15 min warmup + 4 x 8 min (alternating 2 min @ threshold, 1 min @ VO2max) with 4 min recovery + 10 min cooldown",intensity:"intervals",benefits:"Lactate tolerance, recovery under duress, race simulation",cycleteNotes:"Teaches power management and recovery while working",elliptigoNotes:"Quick resistance changes between under/over efforts",effort:{heartRate:"Zone 3-4 during under, Zone 5 during over",perceived:"Alternating hard and very hard within same interval"},roadConsiderations:"No true recovery during 8-min blocks, need good road surface"},{name:"Fartlek Intervals",duration:"50-70 minutes",equipment:"both",description:"Unstructured speed play using landmarks and feel",structure:"15 min warmup + 20-30 min continuous riding with surges of varying duration (30 sec to 5 min) + 10 min cooldown",intensity:"intervals",benefits:"Variable pace training, mental freedom, responsive power",cycleteNotes:"Natural motion allows spontaneous surges",elliptigoNotes:"Use road features as surge cues",effort:{heartRate:"Variable Zone 2-5",perceived:"Playful hard efforts based on feel"},roadConsiderations:"Use mailboxes, signs, hills, etc. as surge markers"},{name:"30-30 Repeats",duration:"50-65 minutes",equipment:"both",description:"Equal hard and recovery for sustained intensity",structure:"15 min warmup + 3-4 sets of 10 x 30 sec hard / 30 sec easy (5 min recovery between sets) + 10 min cooldown",intensity:"intervals",benefits:"VO2max development, anaerobic capacity, efficient recovery",cycleteNotes:"Short recoveries develop resilience",elliptigoNotes:"Quick rhythm changes improve responsiveness",effort:{heartRate:"Zone 5 during hard sections",perceived:"Hard but repeatable, 30 sec recovery is enough"},roadConsiderations:"Timer-based, any safe stretch works"},{name:"Descending Intervals",duration:"65-80 minutes",equipment:"both",description:"Progressively shorter intervals at increasing intensity",structure:"15 min warmup + 5-4-3-2-1 min with effort increasing each interval (3 min recovery) x 2 sets + 10 min cooldown",intensity:"intervals",benefits:"Progressive intensity training, mental toughness, finishing power",cycleteNotes:"Teaches finishing speed when fatigued",elliptigoNotes:"Max power on final 1-minute effort",effort:{heartRate:"Building from Zone 4 \u2192 Zone 5+",perceived:"Each interval harder than previous"},roadConsiderations:"Final 1-minute effort is near-maximal"}],POWER_RESISTANCE:[{name:"Hill Power Repeats",duration:"55-70 minutes",equipment:"both",description:"Short explosive hill repeats for power development",structure:"15 min warmup + 8-10 x 2 min hard uphill with easy coast down + 10 min cooldown",intensity:"power",benefits:"Power development, muscular strength, explosive capacity",cycleteNotes:"Powerful natural motion up sustained grades",elliptigoNotes:"High resistance, explosive stride pattern",effort:{heartRate:"Zone 4-5 (90-100% max HR)",perceived:"Very hard uphill effort, easy coast down recovery"},roadConsiderations:"Need actual hill or sustained grade - 4-6% grade ideal, safe descent"},{name:"Resistance Strength Intervals",duration:"60-75 minutes",equipment:"both",description:"High resistance intervals on flat terrain",structure:"15 min warmup + 6-8 x 3 min @ high resistance with 3 min easy + 10 min cooldown",intensity:"power",benefits:"Muscular strength, grinding power, force production",cycleteNotes:"High resistance develops grinding strength",elliptigoNotes:"Maximum resistance, controlled cadence",effort:{heartRate:"Zone 4 (muscular not cardiovascular limiter)",perceived:"Legs burning, powerful effort"},roadConsiderations:"Works on flat roads - resistance creates difficulty"},{name:"Long Strength Climbs",duration:"70-90 minutes",equipment:"both",description:"Extended hill climbs for sustained power",structure:"15 min warmup + 4-6 x 5 min sustained climb with full recovery down + 10 min cooldown",intensity:"power",benefits:"Sustained climbing power, mental toughness, muscular endurance",cycleteNotes:"Extended natural motion on grades",elliptigoNotes:"Maintain form quality through long climbs",effort:{heartRate:"Zone 4 (80-90% max HR)",perceived:"Hard sustained uphill effort"},roadConsiderations:"Need sustained grade of 3-5%, safe descent for recovery"},{name:"Resistance Pyramid",duration:"65-80 minutes",equipment:"both",description:"Variable duration high-resistance intervals",structure:"15 min warmup + 2-3-4-5-4-3-2 min @ high resistance with 2 min easy + 10 min cooldown",intensity:"power",benefits:"Variable strength training, muscular endurance, mental engagement",cycleteNotes:"Varied durations with high resistance",elliptigoNotes:"Maximum resistance, controlled cadence throughout",effort:{heartRate:"Zone 3-4 (muscular effort)",perceived:"Powerful grinding effort"},roadConsiderations:"Resistance-based, works on any safe road"},{name:"Mixed Terrain Circuit",duration:"60-80 minutes",equipment:"both",description:"Repeated circuit with varied terrain challenges",structure:"15 min warmup + 4-5 laps of circuit with hills, flats, descents + 10 min cooldown",intensity:"power",benefits:"Variable terrain adaptation, comprehensive power development",cycleteNotes:"Natural motion adapts to terrain changes",elliptigoNotes:"Resistance and stride adjustments for terrain",effort:{heartRate:"Variable Zones 3-5",perceived:"Hard on climbs, recovery on descents"},roadConsiderations:"Find 2-3 mile circuit with varied terrain, good for repeats"},{name:"Hill Blasts",duration:"50-65 minutes",equipment:"both",description:"Short explosive hill repeats for power",structure:"15 min warmup + 12-15 x 1 min maximal uphill with easy recovery down + 10 min cooldown",intensity:"power",benefits:"Explosive power, anaerobic capacity, neuromuscular training",cycleteNotes:"Maximum power in natural motion",elliptigoNotes:"Explosive stride, maximum resistance",effort:{heartRate:"Zone 5 (95-100% max HR)",perceived:"Near-maximal effort, full recovery needed"},roadConsiderations:"Short steep hill ideal (6-8% grade), safe descent"},{name:"Tempo Climb",duration:"65-85 minutes",equipment:"both",description:"Sustained threshold effort on extended climb",structure:"15 min warmup + 2-3 x 15 min sustained climb @ threshold with recovery descent + 10 min cooldown",intensity:"power",benefits:"Climbing endurance, sustained power, race-specific strength",cycleteNotes:"Extended climbing in natural motion",elliptigoNotes:"Maintain consistent rhythm on long climbs",effort:{heartRate:"Zone 3-4 (80-90% max HR)",perceived:"Hard sustained climbing effort"},roadConsiderations:"Need long gradual climb (3-5% grade for 15 minutes)"},{name:"Resistance Fartlek",duration:"55-70 minutes",equipment:"both",description:"Playful variable resistance efforts",structure:"15 min warmup + 25-35 min continuous with surges at varying resistance levels + 10 min cooldown",intensity:"power",benefits:"Variable power training, responsive strength, mental engagement",cycleteNotes:"Quick resistance changes develop versatility",elliptigoNotes:"Play with resistance and stride combinations",effort:{heartRate:"Variable Zones 2-5",perceived:"Playful hard efforts with varying resistance"},roadConsiderations:"Use terrain features to vary resistance naturally"}],LONG_ENDURANCE_RIDES:[{name:"Progressive Long Ride",duration:"90-180 minutes",equipment:"both",description:"Start easy, gradually build to moderate-hard finish",structure:"First 70% @ easy conversational pace, final 30% @ moderate-hard effort",intensity:"long",benefits:"Progressive endurance, finishing strength, aerobic development",cycleteNotes:"Natural motion allows smooth effort progression",elliptigoNotes:"Gradually increase resistance through ride",effort:{heartRate:"Starting Zone 2, finishing Zone 3-4",perceived:"Starting easy, finishing strong"},roadConsiderations:"Plan route with good roads for harder finish"},{name:"Steady State Long Ride",duration:"90-180 minutes",equipment:"both",description:"Maintain consistent aerobic pace throughout",structure:"After warmup, maintain steady moderate effort for full duration",intensity:"long",benefits:"Aerobic endurance, consistent pacing, mental discipline",cycleteNotes:"Excellent for building aerobic base",elliptigoNotes:"Find sustainable rhythm and maintain it",effort:{heartRate:"Zone 2-3 (70-80% max HR)",perceived:"Steady, sustainable, conversational"},roadConsiderations:"Longer rides need route planning, hydration, nutrition"},{name:"Fast Finish Long Ride",duration:"90-150 minutes",equipment:"both",description:"Easy-moderate ride with strong final portion",structure:"First 80% @ easy-moderate, final 20% @ threshold effort",intensity:"long",benefits:"Finishing strength when fatigued, race simulation, mental toughness",cycleteNotes:"Teaches racing speed when tired",elliptigoNotes:"Strong finish requires full body engagement",effort:{heartRate:"Zone 2-3, finishing Zone 4",perceived:"Comfortable becoming hard at finish"},roadConsiderations:"Plan route so final hard section is on good road"},{name:"Negative Split Long Ride",duration:"90-150 minutes",equipment:"both",description:"Second half faster than first half",structure:"Ride out easy-moderate, return moderate-hard (same route out/back)",intensity:"long",benefits:"Pacing discipline, progressive endurance, race strategy practice",cycleteNotes:"Natural motion allows controlled pace progression",elliptigoNotes:"Monitor effort - start conservative",effort:{heartRate:"Zone 2-3 out, Zone 3-4 back",perceived:"Starting controlled, finishing strong"},roadConsiderations:"Out-and-back route ideal for comparison"},{name:"Variable Terrain Long Ride",duration:"100-180 minutes",equipment:"both",description:"Extended ride over varied terrain",structure:"Mix of flats, rollers, climbs at moderate overall effort",intensity:"long",benefits:"Terrain adaptation, comprehensive fitness, real-world preparation",cycleteNotes:"Natural motion handles terrain changes well",elliptigoNotes:"Adjust resistance and stride for terrain",effort:{heartRate:"Variable Zone 2-4 depending on terrain",perceived:"Moderate overall with terrain-driven variations"},roadConsiderations:"Choose hilly or rolling route for natural variation"},{name:"Out-and-Back Endurance",duration:"90-180 minutes",equipment:"both",description:"Simple out-and-back at steady aerobic pace",structure:"Ride to turnaround point, return at same effort level",intensity:"long",benefits:"Aerobic base, simple execution, mental simplicity",cycleteNotes:"Straightforward endurance building",elliptigoNotes:"Maintain consistent effort regardless of wind",effort:{heartRate:"Zone 2-3 (70-80% max HR)",perceived:"Steady, sustainable throughout"},roadConsiderations:"Single good road with turnaround point, watch for wind direction"},{name:"Long Ride with Tempo Finish",duration:"100-180 minutes",equipment:"both",description:"Aerobic ride with sustained threshold finish",structure:"Long easy-moderate ride + final 20-30 min @ threshold effort",intensity:"long",benefits:"Race-specific endurance, finishing power, mental toughness",cycleteNotes:"Builds race-day finishing strength",elliptigoNotes:"Strong finish after long aerobic work",effort:{heartRate:"Zone 2-3, finishing Zone 4",perceived:"Comfortable becoming hard"},roadConsiderations:"Plan route for good finish roads"},{name:"Exploration Ride",duration:"90-180 minutes",equipment:"both",description:"Easy-moderate exploration of new routes",structure:"Relaxed pace, enjoy scenery, build time on equipment",intensity:"long",benefits:"Aerobic base, mental freshness, route discovery",cycleteNotes:"Great way to find new training routes",elliptigoNotes:"Enjoy the ride quality and scenery",effort:{heartRate:"Zone 1-2 (60-75% max HR)",perceived:"Easy, conversational, enjoyable"},roadConsiderations:"Explore new roads/paths, have phone/GPS for navigation"}],AEROBIC_BASE:[{name:"Conversational Pace Cruise",duration:"45-120 minutes",equipment:"both",description:"Long steady effort at conversational intensity",structure:"Maintain steady effort throughout, should be able to hold conversation",intensity:"easy",benefits:"Aerobic base building, fat adaptation, endurance",cycleteNotes:"Excellent for long distance preparation, very running-like feel",elliptigoNotes:"Use moderate stride length, focus on smooth rhythm",effort:{heartRate:"Zone 1-2 (65-75% max HR)",perceived:"Easy, conversational effort"}},{name:"Recovery Ride",duration:"30-60 minutes",equipment:"both",description:"Very easy effort for active recovery",structure:"Easy riding, minimal resistance, focus on movement quality",intensity:"recovery",benefits:"Active recovery, blood flow, movement practice",cycleteNotes:"Perfect for recovery days, gentle fluid motion",elliptigoNotes:"Ideal for joint mobility and muscle activation",effort:{heartRate:"Zone 1 (60-70% max HR)",perceived:"Very easy, relaxed effort"}}],TECHNIQUE_SPECIFIC:[{name:"Movement Development",duration:"35-50 minutes",equipment:"both",description:"Focus on optimal movement pattern and efficiency",structure:"15 min warmup + 4-6 x 5 min varied effort focus + 10 min cooldown",intensity:"easy to moderate",benefits:"Movement efficiency, technique improvement, neuromuscular training",cycleteNotes:"Perfect natural motion at all efforts",elliptigoNotes:"Practice stride length adjustments with effort changes",effort:{heartRate:"Zone 1-3 varied (65-85% max HR)",perceived:"Easy to moderate varied efforts"}},{name:"Form Focus Session",duration:"40-60 minutes",equipment:"both",description:"Technical session emphasizing movement quality",structure:"Extended warmup + form drills + easy-moderate effort with technique focus",intensity:"easy to moderate",benefits:"Movement quality, efficiency, injury prevention",cycleteNotes:"Focus on smooth natural pattern, avoid bouncing",elliptigoNotes:"Emphasize full stride extension and smooth upper body motion",techniques:{cyclete:["Smooth natural motion","Avoid upper body tension","Focus on forward drive"],elliptigo:["Full stride extension","Coordinated arm swing","Stable core engagement"]}}],RECOVERY_SPECIFIC:[{name:"Active Recovery Flow",duration:"30-45 minutes",equipment:"both",description:"Gentle movement for recovery days",structure:"Very easy effort throughout, focus on movement quality",intensity:"recovery",benefits:"Blood flow, active recovery, movement maintenance",cycleteNotes:"Gentle natural motion perfect for recovery",elliptigoNotes:"Low-impact full body movement aids recovery",effort:{heartRate:"Zone 1 (60-70% max HR)",perceived:"Very easy, relaxed recovery effort"}},{name:"Injury Prevention Session",duration:"25-40 minutes",equipment:"both",description:"Low-intensity session for injury-prone periods",structure:"Extended warmup + very easy effort + extended cooldown",intensity:"recovery",benefits:"Maintains fitness while allowing healing, joint mobility",cycleteNotes:"Zero-impact alternative when running not possible",elliptigoNotes:"Gentle full-body movement without ground impact"}]}}prescribeStandUpBikeWorkout(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{duration:r=null,experience:i="intermediate",targetDistance:o=null}=n;let a=null,s=null;for(const[h,p]of Object.entries(this.workoutLibrary)){const n=p.find(n=>(n.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(n.name.toLowerCase()))&&(n.equipment===t||"both"===n.equipment));if(n){a=n,s=h;break}}if(!a)throw new Error('Workout "'.concat(e,'" not found for ').concat(t));const l=this.equipmentSpecs[t];let c=a.name,u=a.description,d=null;return o&&(d=o,c="".concat(d," RunEQ Miles - ").concat(a.name),u="Ride until your Garmin shows ".concat(d," RunEQ miles - ").concat(a.description)),(0,Ce.A)((0,Ce.A)({},a),{},{name:c,description:u,category:s,equipmentSpec:l,prescribedRunEqMiles:d,garminNote:"Ride until your Garmin RunEQ data field shows the prescribed RunEQ miles. Your actual bike distance will vary based on your riding intensity.",equipmentSpecificNotes:this.getEquipmentNotes(a,t),safetyGuidance:this.getSafetyGuidance(t,a),alternatives:this.getAlternatives(t,a),progressions:this.getProgressions(a,i)})}getGarminDataFieldNote(){return{title:"RunEQ Garmin Data Field",description:"Install the companion Garmin data field to see your RunEQ miles in real-time while riding",how_it_works:"The data field automatically converts your riding distance to running equivalency based on YOUR riding intensity",why_it_matters:"Everyone rides differently - prescribing actual bike miles would be inaccurate. RunEQ miles ensure equivalent training stimulus regardless of how hard you ride.",example:"If prescribed 5 RunEQ miles: A harder rider might complete it in 12 actual bike miles. An easier rider might need 14 actual bike miles. Both get the same training effect."}}getEquipmentNotes(e,t){var n,r;return"cyclete"===t?{motion:"Focus on smooth natural motion pattern",strengths:e.cycleteNotes||"Excellent running simulation",effort:(null===(n=e.effort)||void 0===n?void 0:n.heartRate)||"Monitor by heart rate or perceived effort"}:{motion:"Utilize full stride length and upper body engagement",strengths:e.elliptigoNotes||"Full-body workout with adjustable stride",effort:(null===(r=e.effort)||void 0===r?void 0:r.heartRate)||"Monitor by heart rate or perceived effort"}}getSafetyGuidance(e,t){const n=["Start with proper warmup to prepare for stand-up motion","Focus on smooth, controlled movement throughout","Stay hydrated, especially during longer sessions"];return"cyclete"===e?n.push("Maintain natural natural motion, avoid forcing the pattern","Keep upper body relaxed to allow efficient power transfer"):n.push("Adjust stride length appropriately for intensity level","Coordinate upper and lower body movement smoothly","Use handles for balance, not to pull yourself forward"),"interval"!==t.intensity&&"tempo"!==t.intensity||n.push("Monitor effort level - equipment amplifies intensity compared to running"),n}getAlternatives(e,t){return{weatherOptions:{indoor:"elliptigo"===e?"elliptiGO can be used on indoor trainer":"cyclete is outdoor-specific",outdoor:"Both excellent for outdoor training in various conditions"},intensityAdjustments:{tooHard:"Reduce resistance or effort level, maintain smooth motion",tooEasy:"Increase resistance or effort level, extend duration",injury:"Both are excellent low-impact alternatives to running"},durationMods:{timeConstraint:"Focus on quality intervals, maintain warmup/cooldown",extended:"Both platforms excel at longer endurance sessions"}}}getProgressions(e,t){const n={beginner:"Start conservative, focus on movement quality over intensity",intermediate:"Standard prescription as written",advanced:"Can extend duration or add complexity to intervals"};return"interval"===e.intensity&&(n.weeklyProgression="Week 1: Shorter intervals, Week 2-3: Build, Week 4: Recovery"),n[t]}getWorkoutsForEquipment(e){const t=[];for(const[n,r]of Object.entries(this.workoutLibrary))for(const i of r)i.equipment!==e&&"both"!==i.equipment||t.push((0,Ce.A)((0,Ce.A)({},i),{},{category:n}));return t}getCategories(){return Object.keys(this.workoutLibrary)}searchWorkouts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[],r=e.toLowerCase();for(const[i,o]of Object.entries(this.workoutLibrary))for(const e of o)t&&e.equipment!==t&&"both"!==e.equipment||(e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.benefits.toLowerCase().includes(r))&&n.push((0,Ce.A)((0,Ce.A)({},e),{},{category:i}));return n}}var Py=n(578);class Ay{constructor(){this.hillLibrary=new _y,this.tempoLibrary=new Cy,this.intervalLibrary=new Dy,this.longRunLibrary=new Ry,this.standUpBikeLibrary=new Iy,this.paceCalculator=new Py.O,this.planTemplates={"5K":{weeksRecommended:8,runsPerWeek:[3,4,5],focusAreas:["speed","vo2max","lactateThreshold"],workoutDistribution:{intervals:30,tempo:25,hills:20,longRuns:25},peakWeeklyMileage:[15,25,35],longRunMax:[8,10,12]},"10K":{weeksRecommended:10,runsPerWeek:[3,4,5,6],focusAreas:["vo2max","lactateThreshold","aerobicPower"],workoutDistribution:{intervals:25,tempo:30,hills:20,longRuns:25},peakWeeklyMileage:[20,30,40,50],longRunMax:[10,12,15,18]},Half:{weeksRecommended:12,runsPerWeek:[4,5,6,7],focusAreas:["lactateThreshold","aerobicPower","endurance"],workoutDistribution:{intervals:20,tempo:35,hills:20,longRuns:25},peakWeeklyMileage:[25,35,45,55],longRunMax:[13,15,18,20]},Marathon:{weeksRecommended:16,runsPerWeek:[4,5,6,7],focusAreas:["endurance","lactateThreshold","aerobicPower"],workoutDistribution:{intervals:15,tempo:30,hills:20,longRuns:35},peakWeeklyMileage:[35,45,60,70],longRunMax:[20,22,24,26]}},this.trainingPhases={base:{name:"Base Building",focus:"Aerobic development, easy miles",workoutIntensity:"low",longRunEmphasis:"easy",hillFocus:"long_strength"},build:{name:"Build Phase",focus:"Lactate threshold, tempo work",workoutIntensity:"moderate",longRunEmphasis:"progressive",hillFocus:"medium_vo2"},peak:{name:"Peak/Sharpening",focus:"Race-specific speed and power",workoutIntensity:"high",longRunEmphasis:"raceSimulation",hillFocus:"short_power"},taper:{name:"Taper",focus:"Maintain fitness, reduce volume",workoutIntensity:"moderate",longRunEmphasis:"traditional_easy",hillFocus:"short_power"}}}generateTrainingPlan(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{raceDistance:t="10K",raceTime:n=null,currentPaces:r=null,runsPerWeek:i=4,runEqPreference:o=0,weeksAvailable:a=null,experienceLevel:s,standUpBikeType:l=null,runningStatus:c="active",currentWeeklyMileage:u=null,availableDays:d=null,hardSessionDays:h=null,longRunDay:p=null,preferredBikeDays:f=null}=e;console.log("\ud83c\udfc3 Training Plan Generator Options:"),console.log("  runningStatus:",c),console.log("  currentWeeklyMileage:",u),console.log("  availableDays:",d),console.log("  hardSessionDays:",h),console.log("  longRunDay:",p),console.log("  preferredBikeDays:",f);const m=this.planTemplates[t];if(!m)throw new Error("Race distance ".concat(t," not supported"));let g=null,y=null,v=null;if(r)v=r,console.log("\ud83d\udcca Using provided current paces");else{if(!n)throw new Error("Either currentPaces or raceTime must be provided");{const r=e.currentRaceDistance||t;if(console.log("\ud83c\udfaf Calculating GOAL paces: ".concat(r," in ").concat(n)),y=this.paceCalculator.calculateFromGoal(r,n),console.log("  Goal paces:",y.paces),u||e.currentLongRunDistance){const t=parseInt(e.currentLongRunDistance)||0,n=parseInt(u)||0;console.log("\ud83d\udcca Estimating CURRENT fitness from:"),console.log("   Long run: ".concat(t," miles")),console.log("   Weekly mileage: ".concat(n," miles")),g=this.paceCalculator.calculateFromCurrentFitness(t,n,r),console.log("  Current fitness paces:",g.paces),console.log("  \ud83d\udcc8 Progressive training: Week 1 at current fitness \u2192 Final week at goal pace"),v={current:g,goal:y,useProgression:!0}}else console.warn("\u26a0\ufe0f No current fitness data provided - using goal paces from Week 1"),console.warn("   This may prescribe paces that are too fast for current fitness level"),v=y}}const b=a||m.weeksRecommended,w=this.calculateWeeklyStructure(m,i,s,d,h,p,f,u),k=this.createPeriodization(b,t),x=[];for(let S=1;S<=b;S++){const e=this.generateWeekPlan(S,b,m,w,k,v,o,s,l,c);x.push(e)}return{planOverview:(0,Ce.A)({raceDistance:t,raceTime:n,runsPerWeek:i,totalWeeks:b,runEqPreference:o,experienceLevel:s,standUpBikeType:l},v.useProgression&&{paceProgression:{currentFitnessPaces:v.current.paces,goalPaces:v.goal.paces,strategy:"Progressive blending from current fitness to goal paces"}}),trainingPaces:v.useProgression?v.goal.paces:v.paces||v,currentFitnessPaces:v.useProgression?v.current.paces:null,trackIntervals:v.useProgression?v.goal.trackIntervals:v.trackIntervals||null,periodization:k,weeklyStructure:w,weeks:x,planSummary:this.generatePlanSummary(x,m)}}calculateWeeklyStructure(e,t,n,r,i,o,a,s){const l=e.runsPerWeek.indexOf(t);if(-1===l)throw new Error("".concat(t," runs per week not supported for this distance"));console.log("\ud83d\udcca calculateWeeklyStructure received:"),console.log("  hardSessionDays:",i),console.log("  availableDays:",r),console.log("  longRunDay:",o),console.log("  preferredBikeDays:",a),console.log("  currentWeeklyMileage:",s);const c={runsPerWeek:t,peakMileage:e.peakWeeklyMileage[l],longRunMax:e.longRunMax[l],currentWeeklyMileage:s,availableDays:r||this.getDefaultAvailableDays(t),hardSessionDays:i||[],longRunDay:o||"Saturday",preferredBikeDays:a||[],restDays:7-t};return c.easyDays=c.availableDays.filter(e=>!c.hardSessionDays.includes(e)&&!c.preferredBikeDays.includes(e)&&e!==c.longRunDay),"beginner"===n?(c.peakMileage*=.8,c.longRunMax*=.9):"advanced"===n&&(c.peakMileage*=1.15,c.longRunMax*=1.1),c}getDefaultAvailableDays(e){const t={3:["Monday","Wednesday","Saturday"],4:["Monday","Wednesday","Friday","Saturday"],5:["Monday","Wednesday","Thursday","Friday","Saturday"],6:["Monday","Tuesday","Wednesday","Friday","Saturday","Sunday"],7:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]};return t[e]||t[4]}createPeriodization(e,t){const n=[];e<=8?(n.push({phase:"base",weeks:Math.ceil(.4*e)}),n.push({phase:"build",weeks:Math.ceil(.4*e)}),n.push({phase:"peak",weeks:Math.floor(.2*e)})):(n.push({phase:"base",weeks:Math.ceil(.4*e)}),n.push({phase:"build",weeks:Math.ceil(.35*e)}),n.push({phase:"peak",weeks:Math.ceil(.15*e)}),n.push({phase:"taper",weeks:Math.floor(.1*e)}));let r=0;return n.forEach(e=>{e.startWeek=r+1,e.endWeek=r+e.weeks,r+=e.weeks}),n}generateWeekPlan(e,t,n,r,i,o,a,s,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"active";this.workoutHistory||(this.workoutHistory={intervals:[],tempo:[],hills:[]});const u=i.find(t=>e>=t.startWeek&&e<=t.endWeek);let d;o.useProgression?(d=this.paceCalculator.blendPaces(o.current,o.goal,e,t),console.log("\ud83c\udfaf Week ".concat(e," pace blend: ").concat(Math.round(100*d.progressionRatio),"% toward goal"))):d=o;const h=e%4===0&&e<t-2,p=r.currentWeeklyMileage||Math.round(.5*r.peakMileage),f=t-2;let m;if(console.log("\ud83d\udcd0 Week ".concat(e," mileage calculation:"),{weekNumber:e,weekNumberType:typeof e,startingMileage:p,peakMileage:r.peakMileage,buildWeeks:f,checkWeek1:1===e,currentWeeklyMileage:r.currentWeeklyMileage}),1===e)m=p,console.log("   \u2705 Week 1 detected - using startingMileage: ".concat(m));else if(e>=t-1)m=Math.round(r.peakMileage*(e===t?.6:.7));else if(h){const t=p+(r.peakMileage-p)*(e/f);m=Math.round(.75*t)}else m=Math.round(p+(r.peakMileage-p)*(e/f));console.log("\ud83d\udcc5 Week ".concat(e,": ").concat(m," miles (start: ").concat(p,", peak: ").concat(r.peakMileage,", isRest: ").concat(h,")"));const g=this.generateWeekWorkouts(r.runsPerWeek,m,u,n,d,a,s,e,t,l,r,c);return{week:e,phase:u.phase,isRestWeek:h,totalMileage:m,workouts:g,weekFocus:this.getWeekFocus(u.phase,n.focusAreas),notes:this.generateWeekNotes(u.phase,h,e,t)}}generateWeekWorkouts(e,t,n,r,i,o,a,s,l,c,u){let d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"active";const h=[],{availableDays:p,hardSessionDays:f,longRunDay:m,preferredBikeDays:g,easyDays:y}=u;console.log("\n\ud83d\uddd3\ufe0f Week ".concat(s," Workout Generation:")),console.log("  runningStatus:",d),console.log("  availableDays:",p),console.log("  hardSessionDays:",f),console.log("  longRunDay:",m),console.log("  preferredBikeDays:",g),console.log("  easyDays:",y);const v=this.calculateLongRunDistance(t,e),b=t-v,w=Math.round(b/(e-1)),k=e=>{switch(e){case"tempo":return Math.round(1.4*w);case"intervals":return Math.round(1.25*w);case"hills":return Math.round(1.2*w);case"bike":case"recovery":return Math.round(.8*w);default:return w}};let x=0;return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].forEach(e=>{if(console.log("\n  \ud83d\udccd Processing ".concat(e,":")),console.log("     availableDays.includes('".concat(e,"'):"),p.includes(e)),console.log("     hardSessionDays.includes('".concat(e,"'):"),f.includes(e)),console.log("     preferredBikeDays.includes('".concat(e,"'):"),g.includes(e)),console.log("     day === longRunDay ('".concat(m,"'):"),e===m),!p.includes(e))return console.log("     \u26d4 Result: REST DAY (not in availableDays)"),void h.push({day:e,type:"rest",workout:{name:"Rest Day",description:"Complete rest or light cross-training"},distance:0,focus:"Recovery"});if(e===m)if("bikeOnly"===d)console.log("     \u2705 Result: LONG BIKE RIDE (bike-only mode)"),h.push({day:e,type:"bike",workout:this.selectStandUpBikeWorkout("long_endurance",n,c,v),distance:v,focus:"Endurance",equipmentSpecific:!0});else{console.log("     \u2705 Result: LONG RUN");const t=i.paces||i;h.push({day:e,type:"longRun",workout:this.selectLongRunWorkout(n,v,o,t),distance:v,focus:"Endurance"})}else if(f.includes(e)&&g.includes(e)&&c){console.log("     \u2705 Result: HARD BIKE SESSION (hard day + bike day, hardSessionIndex: ".concat(x,")"));const t=["tempo","intervals","aerobic_power"],r=t[x%t.length],i=k(r);h.push({day:e,type:"bike",workout:this.selectStandUpBikeWorkout(r,n,c,i),distance:i,focus:"tempo"===r?"Lactate Threshold":"Speed & Power",equipmentSpecific:!0}),x++}else if(f.includes(e))if("bikeOnly"===d){console.log("     \u2705 Result: HARD BIKE SESSION (bike-only mode, hardSessionIndex: ".concat(x,")"));const t=["tempo","intervals","aerobic_power"],r=t[x%t.length],i=k(r);h.push({day:e,type:"bike",workout:this.selectStandUpBikeWorkout(r,n,c,i),distance:i,focus:"tempo"===r?"Lactate Threshold":"Speed & Power",equipmentSpecific:!0}),x++}else{console.log("     \u2705 Result: HARD RUN SESSION (hardSessionIndex: ".concat(x,")"));const t=this.selectWorkoutType(x,n,r),a=k(t);h.push({day:e,type:t,workout:this.selectQualityWorkout(t,n,a,o,i,s,l),distance:a,focus:this.getWorkoutFocus(t)}),x++}else if(g.includes(e)&&c){console.log("     \u2705 Result: BIKE DAY");const t="aerobic_base",r=k("bike");h.push({day:e,type:"bike",workout:this.selectStandUpBikeWorkout(t,n,c,r),distance:r,focus:"Aerobic Base",equipmentSpecific:!0})}else if("bikeOnly"===d){console.log("     \u2705 Result: EASY BIKE RIDE (bike-only mode)");const t=k("recovery");h.push({day:e,type:"bike",workout:this.selectStandUpBikeWorkout("recovery",n,c,t),distance:t,focus:"Recovery",equipmentSpecific:!0})}else{console.log("     \u2705 Result: EASY RUN");const t=i.paces||i,n=k("easy");h.push({day:e,type:"easy",workout:this.generateEasyRun(n,o,t),distance:n,focus:"Recovery"})}}),h}selectWorkoutType(e,t,n){this.trainingPhases[t.phase];const r={base:["tempo","hills","easy"],build:["tempo","intervals","hills"],peak:["intervals","tempo","hills"],taper:["tempo","easy","intervals"]}[t.phase];return r[e%r.length]}selectQualityWorkout(e,t,n,r,i,o,a){this.trainingPhases[t.phase];const s=i.paces||i,l=i.trackIntervals||null;switch(e){case"hills":return this.selectHillWorkout(t,r,s,o,a);case"tempo":return this.selectTempoWorkout(t,r,s,o,a);case"intervals":return this.selectIntervalWorkout(t,r,s,l,o,a);default:return this.generateEasyRun(n,r,s)}}selectHillWorkout(e,t,n,r,i){const o=this.trainingPhases[e.phase].hillFocus,a=this.hillLibrary.getWorkoutsByCategory(o);if(0===a.length){const e=Object.values(this.hillLibrary.workoutLibrary).flat(),r=this.selectWorkoutAvoidingRepetition(e,"hills");return this.hillLibrary.prescribeHillWorkout(r.name,{runEqPreference:t,paces:n})}const s=this.selectWorkoutAvoidingRepetition(a,"hills");return this.hillLibrary.prescribeHillWorkout(s.name,{runEqPreference:t,paces:n})}selectTempoWorkout(e,t,n,r,i){this.trainingPhases[e.phase];const o={base:"TRADITIONAL_TEMPO",build:"TEMPO_INTERVALS",peak:"RACE_SPECIFIC",taper:"ALTERNATING_TEMPO"}[e.phase],a=this.tempoLibrary.getWorkoutsByCategory(o),s=this.selectWorkoutAvoidingRepetition(a,"tempo");return this.tempoLibrary.prescribeTempoWorkout(s.name,{runEqPreference:t,paces:n})}selectIntervalWorkout(e,t,n,r,i,o){this.trainingPhases[e.phase];const a={base:"LONG_INTERVALS",build:"VO2_MAX",peak:"SHORT_SPEED",taper:"MIXED_INTERVALS"}[e.phase],s=this.intervalLibrary.getWorkoutsByCategory(a),l=this.selectWorkoutAvoidingRepetition(s,"intervals"),c=this.calculateSpecificReps(l.repetitions,i,o);return this.intervalLibrary.prescribeIntervalWorkout(l.name,{runEqPreference:t,paces:n,trackIntervals:r,specificReps:c})}selectLongRunWorkout(e,t,n,r){const i={easy:"TRADITIONAL_EASY",progressive:"PROGRESSIVE_RUNS",raceSimulation:"RACE_SIMULATION",traditional_easy:"TRADITIONAL_EASY"}[this.trainingPhases[e.phase].longRunEmphasis]||"TRADITIONAL_EASY",o=this.longRunLibrary.getWorkoutsByCategory(i),a=o[Math.floor(Math.random()*o.length)];return this.longRunLibrary.prescribeLongRunWorkout(a.name,{runEqPreference:n,distance:t,paces:r})}generateEasyRun(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={optionA:"Full easy running",optionB:"First half running, second half stand-up bike",optionC:"Full stand-up bike (2x time conversion)",recommendation:t>=50?"Split or full bike workout":"Full running"};let i="".concat(e," miles at easy pace"),o="Conversational pace, aerobic base building";return n&&n.easy&&(i="".concat(e," miles at easy pace (").concat(n.easy.min,"-").concat(n.easy.max,"/mile)"),o="Conversational pace (".concat(n.easy.min,"-").concat(n.easy.max,"/mile), aerobic base building")),{name:"Easy Run",description:o,structure:i,intensity:"easy",benefits:"Aerobic development, recovery, base building",runEqOptions:r,paces:n,notes:"Should feel refreshed after this run, not fatigued"}}calculateLongRunDistance(e,t){const n=t<=4?.35:.3;return Math.round(e*n)}getWorkoutFocus(e){return{hills:"Power & Strength",tempo:"Lactate Threshold",intervals:"VO2 Max & Speed",easy:"Aerobic Base",longRun:"Endurance"}[e]||"General Fitness"}getWeekFocus(e,t){const n=this.trainingPhases[e];return"".concat(n.name,": ").concat(n.focus)}generateWeekNotes(e,t,n,r){const i=[];t&&i.push("RECOVERY WEEK: Reduced volume to allow adaptation and recovery");const o=this.trainingPhases[e];return i.push("Focus: ".concat(o.focus)),"peak"===e&&n>r-4&&i.push("Peak phase: Focus on race-specific workouts and maintaining sharpness"),"taper"===e&&i.push("Taper phase: Maintain intensity but reduce volume for race readiness"),i}generatePlanSummary(e,t){const n=e.reduce((e,t)=>e+t.workouts.filter(e=>"rest"!==e.type).length,0),r=e.reduce((e,t)=>(t.workouts.forEach(t=>{e[t.type]=(e[t.type]||0)+1}),e),{}),i=e.reduce((e,t)=>e+t.totalMileage,0);return{totalWorkouts:n,totalMiles:i,workoutBreakdown:r,averageWeeklyMiles:Math.round(i/e.length),peakWeekMiles:Math.max(...e.map(e=>e.totalMileage)),varietyScore:Object.keys(r).length}}selectWorkoutAvoidingRepetition(e,t){if(!e||0===e.length)throw new Error("No workouts available for type: ".concat(t));if(e.length<=2){const n=this.workoutHistory[t][this.workoutHistory[t].length-1],r=e.filter(e=>e.name!==n);if(r.length>0){const e=r[Math.floor(Math.random()*r.length)];return this.workoutHistory[t].push(e.name),e}const i=e[Math.floor(Math.random()*e.length)];return this.workoutHistory[t].push(i.name),i}const n=this.workoutHistory[t].slice(-2),r=e.filter(e=>!n.includes(e.name));if(0===r.length){this.workoutHistory[t]=[];const n=e[Math.floor(Math.random()*e.length)];return this.workoutHistory[t].push(n.name),n}const i=r[Math.floor(Math.random()*r.length)];return this.workoutHistory[t].push(i.name),this.workoutHistory[t].length>5&&this.workoutHistory[t].shift(),i}calculateSpecificReps(e,t,n){const r=e.match(/(\d+)-(\d+)/);if(!r)return e;const i=parseInt(r[1],10),o=parseInt(r[2],10),a=Math.min(1,t/(.75*n)),s=Math.round(i+a*(o-i));return e.replace(/(\d+)-(\d+)/,s.toString())}selectStandUpBikeWorkoutType(e,t,n){this.trainingPhases[t.phase];const r={base:["aerobic_base","tempo_efforts","recovery_specific"],build:["tempo_efforts","high_intensity","technique_specific"],peak:["high_intensity","race_specific","tempo_efforts"],taper:["technique_specific","recovery_specific","race_specific"]}[t.phase];return r[e%r.length]}selectStandUpBikeWorkout(e,t,n,r){const i={tempo:"TEMPO_BIKE",intervals:"INTERVAL_BIKE",aerobic_power:"POWER_RESISTANCE",long_endurance:"LONG_ENDURANCE_RIDES",recovery:"RECOVERY_SPECIFIC",aerobic_base:"AEROBIC_BASE",technique_specific:"TECHNIQUE_SPECIFIC"}[e]||"AEROBIC_BASE",o=this.standUpBikeLibrary.workoutLibrary[i];if(!o||0===o.length){const e=Object.values(this.standUpBikeLibrary.workoutLibrary).flat().filter(e=>e.equipment===n||"both"===e.equipment);if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];return this.standUpBikeLibrary.prescribeStandUpBikeWorkout(t.name,n,{targetDistance:r})}}const a=o.filter(e=>e.equipment===n||"both"===e.equipment);if(0===a.length){const e=o.filter(e=>"both"===e.equipment);if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];return this.standUpBikeLibrary.prescribeStandUpBikeWorkout(t.name,n,{targetDistance:r})}}const s=a[Math.floor(Math.random()*a.length)];return this.standUpBikeLibrary.prescribeStandUpBikeWorkout(s.name,n,{targetDistance:r})}}const Ny=class{constructor(){this.transitionGuidelines={quick:{time:"30-60 seconds",description:"Simulate race conditions"},standard:{time:"60-90 seconds",description:"Equipment change + brief recovery"},recovery:{time:"2-3 minutes",description:"Hydration + equipment adjustment"},full:{time:"5+ minutes",description:"Complete recovery between segments"}},this.equipmentTransitions={cyclete:{setup:"30-45 seconds",notes:"Quick height adjustment, similar running position",advantages:"Minimal setup, running-like feel"},elliptigo:{setup:"60-90 seconds",notes:"Stride adjustment, gear selection",advantages:"Full body engagement after running"}},this.brickWorkouts={aerobic:[{name:"Base Building Brick",totalDuration:"60-90 minutes",difficulty:"beginner",runeqRatio:"moderate",structure:[{type:"run",duration:"20 min",intensity:"easy",description:"Easy warm-up run"},{type:"transition",duration:"90 sec",activity:"equipment change"},{type:"bike",duration:"30 min",intensity:"easy",description:"Steady aerobic effort"},{type:"transition",duration:"90 sec",activity:"equipment change"},{type:"run",duration:"15 min",intensity:"easy",description:"Easy finish run"}],purpose:"Develop aerobic fitness with equipment familiarity"},{name:"Long Aerobic Brick",totalDuration:"90-120 minutes",difficulty:"intermediate",runeqRatio:"balanced",structure:[{type:"run",duration:"30 min",intensity:"easy",description:"Extended warm-up"},{type:"transition",duration:"2 min",activity:"hydration + equipment"},{type:"bike",duration:"45 min",intensity:"easy",description:"Sustained aerobic effort"},{type:"transition",duration:"2 min",activity:"hydration + equipment"},{type:"run",duration:"20 min",intensity:"easy",description:"Finish strong"}],purpose:"Extended aerobic development, mental toughness"}],tempo:[{name:"Alternating Tempo Brick",totalDuration:"45-60 minutes",difficulty:"intermediate",runeqRatio:"run-focused",structure:[{type:"run",duration:"15 min",intensity:"easy",description:"Warm-up"},{type:"run",duration:"10 min",intensity:"tempo",description:"Threshold effort"},{type:"transition",duration:"60 sec",activity:"quick change"},{type:"bike",duration:"15 min",intensity:"tempo",description:"Maintain threshold"},{type:"transition",duration:"60 sec",activity:"quick change"},{type:"run",duration:"8 min",intensity:"tempo",description:"Final threshold"},{type:"run",duration:"10 min",intensity:"easy",description:"Cool down"}],purpose:"Lactate threshold development with equipment variety"},{name:"Sandwich Tempo Brick",totalDuration:"50-65 minutes",difficulty:"advanced",runeqRatio:"balanced",structure:[{type:"run",duration:"12 min",intensity:"easy",description:"Warm-up"},{type:"bike",duration:"20 min",intensity:"tempo",description:"Strong tempo effort"},{type:"transition",duration:"90 sec",activity:"equipment change"},{type:"run",duration:"15 min",intensity:"tempo",description:"Run off the bike"},{type:"run",duration:"12 min",intensity:"easy",description:"Cool down"}],purpose:"Practice running after hard bike effort"}],speed:[{name:"Speed Transition Brick",totalDuration:"35-45 minutes",difficulty:"advanced",runeqRatio:"balanced",structure:[{type:"run",duration:"15 min",intensity:"easy",description:"Warm-up with strides"},{type:"intervals",description:"4x (2min run hard + 45sec transition + 2min bike hard + 45sec transition)",recovery:"2 min easy run between sets"},{type:"run",duration:"10 min",intensity:"easy",description:"Cool down"}],purpose:"Speed endurance, equipment mastery"}],recovery:[{name:"Active Recovery Brick",totalDuration:"30-45 minutes",difficulty:"recovery",runeqRatio:"balanced",structure:[{type:"run",duration:"10 min",intensity:"easy",description:"Gentle start"},{type:"transition",duration:"2 min",activity:"relaxed change"},{type:"bike",duration:"15 min",intensity:"recovery",description:"Very easy spinning"},{type:"transition",duration:"2 min",activity:"relaxed change"},{type:"run",duration:"10 min",intensity:"easy",description:"Easy finish"}],purpose:"Active recovery, movement variety"}]}}getBrickWorkoutTypes(){return Object.keys(this.brickWorkouts)}getBrickWorkoutsByType(e){return this.brickWorkouts[e]||[]}generateBrickWorkout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:t="aerobic",difficulty:n="intermediate",equipment:r="cyclete"}=e,i=this.brickWorkouts[t]||this.brickWorkouts.aerobic;let o=i;"any"!==n&&(o=i.filter(e=>e.difficulty===n||"any"===e.difficulty),0===o.length&&(o=i));const a=o[Math.floor(Math.random()*o.length)];return this.formatBrickWorkoutForUI(a,r)}formatBrickWorkoutForUI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cyclete";return(0,Ce.A)((0,Ce.A)({},e),{},{type:"brick",category:"Brick Workout",runeqFeatures:{equipmentUsed:t,transitionPractice:!0,uniqueFeature:"\ud83e\uddf1 Run+Bike Combination",alternatives:this.getBrickAlternatives(e)},equipmentNotes:this.equipmentTransitions[t]||this.equipmentTransitions.cyclete,safetyNotes:["Practice transitions in training before using in workouts","Stay hydrated during equipment changes","Start with longer transition times, speed up as you improve","Listen to your body - brick workouts are demanding"],paceGuidance:{easy:"Conversational pace, 65-75% max HR",tempo:"Comfortably hard, 85-90% max HR",hard:"Hard effort, 90-95% max HR",recovery:"Very easy, 60-70% max HR"}})}getBrickAlternatives(e){return[{category:"\ud83c\udf21\ufe0f Weather Alternatives",options:[{name:"Hot Weather Adaptation",description:"Extend transition times for hydration and cooling",intensity:e.difficulty},{name:"Cold Weather Adaptation",description:"Minimize transition time to maintain body temperature",intensity:e.difficulty}]},{category:"\u26a1 Equipment Alternatives",options:[{name:"No Bike Available",description:"Replace bike segments with hill running at equivalent effort",intensity:e.difficulty},{name:"No Transitions",description:"Combine segments into continuous workout",intensity:e.difficulty},{name:"Indoor Alternative",description:"Use treadmill incline to simulate bike resistance",intensity:e.difficulty}]},{category:"\u2b07\ufe0f Make It Easier",options:[{name:"Extended Recovery Brick",description:"Longer transition times, lower intensity",intensity:"recovery"},{name:"Single Transition Brick",description:"Just one run\u2192bike or bike\u2192run transition",intensity:"easy"}]},{category:"\u2b06\ufe0f Make It Harder",options:[{name:"Quick Transition Brick",description:"Minimize transition times, race-like pace",intensity:"hard"},{name:"Multi-Transition Brick",description:"Add more run\u2194bike switches throughout workout",intensity:"advanced"}]}]}getRandomBrickWorkout(){const e=this.getBrickWorkoutTypes(),t=e[Math.floor(Math.random()*e.length)];return this.generateBrickWorkout({type:t})}isBrickWorkout(e){var t;return"brick"===(null===e||void 0===e?void 0:e.type)||"Brick Workout"===(null===e||void 0===e?void 0:e.category)||(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("brick"))}formatBrickStructure(e){return e.map((e,t)=>({step:t+1,type:e.type,duration:e.duration||e.description,intensity:e.intensity||"standard",description:e.description||e.activity,isTransition:"transition"===e.type}))}};const My=class{constructor(){this.trainingPlanGenerator=new Ay,this.tempoLibrary=new Cy,this.intervalLibrary=new Dy,this.hillLibrary=new _y,this.longRunLibrary=new Ry,this.brickWorkoutService=new Ny,this.planTemplates={"5K":{weeks:8,focusAreas:["speed","vo2max"]},"10K":{weeks:10,focusAreas:["vo2max","lactateThreshold"]},Half:{weeks:12,focusAreas:["lactateThreshold","endurance"]},Marathon:{weeks:16,focusAreas:["endurance","lactateThreshold"]}}}convertOnboardingToOptions(e){const{distance:t,time:n}=this.parseRaceTimeWithDistance(e.currentRaceTime),r=this.calculateRunEqPreference(e);let i=null;if(e.startDate&&e.raceDate){const t=6048e5;i=Math.ceil((new Date(e.raceDate)-new Date(e.startDate))/t)}return console.log("\ud83d\udd0d Converting onboarding to options:"),console.log("  currentRaceTime:",e.currentRaceTime),console.log("  parsedDistance:",t),console.log("  parsedTime:",n),console.log("  currentWeeklyMileage:",e.currentWeeklyMileage),console.log("  currentLongRunDistance:",e.currentLongRunDistance),console.log("  availableDays:",e.availableDays),console.log("  hardSessionDays:",e.hardSessionDays),console.log("  longRunDay:",e.longRunDay),console.log("  preferredBikeDays:",e.preferredBikeDays),{raceDistance:e.raceDistance,currentRaceDistance:t,raceTime:n,currentPaces:null,runsPerWeek:e.runsPerWeek,runEqPreference:r,weeksAvailable:i,experienceLevel:e.experienceLevel,standUpBikeType:e.standUpBikeType,runningStatus:e.runningStatus||"active",currentWeeklyMileage:parseInt(e.currentWeeklyMileage)||null,currentLongRunDistance:parseInt(e.currentLongRunDistance)||null,availableDays:e.availableDays,hardSessionDays:e.hardSessionDays,longRunDay:e.longRunDay,preferredBikeDays:e.preferredBikeDays}}parseRaceTimeWithDistance(e){if(!e)return{distance:null,time:null};const t=e.split("-");return 2!==t.length?{distance:null,time:null}:{distance:t[0],time:t[1]}}parseRaceTime(e){if(!e)return null;const t=e.split("-");return 2!==t.length?null:t[1]}calculateRunEqPreference(e){let t=0;return e.standUpBikeType&&(t+=30,e.runsPerWeek>=5&&(t+=20),e.runsPerWeek>=6&&(t+=20)),"advanced"!==e.experienceLevel&&"elite"!==e.experienceLevel||(t+=10),Math.min(t,80)}async generatePlanFromOnboarding(e){try{console.log("Generating training plan for:",e);const t=this.convertOnboardingToOptions(e),n=this.trainingPlanGenerator.generateTrainingPlan(t);console.log("\u2705 TrainingPlanGenerator created plan with",n.weeks.length,"weeks");return{success:!0,plan:{planOverview:{raceDistance:e.raceDistance,raceTime:e.currentRaceTime,totalWeeks:n.planOverview.totalWeeks,runsPerWeek:e.runsPerWeek,standUpBikeType:e.standUpBikeType,runningStatus:e.runningStatus||"active",experienceLevel:e.experienceLevel,runEqPreference:this.calculateRunEqPreference(e),startDate:e.startDate,raceDate:e.raceDate,trainingPhilosophy:e.trainingPhilosophy||"Zone-Based Training"},weeks:n.weeks,trainingPaces:n.trainingPaces,periodization:n.periodization,planSummary:(0,Ce.A)((0,Ce.A)({},n.planSummary),{},{workoutVariety:"80+ different workouts with proper periodization",equipmentIntegration:e.standUpBikeType?"".concat(e.standUpBikeType," specific with smart brick integration"):"Running focused with optional equipment integration",coachingPhilosophy:"Research-based training with 4 ways to complete every workout",runeqAdvantage:"Every workout offers 4 ways to complete it - pure running, brick combinations, mixed segments, or full equipment",ageBasedGuidance:this.getAgeBasedGuidance(e),flexibilityMessage:"Remember: it's pretty much impossible to follow any plan exactly - life gets in the way, and that's completely okay. This serves as your guide that you can build around your life."})},userProfile:e}}catch(t){return console.error("Error generating training plan:",t),{success:!1,error:t.message,plan:this.generateFallbackPlan(e)}}}generateWeeks(e,t){const n=[],r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||e.weeks;for(let i=1;i<=r;i++){const o=this.generateWeekWorkouts(i,e,t,r),a=this.getWeekDateRange(t.startDate,i);n.push({week:i,weekDates:a,phase:this.getPhase(i,r),totalMileage:this.calculateWeeklyMileage(i,e,t),workouts:o,isRestWeek:i%4===0&&i<r-2,coachingNote:this.generateCoachingNote(i,e,t),weeklyFocus:this.getWeeklyFocus(i,r),motivation:this.getWeeklyMotivation(i,r)})}return n}getWeekDateRange(e,t){if(!e)return{start:"Week ".concat(t),end:"Week ".concat(t),displayText:"Week ".concat(t)};const n=new Date(e);if(1===t){const e=new Date(n),r=e.getDay(),i=0===r?0:7-r,o=new Date(e);return o.setDate(e.getDate()+i),{start:e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),end:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),displayText:"".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(o.toLocaleDateString("en-US",{month:"short",day:"numeric"})),weekNumber:t,isPartialWeek:1!==r}}const r=new Date(n),i=r.getDay(),o=0===i?0:7-i,a=new Date(r);a.setDate(r.getDate()+o+1);const s=new Date(a);s.setDate(a.getDate()+7*(t-2));const l=new Date(s);return l.setDate(s.getDate()+6),{start:s.toLocaleDateString("en-US",{month:"short",day:"numeric"}),end:l.toLocaleDateString("en-US",{month:"short",day:"numeric"}),displayText:"".concat(s.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(l.toLocaleDateString("en-US",{month:"short",day:"numeric"})),weekNumber:t}}calculateCalendarDates(e,t,n){if(!e||!t||0===t.length)return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];const r=new Date(e),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=[];if(1===n){const e=new Date(r),n=e.getDay(),a=0===n?0:7-n;for(let r=0;r<=a;r++){const n=new Date(e);n.setDate(e.getDate()+r);const a=i[n.getDay()];o.push({dayName:a,date:n,dateString:n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),fullDate:n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),isAvailable:t.includes(a)})}return o}const a=new Date(r),s=a.getDay(),l=0===s?0:7-s,c=new Date(a);c.setDate(a.getDate()+l+1);const u=new Date(c);u.setDate(c.getDate()+7*(n-2));const d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let h=0;h<7;h++){const e=new Date(u);e.setDate(u.getDate()+h),o.push({dayName:d[h],date:e,dateString:e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),fullDate:e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),isAvailable:t.includes(d[h])})}return o}generateWeekWorkouts(e,t,n){const r=[],i=this.calculateCalendarDates(n.startDate,n.availableDays,e),o=this.getWorkoutPattern(n),a={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6};return i.forEach(t=>{const i=a[t.dayName];if("rest"!==o[i]&&t.isAvailable){const a=o[i];if(n.preferredBikeDays&&n.preferredBikeDays.includes(t.dayName)&&"Sunday"!==t.dayName&&n.standUpBikeType){const e=this.generateCycleteWorkout(a,n);r.push({day:t.dayName,date:t.dateString,fullDate:t.fullDate,actualDate:t.date,type:"bike",workout:e,focus:this.getCycleteWorkoutFocus(a),completed:!1,equipmentSpecific:!0,workoutDetails:e,coachingGuidance:this.getCycleteCoachingGuidance(a,n),runEqOptions:this.generateCycleteRunEqOptions(a,e,n)})}else{const i=this.selectWorkout(a,e,n);r.push({day:t.dayName,date:t.dateString,fullDate:t.fullDate,actualDate:t.date,type:a,workout:i,focus:this.getWorkoutFocus(a),completed:!1,equipmentSpecific:n.standUpBikeType&&this.shouldUseEquipment(a,n),workoutDetails:i,coachingGuidance:this.getWorkoutCoachingGuidance(a,n),runEqOptions:this.generateRunEqOptions(a,i,n)})}}else r.push({day:t.dayName,date:t.dateString,fullDate:t.fullDate,actualDate:t.date,type:"rest",workout:{name:t.isAvailable?"Rest Day":"Scheduled Rest",description:t.isAvailable?"Complete rest or light cross-training":"Rest day - not available for training"},focus:"Recovery",completed:!1})}),r}getWorkoutPattern(e){const{runsPerWeek:t,availableDays:n,preferredBikeDays:r=[],longRunDay:i}=e,o=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let a=o.map(()=>"rest"),s=[];if(t>=3&&(s=["tempo","intervals","longRun"]),t>=4&&s.push("easy"),t>=5){const t=this.getElevationSpecificWorkout(e.raceElevationProfile);s.push(t)}if(t>=6&&s.push("easy"),t>=7&&s.push("easy"),e.raceElevationProfile&&t>=4&&(s=this.adjustForElevationProfile(s,e.raceElevationProfile)),i&&n.includes(i)){const e=o.indexOf(i);a[e]="longRun",s=s.filter(e=>"longRun"!==e)}if(r.length>0){const e=r.filter(e=>n.includes(e)&&"rest"===a[o.indexOf(e)]);for(const t of e){const e=o.indexOf(t);if("rest"===a[e]&&s.length>0){const t=s[0];t&&(a[e]=t,s=s.filter(e=>e!==t))}}}const l=n.filter(e=>"rest"===a[o.indexOf(e)]).sort(()=>Math.random()-.5);for(let c=0;c<Math.min(l.length,s.length);c++){const e=o.indexOf(l[c]);a[e]=s[c]}return a}selectWorkout(e,t,n){switch(e){case"tempo":return this.tempoLibrary.getRandomWorkout("TRADITIONAL_TEMPO");case"intervals":return this.intervalLibrary.getRandomWorkout("VO2_MAX");case"hills":return this.hillLibrary.getRandomWorkout("short_power");case"longRun":return this.selectProgressiveLongRun(t,n);case"bike":return this.selectBikeWorkout(t,n);case"brick":return this.selectBrickWorkout(t,n);case"brickLongRun":return this.selectBrickLongRun(t,n);case"easy":return{name:"Easy Run",description:"Conversational pace, aerobic base building",duration:"30-45 minutes",intensity:"Easy"};default:return{name:"Recovery Run",description:"Very easy pace, active recovery",duration:"20-30 minutes",intensity:"Recovery"}}}selectBrickWorkout(e,t){var n;let r="aerobic";switch(this.getPhase(e,(null===(n=this.planTemplates[t.raceDistance])||void 0===n?void 0:n.weeks)||12)){case"Base":r=Math.random()<.7?"aerobic":"recovery";break;case"Build":r=Math.random()<.5?"tempo":"aerobic";break;case"Peak":r=Math.random()<.4?"speed":"tempo";break;case"Taper":r="recovery";break;default:r="aerobic"}return this.brickWorkoutService.generateBrickWorkout({type:r,equipment:t.standUpBikeType||"cyclete",difficulty:this.mapExperienceTodifficulty(t.experienceLevel)})}selectBrickLongRun(e,t){const n=this.calculateBaseDistance(e,t.raceDistance,t.experienceLevel),r=Math.round(.6*n),i=Math.round(.4*n*2.5);return{name:"Brick Long Run",description:"".concat(r," mile run + ").concat(i," mile ").concat(t.standUpBikeType||"bike"),duration:"".concat(Math.round(9*r)," minutes total"),intensity:"Easy-Moderate",segments:[{type:"run",distance:r,description:"Steady aerobic run"},{type:"transition",duration:"2-3 minutes",description:"Equipment change and setup"},{type:"bike",distance:i,description:"Moderate effort ".concat(t.standUpBikeType||"bike"," ride")}],safetyNotes:["Take your time with the transition","Keep both portions conversational","Stay hydrated throughout"],equipmentSpecific:!0}}calculateBaseDistance(e,t,n){let r=6;return"marathon"===t?r=Math.min(8+Math.floor(e/2),16):"halfMarathon"===t&&(r=Math.min(6+Math.floor(e/2),12)),"beginner"===n?r=Math.max(4,r-2):"elite"===n&&(r=Math.min(r+2,16)),r}mapExperienceTodifficulty(e){const t={beginner:"beginner",recreational:"intermediate",competitive:"advanced",elite:"advanced"};if(!t[e])throw new Error("Invalid experience level: ".concat(e,". Must be one of: ").concat(Object.keys(t).join(", ")));return t[e]}selectProgressiveLongRun(e,t){var n,r;const i=t.raceDistance,o=t.experienceLevel,a=(null===(n=this.planTemplates[i])||void 0===n?void 0:n.weeks)||12,s=this.getPhase(e,a),l=e%4===0&&e<a-2,c={"5K":{beginner:{min:3,max:6,peak:8},recreational:{min:4,max:8,peak:10},competitive:{min:5,max:10,peak:12},elite:{min:6,max:12,peak:15}},"10K":{beginner:{min:4,max:8,peak:10},recreational:{min:5,max:10,peak:12},competitive:{min:6,max:12,peak:15},elite:{min:7,max:15,peak:18}},Half:{beginner:{min:5,max:10,peak:13},recreational:{min:6,max:12,peak:15},competitive:{min:7,max:14,peak:16},elite:{min:8,max:16,peak:16}},Marathon:{beginner:{min:6,max:12,peak:16},recreational:{min:7,max:14,peak:16},competitive:{min:8,max:16,peak:16},elite:{min:10,max:16,peak:16}}},u=(null===(r=c[i])||void 0===r?void 0:r[o])||c.Marathon.recreational;let d;if(l)d=Math.max(u.min,Math.round(.7*this.getPreviousLongRunDistance(e,u)));else{const t=e/a;switch(s){case"Base":const n=u.min+(.75*u.peak-u.min)*(t/.4);d=Math.round(n);break;case"Build":const r=(t-.4)/.3;d=Math.round(.75*u.peak+(u.peak-.75*u.peak)*r);break;case"Peak":d=e%2===0?u.peak:Math.round(.85*u.peak);break;case"Taper":const i=(t-.9)/.1;d=Math.round(u.peak*(.6-.3*i));break;default:d=u.min+2}}return d=Math.max(u.min,Math.min(u.peak,d)),this.generateSpecificLongRun(d,s,e,t)}getPreviousLongRunDistance(e,t){if(e<=1)return t.min;const n=(e-1)/16;return t.min+(t.peak-t.min)*n*.8}generateSpecificLongRun(e,t,n,r){const i=this.getLongRunPaceGuidance(e,t),o=this.getLongRunCoaching(e,t,n);return{name:"".concat(e,"-Mile Long Run"),distance:"".concat(e," miles"),duration:"".concat(Math.round(8.5*e),"-").concat(Math.round(11*e)," minutes"),description:"".concat(e," mile long run - ").concat(i.effort),structure:"".concat(o.warmup," + ").concat(e," miles @ ").concat(i.pace," + ").concat(o.cooldown),intensity:"Easy to Moderate",paceGuidance:i,coachingNotes:o.notes,phase:t,weekNumber:n,benefits:this.getLongRunBenefits(e,t),fuelingGuidance:e>=10?"Practice race fueling every 45-60 minutes":"Water as needed",runEqOptions:this.generateLongRunRunEqOptions(e,r)}}getLongRunPaceGuidance(e,t){return e<=6?{pace:"Easy conversational pace",effort:"should feel comfortable throughout",heartRate:"Zone 1-2 (65-75% max HR)"}:e<=12?{pace:"Easy pace with optional faster finish",effort:"conversational for 80%, can build last 2-3 miles",heartRate:"Zone 1-2, building to Zone 3 if feeling strong"}:{pace:"Marathon pace practice in middle miles",effort:"easy start, marathon pace middle, easy finish",heartRate:"Zone 1-2 building to Zone 3 for middle segment"}}getLongRunCoaching(e,t,n){const r=e>=12;return{warmup:r?"10-15 min easy":"5-10 min easy",cooldown:"10 min easy + stretching",notes:["Week ".concat(n,": ").concat(e," miles is perfect for your current fitness level"),r?"This is a key workout - focus on steady effort and fueling practice":"Build your aerobic base with relaxed, comfortable running","Peak"===t&&e>=14?"Practice your race day routine - gear, fueling, pacing":"Stay relaxed and enjoy the longer effort",e>=16?"Smart 16-mile cap - gets all endurance benefits without the injury risk of 20+ mile runs":""].filter(Boolean)}}getLongRunBenefits(e,t){return e<=8?"Aerobic base building, fat adaptation, capillary development":e<=12?"Endurance building, mental toughness, glycogen storage improvement":"Race-specific endurance, fueling practice, confidence building"}generateLongRunRunEqOptions(e,t){const n=t.standUpBikeType,r=Math.round(2.2*e);return{optionA:{name:"Full Run",description:"Complete ".concat(e," mile run as planned"),approach:"Traditional long run approach"},optionB:{name:"Run/Bike Brick",description:n?"".concat(Math.round(.6*e)," mile run + ").concat(Math.round(.4*r)," miles ").concat(n):"".concat(Math.round(.6*e)," mile run + bike portion"),approach:"Build endurance while saving legs"},optionC:{name:"Alternating Segments",description:n?"Alternate running and ".concat(n," every 20-30 minutes"):"Alternate running and biking every 20-30 minutes",approach:"Maximum freshness with full training benefit"},optionD:{name:n?"Full ".concat(n):"Full Bike",description:n?"".concat(r," miles on ").concat(n):"".concat(r," miles biking"),approach:"Zero impact endurance - perfect for recovery or tired legs"}}}getPhase(e,t){const n=e/t;return n<=.4?"Base":n<=.7?"Build":n<=.9?"Peak":"Taper"}calculateWeeklyMileage(e,t,n){const r=4*n.runsPerWeek,i=1.5*r,o=e/t.weeks;return o<=.7?Math.round(r+o/.7*(i-r)):Math.round(i*(1-.5*(o-.7)))}getWorkoutFocus(e){return{tempo:"Lactate Threshold",intervals:"Speed & Power",hills:"Strength & Power",longRun:"Endurance",bike:"Equipment Training",brick:"RunEQ Brick Training",brickLongRun:"Brick Endurance",easy:"Recovery"}[e]||"Aerobic Base"}shouldUseEquipment(e,t){if(!t.standUpBikeType)return!1;if("bike"===e||"brick"===e||"brickLongRun"===e)return!0;return this.calculateRunEqPreference(t)>30&&("tempo"===e||"easy"===e)}calculateTrainingPaces(e){return{easy:"8:30-9:00 min/mile",tempo:"7:00-7:30 min/mile",intervals:"6:00-6:30 min/mile",recovery:"9:00-9:30 min/mile"}}generateCoachingNote(e,t,n){const r=this.getPhase(e,t.weeks),i=e/t.weeks,o=e%4===0&&e<t.weeks-2,a=n.standUpBikeType;if(1===e)return"Here we go - week 1 of your training journey! We're laying down the base and preparing you for what's to come. ".concat(a?"Since you have a ".concat(a,", we'll use it strategically to keep you fresh while building fitness."):""," Remember, it's pretty much impossible to follow any plan exactly - life gets in the way, and that's completely okay. This serves as your guide that you can build around your life.");if(o)return"This week is a recovery week where we see a reduction in overall training. This lets your body adapt and rebuild stronger. Listen to your body - these easier weeks are where the magic happens. You can achieve way more than you think, and this foundation week will set you up perfectly for what's ahead.";switch(r){case"Base":return e<=3?"We're building your aerobic foundation - think of this as constructing the base of your fitness pyramid. Your long runs at the weekend are so important for building the endurance you'll need. ".concat(a?"Your stand-up bike isn't just cross-training, it's performance training that counts just as much as pure running.":""," Focus on effort over pace right now."):"Your body is adapting beautifully to the training! You should be feeling stronger and more comfortable with the weekly rhythm. ".concat(a?"Those brick workouts are your secret weapon - your body gets more benefit from mixed training than pure running alone.":""," Keep building that strong foundation.");case"Build":return i<=.55?"Time to step things up! Your body is ready to handle more challenge. You'll notice some harder workouts creeping in - this is where we start sharpening that speed and power. There will be tough moments over the next few weeks, but many more highs as you get fitter and stronger.":"The biggest weeks are coming! Your fitness is really developing now. ".concat(e>=.6*t.weeks?"Time to start fueling during your long runs - around every 30-45 minutes is a good starting point.":""," Trust the process, you've got this.");case"Peak":return"These are the biggest weeks - trust the process, you've got this! Your body has been preparing for this volume. Remember to stay flexible with your schedule and listen to your body. Every workout doesn't have to be perfect - consistency over perfection wins every time.";case"Taper":return i>=.95?"Here we go - race week is here! Time to shine and show what you're made of. The hard work is done, now we trust in all that training. Stay relaxed, get good sleep, and remember - you're so much stronger than when you started this journey.":"The hard work is done! Now we're letting your body absorb all that training and get ready to perform. It might feel weird to do less, but this is how we peak properly. Your legs will feel fresh and fast by race day.";default:return"I'm here to help you on your journey to get where you want to be. Every week builds on the last, and you're making great progress even when it doesn't feel like it."}}getWeeklyFocus(e,t){const n=this.getPhase(e,t);if(e%4===0&&e<t-2)return"Recovery & Adaptation";switch(n){case"Base":return e<=2?"Foundation Building":"Aerobic Development";case"Build":return"Strength & Speed Development";case"Peak":return"Race Simulation & Peak Fitness";case"Taper":return e>=t-1?"Race Preparation":"Recovery & Sharpening";default:return"Balanced Training"}}getWeeklyMotivation(e,t){const n={Base:["Every mile is building your foundation \ud83d\udcaa","Consistency is your superpower right now \u26a1","Your future racing self will thank you for this base work \ud83d\ude4f","Strong foundations create breakthrough performances \ud83c\udfd7\ufe0f"],Build:["Time to discover what you're capable of! \ud83d\ude80","Challenge accepted - your body is ready for this \ud83d\udcaa","Every hard workout is making you stronger \ud83d\udcc8","You're building the fitness that will carry you to your goal \ud83c\udfaf"],Peak:["This is what all that base work was preparing you for! \u26f0\ufe0f","Your biggest weeks - embrace the challenge \ud83d\udcaa","Peak fitness is within reach - trust the process \ud83c\udfaf","You're stronger than you think you are \ud83d\udcaa"],Taper:["The hard work is done - time to sharpen up! \u2728","Your body is absorbing all that training magic \ud83e\ude84","Race day confidence is building with every easy step \ud83d\ude0a","You've earned this taper - enjoy feeling fresh! \ud83c\udf1f"]},r=n[this.getPhase(e,t)]||n.Base;return r[e%r.length]}getWorkoutCoachingGuidance(e,t){const n=t.standUpBikeType,r={tempo:{purpose:"This tempo workout builds your lactate threshold - the pace you can hold for about an hour.",encouragement:"Aim for 'comfortably hard' - you should be breathing rhythmically but able to speak in short sentences.",equipment:n?"Your ".concat(n," is perfect for tempo work - the smooth motion lets you focus on sustained effort without impact stress."):""},intervals:{purpose:"These intervals develop your VO2 max and speed - this is where we build your top-end power.",encouragement:"These will feel challenging, but that's exactly what makes you faster. Focus on form and smooth breathing.",equipment:n?"Short, intense efforts translate beautifully to your ".concat(n," - you'll maintain the same training effect with less impact."):""},hills:{purpose:"Hill training builds power, strength, and mental toughness - the complete package for better running.",encouragement:"Think 'power up, float down' - drive with your arms going up, then relax and let gravity help on the way down.",equipment:n?"Hill repeats on your ".concat(n," let you focus purely on power without worrying about footing or downhill impact."):""},longRun:{purpose:"Your long run builds the endurance foundation everything else sits on - this is your most important weekly workout.",encouragement:"Keep it conversational - you should be able to chat with a training partner throughout most of this run.",equipment:n?"Long efforts on your ".concat(n," give you the same endurance benefits while keeping your legs fresher for the week ahead."):""},brick:{purpose:"Brick workouts teach your body to transition between activities while maintaining effort - pure RunEQ magic.",encouragement:"The transitions might feel weird at first, but this is where you develop true fitness versatility. Take your time with equipment changes.",equipment:n?"This is what your ".concat(n," was made for - seamless run/bike combinations that no traditional plan can offer."):""},easy:{purpose:"Easy runs build your aerobic base and promote recovery - they're harder to pace correctly than they seem!",encouragement:"Truly easy - err on the side of too slow rather than too fast. This is active recovery that makes you stronger.",equipment:n?"Perfect recovery day for your ".concat(n," - get the blood flowing without the impact stress."):""}},i=r[e]||r.easy;return{purpose:i.purpose,encouragement:i.encouragement,equipmentNote:i.equipment}}generateRunEqOptions(e,t,n){const r=n.standUpBikeType,i={optionA:{name:"Full Run",description:"Complete the workout as a traditional run",approach:"Pure running - stick to the classic approach"},optionB:{name:"Run/Bike Brick",description:r?"Start running, switch to ".concat(r," mid-workout, finish running"):"Start running, switch to bike mid-workout, finish running",approach:"Best of both worlds - get variety while hitting your training zones"},optionC:{name:"Mixed Segments",description:r?"Alternate between running and ".concat(r," every 10-15 minutes"):"Alternate between running and biking every 10-15 minutes",approach:"Keep it fresh - your body adapts better to variety"},optionD:{name:r?"Full ".concat(r):"Full Bike",description:r?"Complete the entire workout on your ".concat(r):"Complete the entire workout on bike",approach:"Low impact, high benefit - perfect for recovery or when your legs need a break"}};return i.coachingNote="tempo"===e?"Today's workout gives you four ways to get it done - pick what works for your body and schedule.":"intervals"===e?"Want to switch things up? All four options deliver the same speed benefits - choose what feels right today.":"brick"===e?"This is pure RunEQ training - experiment with different transitions to find your rhythm.":"Feeling tired? Options B, C, or D give you the same training benefit while being kinder to your legs.",i}getAgeBasedGuidance(e){const t={beginner:{guidance:"Starting your running journey at any age is something to celebrate! Focus on consistency over intensity.",longRunCap:"Long runs should feel comfortable and conversational - quality over extreme distance."},recreational:{guidance:"Your experience gives you great body awareness - trust those instincts about when to push and when to back off.",longRunCap:"Smart long run approach - we cap at 16 miles to protect your joints while building the endurance you need."},competitive:{guidance:"Your competitive experience is a huge asset - you know the difference between discomfort and danger.",longRunCap:"At your level, we focus on quality over quantity - 16-mile long runs with smart pacing beats body-destroying 20+ mile slogs."},elite:{guidance:"Your advanced fitness allows for higher training loads, but smart recovery remains crucial.",longRunCap:"Elite-level training with RunEQ intelligence - even at your level, 16-mile caps with brick options provide superior training stimulus."}},n=t[e.experienceLevel]||t.recreational;return{message:n.guidance,longRunPhilosophy:n.longRunCap,recoveryFocus:"Recovery weeks are where the magic happens - your body adapts and gets stronger during these easier periods."}}generateFallbackPlan(e){return{planOverview:{raceDistance:e.raceDistance,totalWeeks:12,runsPerWeek:e.runsPerWeek,standUpBikeType:e.standUpBikeType,experienceLevel:e.experienceLevel},weeks:[],message:"Using simplified plan - full generator temporarily unavailable"}}selectBikeWorkout(e,t){var n;const r=this.getPhase(e,(null===(n=this.planTemplates[t.raceDistance])||void 0===n?void 0:n.weeks)||12),i=t.standUpBikeType||"bike";let o="Easy",a="45-60 minutes",s="Conversational pace ".concat(i," ride");switch(r){case"Base":o="Easy",a="45-75 minutes",s="Long aerobic ".concat(i," ride, building endurance");break;case"Build":o="Easy-Moderate",a="60-90 minutes",s="Steady ".concat(i," ride with some moderate efforts");break;case"Peak":o="Moderate",a="45-60 minutes",s="Race-pace ".concat(i," ride for sharpening")}return{name:"".concat("cyclete"===i?"Cyclete":"elliptigo"===i?"ElliptiGO":"Bike"," Long Ride"),description:s,duration:a,intensity:o,equipmentSpecific:!0,safetyNotes:["Focus on smooth ".concat("cyclete"===i?"teardrop motion":"elliptigo"===i?"elliptical motion":"pedaling technique"),"Maintain steady effort throughout","Stay hydrated and fuel as needed for longer sessions","Practice race-day equipment setup"],technique:"cyclete"===i?"Focus on forward drive phase of teardrop motion, maintain 70-85 RPM":"elliptigo"===i?"Use full stride extension with coordinated upper body movement":"Standard cycling technique"}}generateCycleteWorkout(e,t){var n;const r=t.standUpBikeType||"cyclete",i=(this.getPhase(1,(null===(n=this.planTemplates[t.raceDistance])||void 0===n?void 0:n.weeks)||12),{tempo:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO"," Tempo Ride"),description:"20-25 minutes @ comfortably hard sustained effort",duration:"45-50 minutes",intensity:"Medium-Hard",structure:"10min easy warmup + 20-25min @ tempo effort + 10min easy cooldown",focus:"Lactate Threshold",safetyNotes:["Maintain consistent cadence throughout tempo segment","Focus on smooth motion pattern","Keep core engaged for stability"]},intervals:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO"," Speed Intervals"),description:"6x3min @ hard effort (90sec easy recovery)",duration:"40-45 minutes",intensity:"Hard",structure:"10min easy warmup + 6x3min @ hard effort (90sec easy) + 10min easy cooldown",focus:"VO2 Max Development",safetyNotes:["Focus on power through the drive phase","Keep smooth motion even at high intensity","Recover fully between intervals"]},hills:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO"," Power Intervals"),description:"8x90sec @ high resistance/power (jog/coast recovery)",duration:"40-45 minutes",intensity:"Hard",structure:"10min easy warmup + 8x90sec @ high resistance (90sec easy) + 10min easy cooldown",focus:"Power Development",safetyNotes:["Increase resistance/incline for power work","Drive hard through full motion range","Focus on form over pure speed"]},longRun:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO"," Long Ride"),description:"60-90 minutes @ conversational effort",duration:"60-90 minutes",intensity:"Easy",structure:"60-90min @ steady conversational effort",focus:"Aerobic Endurance",safetyNotes:["Maintain conversational effort throughout","Practice nutrition timing for longer efforts","Focus on efficient motion pattern"]},easy:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO"," Recovery Ride"),description:"30-40 minutes @ very easy effort",duration:"30-40 minutes",intensity:"Very Easy",structure:"30-40min @ recovery effort",focus:"Active Recovery",safetyNotes:["Keep effort truly easy","Focus on smooth, relaxed motion","Perfect for recovery days"]},brick:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO","/Run Brick"),description:"20min bike + 15min run @ steady effort",duration:"45-50 minutes",intensity:"Medium",structure:"20min ".concat(r," @ steady + quick transition + 15min run @ steady"),focus:"Transition Training",safetyNotes:["Practice quick equipment transitions","Start run portion slightly easier","Focus on form during transition"]}}),o=i[e]||i.easy;return(0,Ce.A)((0,Ce.A)({},o),{},{type:"bike",equipmentSpecific:!0,equipment:r,technique:"cyclete"===r?"Focus on forward drive phase of teardrop motion, maintain 70-85 RPM":"Use full stride extension with coordinated upper body movement"})}getCycleteWorkoutFocus(e){return{tempo:"Lactate Threshold",intervals:"VO2 Max Development",hills:"Power Development",longRun:"Aerobic Endurance",easy:"Active Recovery",brick:"Transition Training"}[e]||"Aerobic Base"}getCycleteCoachingGuidance(e,t){const n=t.standUpBikeType||"cyclete",r={tempo:{purpose:"This tempo workout builds your lactate threshold using your ".concat(n," - same training benefit with less impact stress."),encouragement:"Focus on sustained effort and smooth motion. Your breathing should be rhythmic but controlled.",equipment:"The ".concat(n,"'s smooth motion is perfect for tempo work - you can maintain consistent effort without worrying about ground impact.")},intervals:{purpose:"These intervals develop your VO2 max and power on the ".concat(n," - high-intensity training with smart recovery."),encouragement:"Push hard during the work intervals, then truly recover. Focus on maintaining form even at high intensity.",equipment:"Your ".concat(n," lets you hit these intensities while protecting your legs for the rest of the week.")},hills:{purpose:"Power intervals on your ".concat(n," build strength and neuromuscular power - the same benefits as hill running without the downhill impact."),encouragement:"Drive hard through the power phase, focusing on full range of motion. This builds real running strength.",equipment:"Increase resistance or incline to simulate hill work - your ".concat(n," gives you perfect control over the training stimulus.")},longRun:{purpose:"This long ride builds the same endurance foundation as a long run while keeping your legs fresher for the week ahead.",encouragement:"Keep it conversational and enjoy the longer effort. This is building your aerobic engine.",equipment:"Long efforts on your ".concat(n," give you all the endurance benefits while reducing weekly impact load - smart training.")},easy:{purpose:"Easy recovery ride promotes blood flow and adaptation while giving your running muscles a break.",encouragement:"Keep this truly easy - it's active recovery that makes you stronger for tomorrow's workout.",equipment:"Perfect recovery day use of your ".concat(n," - get the movement benefits without impact stress.")},brick:{purpose:"Brick training teaches your body to transition between activities while maintaining effort - this is pure RunEQ methodology.",encouragement:"Take your time with transitions and expect the run to feel different at first. This builds real fitness versatility.",equipment:"This is what your ".concat(n," was designed for - seamless training combinations that traditional plans can't offer.")}},i=r[e]||r.easy;return{purpose:i.purpose,encouragement:i.encouragement,equipmentNote:i.equipment}}generateCycleteRunEqOptions(e,t,n){const r=n.standUpBikeType||"cyclete";return{optionA:{name:"Full ".concat("cyclete"===r?"Cyclete":"ElliptiGO"),description:"Complete the workout entirely on your ".concat(r),approach:"Pure equipment training - maximum impact reduction while maintaining training effect"},optionB:{name:"".concat("cyclete"===r?"Cyclete":"ElliptiGO","/Run Brick"),description:"Start on ".concat(r,", transition to running for final portion"),approach:"Best of both worlds - equipment benefits plus running specificity"},optionC:{name:"Mixed Segments",description:"Alternate between ".concat(r," and running every 10-15 minutes"),approach:"Maximum variety - keeps workout fresh and engaging"},optionD:{name:"Traditional Run",description:"Convert to equivalent running workout if preferred",approach:"Classic approach - pure running with traditional structure"},coachingNote:"Your ".concat(r," gives you training options that no traditional plan can offer - choose what feels right for your body today.")}}getElevationSpecificWorkout(e){switch(e){case"flat":case"moderate":default:return"intervals";case"rolling":case"hilly":return"hills"}}adjustForElevationProfile(e,t){const n=e.filter(e=>"intervals"===e).length,r=(e.filter(e=>"tempo"===e).length,e.filter(e=>"hills"===e).length),i=e.filter(e=>"easy"===e).length;switch(t){case"flat":if(r>0&&n<2&&i>0){const t=e.findIndex(e=>"hills"===e||"easy"===e);-1!==t&&(e[t]="intervals")}break;case"rolling":break;case"moderate":if(0===r&&i>0){const t=e.findIndex(e=>"easy"===e);-1!==t&&(e[t]="hills")}break;case"hilly":if(r<2&&i>0){const t=e.findIndex(e=>"easy"===e);-1!==t&&(e[t]="hills")}if(r<2&&e.filter(e=>"easy"===e).length>1){const t=e.findLastIndex(e=>"easy"===e);-1!==t&&(e[t]="hills")}}return e}};function Oy(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Oy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jy(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Oy(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const Ly=6048e5,Fy=6e4,By=36e5,Wy=Symbol.for("constructDateFrom");function Uy(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Wy in e?e[Wy](t):e instanceof Date?new e.constructor(t):new Date(t)}function zy(e,t){return Uy(t||e,e)}function qy(e,t){var n;const r=()=>Uy(null===t||void 0===t?void 0:t.in,NaN),i=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,o=function(e){const t={},n=e.split(Vy.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Vy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Vy.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=Vy.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,i);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Hy);if(!n)return new Date(NaN);const r=!!n[4],i=Gy(n[1]),o=Gy(n[2])-1,a=Gy(n[3]),s=Gy(n[4]),l=Gy(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,s,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Xy[t]||($y(e)?29:28))}(t,o,a)&&function(e,t){return t>=1&&t<=($y(e)?366:365)}(t,i)?(e.setUTCFullYear(t,o,Math.max(i,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return r();const s=+a;let l,c=0;if(o.time&&(c=function(e){const t=e.match(Ky);if(!t)return NaN;const n=Qy(t[1]),r=Qy(t[2]),i=Qy(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*By+r*Fy+1e3*i}(o.time),isNaN(c)))return r();if(!o.timezone){const e=new Date(s+c),n=zy(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(Yy);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*By+i*Fy)}(o.timezone),isNaN(l)?r():zy(s+c+l,null===t||void 0===t?void 0:t.in)}const Vy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hy=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ky=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gy(e){return e?parseInt(e):1}function Qy(e){return e&&parseFloat(e.replace(",","."))||0}const Xy=[31,null,31,30,31,30,31,31,30,31,30,31];function $y(e){return e%400===0||e%4===0&&e%100!==0}const Jy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Zy(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ev={date:Zy({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Zy({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Zy({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function nv(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const rv={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:nv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:nv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:nv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:nv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:nv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function iv(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,e=>e.test(a)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,e=>e.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}const ov={ordinalNumber:(av={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(av.matchPattern);if(!n)return null;const r=n[0],i=e.match(av.parsePattern);if(!i)return null;let o=av.valueCallback?av.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:iv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:iv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:iv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:iv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:iv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var av;const sv={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Jy[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:ev,formatRelative:(e,t,n,r)=>tv[e],localize:rv,match:ov,options:{weekStartsOn:0,firstWeekContainsDate:1}},lv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},cv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},uv={p:cv,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lv(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",lv(r,t)).replace("{{time}}",cv(i,t))}},dv=/^D+$/,hv=/^Y+$/,pv=["D","DD","YY","YYYY"];function fv(e){return dv.test(e)}function mv(e){return hv.test(e)}function gv(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),pv.includes(e))throw new RangeError(r)}let yv={};function vv(){return yv}function bv(){return Object.assign({},vv())}var wv=n(705);function kv(e,t){const n=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):Uy(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class xv{constructor(){(0,wv.A)(this,"subPriority",0)}validate(e,t){return!0}}class Sv extends xv{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Ev extends xv{constructor(e,t){super(),(0,wv.A)(this,"priority",10),(0,wv.A)(this,"subPriority",-1),this.context=e||(e=>Uy(t,e))}set(e,t){return t.timestampIsSet?e:Uy(e,kv(e,this.context))}}class Tv{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new Sv(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const Cv=/^(1[0-2]|0?\d)/,Dv=/^(3[0-1]|[0-2]?\d)/,_v=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Rv=/^(5[0-3]|[0-4]?\d)/,Iv=/^(2[0-3]|[0-1]?\d)/,Pv=/^(2[0-4]|[0-1]?\d)/,Av=/^(1[0-1]|0?\d)/,Nv=/^(1[0-2]|0?\d)/,Mv=/^[0-5]?\d/,Ov=/^[0-5]?\d/,jv=/^\d/,Lv=/^\d{1,2}/,Fv=/^\d{1,3}/,Bv=/^\d{1,4}/,Wv=/^-?\d+/,Uv=/^-?\d/,zv=/^-?\d{1,2}/,qv=/^-?\d{1,3}/,Vv=/^-?\d{1,4}/,Hv=/^([+-])(\d{2})(\d{2})?|Z/,Kv=/^([+-])(\d{2})(\d{2})|Z/,Yv=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Gv=/^([+-])(\d{2}):(\d{2})|Z/,Qv=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Xv(e,t){return e?{value:t(e.value),rest:e.rest}:e}function $v(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Jv(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*By+o*Fy+1e3*a),rest:t.slice(n[0].length)}}function Zv(e){return $v(Wv,e)}function eb(e,t){switch(e){case 1:return $v(jv,t);case 2:return $v(Lv,t);case 3:return $v(Fv,t);case 4:return $v(Bv,t);default:return $v(new RegExp("^\\d{1,"+e+"}"),t)}}function tb(e,t){switch(e){case 1:return $v(Uv,t);case 2:return $v(zv,t);case 3:return $v(qv,t);case 4:return $v(Vv,t);default:return $v(new RegExp("^-?\\d{1,"+e+"}"),t)}}function nb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rb(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function ib(e){return e%400===0||e%4===0&&e%100!==0}function ob(e,t){var n,r,i,o,a,s;const l=vv(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,u=zy(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function ab(e,t){var n,r,i,o,a,s;const l=zy(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=vv(),d=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,h=Uy((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const p=ob(h,t),f=Uy((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(c,0,d),f.setHours(0,0,0,0);const m=ob(f,t);return+l>=+p?c+1:+l>=+m?c:c-1}function sb(e,t){return ob(e,(0,Ce.A)((0,Ce.A)({},t),{},{weekStartsOn:1}))}function lb(e,t){var n,r,i,o,a,s;const l=vv(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,u=ab(e,t),d=Uy((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return ob(d,t)}function cb(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=+ob(n,t)-+lb(n,t);return Math.round(r/Ly)+1}function ub(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in),i=cb(r,n)-t;return r.setDate(r.getDate()-7*i),zy(r,null===n||void 0===n?void 0:n.in)}function db(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=Uy(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=sb(i),a=Uy(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=sb(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function hb(e,t){const n=db(e,t),r=Uy((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),sb(r)}function pb(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=+sb(n)-+hb(n);return Math.round(r/Ly)+1}function fb(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in),i=pb(r,n)-t;return r.setDate(r.getDate()-7*i),r}const mb=[31,28,31,30,31,30,31,31,30,31,30,31],gb=[31,29,31,30,31,30,31,31,30,31,30,31];function yb(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?Uy((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function vb(e,t,n){var r,i,o,a,s,l;const c=vv(),u=null!==(r=null!==(i=null!==(o=null!==(a=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==a?a:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,d=zy(e,null===n||void 0===n?void 0:n.in),h=d.getDay(),p=7-u;return yb(d,t<0||t>6?t-(h+p)%7:((t%7+7)%7+p)%7-(h+p)%7,n)}function bb(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in).getDay();return 0===n?7:n}function wb(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return yb(r,t-bb(r,n),n)}function kb(e){const t=zy(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const xb={G:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",140),(0,wv.A)(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",130),(0,wv.A)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Xv(eb(4,e),r);case"yo":return Xv(n.ordinalNumber(e,{unit:"year"}),r);default:return Xv(eb(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=rb(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",130),(0,wv.A)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Xv(eb(4,e),r);case"Yo":return Xv(n.ordinalNumber(e,{unit:"year"}),r);default:return Xv(eb(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=ab(e,r);if(n.isTwoDigitYear){const t=rb(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),ob(e,r)}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),ob(e,r)}},R:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",130),(0,wv.A)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return tb("R"===t?4:t.length,e)}set(e,t,n){const r=Uy(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),sb(r)}},u:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",130),(0,wv.A)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return tb("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",120),(0,wv.A)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return eb(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",120),(0,wv.A)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return eb(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,wv.A)(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Xv($v(Cv,e),r);case"MM":return Xv(eb(2,e),r);case"Mo":return Xv(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",110),(0,wv.A)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Xv($v(Cv,e),r);case"LL":return Xv(eb(2,e),r);case"Lo":return Xv(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",100),(0,wv.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return $v(Rv,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return eb(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return ob(ub(e,n,r),r)}},I:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",100),(0,wv.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return $v(Rv,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return eb(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return sb(fb(e,n))}},d:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"subPriority",1),(0,wv.A)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return $v(Dv,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return eb(t.length,e)}}validate(e,t){const n=ib(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=gb[r]:t>=1&&t<=mb[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"subpriority",1),(0,wv.A)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return $v(_v,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return eb(t.length,e)}}validate(e,t){return ib(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=vb(e,n,r)).setHours(0,0,0,0),e}},e:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Xv(eb(t.length,e),i);case"eo":return Xv(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=vb(e,n,r)).setHours(0,0,0,0),e}},c:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Xv(eb(t.length,e),i);case"co":return Xv(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=vb(e,n,r)).setHours(0,0,0,0),e}},i:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",90),(0,wv.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return eb(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Xv(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Xv(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Xv(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Xv(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=wb(e,n)).setHours(0,0,0,0),e}},a:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",80),(0,wv.A)(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nb(n),0,0,0),e}},b:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",80),(0,wv.A)(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nb(n),0,0,0),e}},B:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",80),(0,wv.A)(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nb(n),0,0,0),e}},h:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",70),(0,wv.A)(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return $v(Nv,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return eb(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",70),(0,wv.A)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return $v(Iv,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return eb(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",70),(0,wv.A)(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return $v(Av,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return eb(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",70),(0,wv.A)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return $v(Pv,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return eb(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",60),(0,wv.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return $v(Mv,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return eb(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",50),(0,wv.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return $v(Ov,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return eb(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",30),(0,wv.A)(this,"incompatibleTokens",["t","T"])}parse(e,t){return Xv(eb(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",10),(0,wv.A)(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Jv(Hv,e);case"XX":return Jv(Kv,e);case"XXXX":return Jv(Yv,e);case"XXXXX":return Jv(Qv,e);default:return Jv(Gv,e)}}set(e,t,n){return t.timestampIsSet?e:Uy(e,e.getTime()-kb(e)-n)}},x:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",10),(0,wv.A)(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Jv(Hv,e);case"xx":return Jv(Kv,e);case"xxxx":return Jv(Yv,e);case"xxxxx":return Jv(Qv,e);default:return Jv(Gv,e)}}set(e,t,n){return t.timestampIsSet?e:Uy(e,e.getTime()-kb(e)-n)}},t:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",40),(0,wv.A)(this,"incompatibleTokens","*")}parse(e){return Zv(e)}set(e,t,n){return[Uy(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends Tv{constructor(){super(...arguments),(0,wv.A)(this,"priority",20),(0,wv.A)(this,"incompatibleTokens","*")}parse(e){return Zv(e)}set(e,t,n){return[Uy(e,n),{timestampIsSet:!0}]}}},Sb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tb=/^'([^]*?)'?$/,Cb=/''/g,Db=/\S/,_b=/[a-zA-Z]/;function Rb(e,t,n,r){var i,o,a,s,l,c,u,d,h,p,f,m,g,y;const v=()=>Uy((null===r||void 0===r?void 0:r.in)||n,NaN),b=bv(),w=null!==(i=null!==(o=null===r||void 0===r?void 0:r.locale)&&void 0!==o?o:b.locale)&&void 0!==i?i:sv,k=null!==(a=null!==(s=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:b.firstWeekContainsDate)&&void 0!==s?s:null===(d=b.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:1,x=null!==(h=null!==(p=null!==(f=null!==(m=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==m?m:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==f?f:b.weekStartsOn)&&void 0!==p?p:null===(y=b.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==h?h:0;if(!t)return e?v():zy(n,null===r||void 0===r?void 0:r.in);const S={firstWeekContainsDate:k,weekStartsOn:x,locale:w},E=[new Ev(null===r||void 0===r?void 0:r.in,n)],T=t.match(Eb).map(e=>{const t=e[0];if(t in uv){return(0,uv[t])(e,w.formatLong)}return e}).join("").match(Sb),C=[];for(let I of T){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!mv(I)||gv(I,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!fv(I)||gv(I,t,e);const n=I[0],i=xb[n];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=C.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(I,"` at the same time"))}else if("*"===i.incompatibleTokens&&C.length>0)throw new RangeError("The format string mustn't contain `".concat(I,"` and any other token at the same time"));C.push({token:n,fullToken:I});const r=i.run(e,I,w.match,S);if(!r)return v();E.push(r.setter),e=r.rest}else{if(n.match(_b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===I?I="'":"'"===n&&(I=Ib(I)),0!==e.indexOf(I))return v();e=e.slice(I.length)}}if(e.length>0&&Db.test(e))return v();const D=E.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>E.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let _=zy(n,null===r||void 0===r?void 0:r.in);if(isNaN(+_))return v();const R={};for(const I of D){if(!I.validate(_,S))return v();const e=I.set(_,R,S);Array.isArray(e)?(_=e[0],Object.assign(R,e[1])):_=e}return _}function Ib(e){return e.match(Tb)[1].replace(Cb,"'")}function Pb(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Ab(e){return!(!Pb(e)&&"number"!==typeof e||isNaN(+zy(e)))}function Nb(e,t){return+zy(e)<+zy(t)}function Mb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Uy.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}function Ob(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function jb(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t),o=Ob(r),a=Ob(i),s=+o-kb(o),l=+a-kb(a);return Math.round((s-l)/864e5)}function Lb(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Fb(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return jb(n,Lb(n))+1}function Bb(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Wb={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Bb("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Bb(n+1,2)},d:(e,t)=>Bb(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Bb(e.getHours()%12||12,t.length),H:(e,t)=>Bb(e.getHours(),t.length),m:(e,t)=>Bb(e.getMinutes(),t.length),s:(e,t)=>Bb(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Bb(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Ub="midnight",zb="noon",qb="morning",Vb="afternoon",Hb="evening",Kb="night",Yb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Wb.y(e,t)},Y:function(e,t,n,r){const i=ab(e,r),o=i>0?i:1-i;if("YY"===t){return Bb(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Bb(o,t.length)},R:function(e,t){return Bb(db(e),t.length)},u:function(e,t){return Bb(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Bb(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Bb(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Wb.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Bb(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=cb(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Bb(i,t.length)},I:function(e,t,n){const r=pb(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Bb(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Wb.d(e,t)},D:function(e,t,n){const r=Fb(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Bb(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Bb(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Bb(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Bb(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?zb:0===r?Ub:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?Hb:r>=12?Vb:r>=4?qb:Kb,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Wb.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wb.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Bb(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Bb(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wb.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wb.s(e,t)},S:function(e,t){return Wb.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Qb(r);case"XXXX":case"XX":return Xb(r);default:return Xb(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Qb(r);case"xxxx":case"xx":return Xb(r);default:return Xb(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gb(r,":");default:return"GMT"+Xb(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gb(r,":");default:return"GMT"+Xb(r,":")}},t:function(e,t,n){return Bb(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Bb(+e,t.length)}};function Gb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+Bb(o,2)}function Qb(e,t){if(e%60===0){return(e>0?"-":"+")+Bb(Math.abs(e)/60,2)}return Xb(e,t)}function Xb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Bb(Math.trunc(r/60),2)+t+Bb(r%60,2)}const $b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zb=/^'([^]*?)'?$/,ew=/''/g,tw=/[a-zA-Z]/;function nw(e,t,n){var r,i,o,a,s,l,c,u,d,h,p,f,m,g;const y=vv(),v=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:y.locale)&&void 0!==r?r:sv,b=null!==(o=null!==(a=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:y.firstWeekContainsDate)&&void 0!==a?a:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,w=null!==(d=null!==(h=null!==(p=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==p?p:y.weekStartsOn)&&void 0!==h?h:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,k=zy(e,null===n||void 0===n?void 0:n.in);if(!Ab(k))throw new RangeError("Invalid time value");let x=t.match(Jb).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,uv[t])(e,v.formatLong)}return e}).join("").match($b).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:rw(e)};if(Yb[t])return{isToken:!0,value:e};if(t.match(tw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});v.localize.preprocessor&&(x=v.localize.preprocessor(k,x));const S={firstWeekContainsDate:b,weekStartsOn:w,locale:v};return x.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!mv(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!fv(i))||gv(i,t,String(e));return(0,Yb[i[0]])(k,i,v.localize,S)}).join("")}function rw(e){const t=e.match(Zb);return t?t[1].replace(ew,"'"):e}function iw(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return r.setHours(t),r}function ow(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return r.setMinutes(t),r}function aw(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return r.setSeconds(t),r}function sw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function lw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function cw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return n.setHours(23,59,59,999),n}function uw(e,t){var n,r,i,o,a,s;const l=vv(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,u=zy(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function dw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function hw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function pw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function fw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return+lw(r)===+lw(i)}function mw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return+Ob(r)===+Ob(i)}function gw(e,t){return+zy(e)===+zy(t)}function yw(e,t,n){const r=+zy(e,null===n||void 0===n?void 0:n.in),[i,o]=[+zy(t.start,null===n||void 0===n?void 0:n.in),+zy(t.end,null===n||void 0===n?void 0:n.in)].sort((e,t)=>e-t);return r>=i&&r<=o}function vw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),o=Uy(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function bw(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in),i=r.getFullYear(),o=r.getDate(),a=Uy((null===n||void 0===n?void 0:n.in)||e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const s=vw(a);return r.setMonth(t,Math.min(o,s)),r}function ww(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in),i=t-(Math.trunc(r.getMonth()/3)+1);return bw(r,r.getMonth()+3*i)}function kw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getFullYear()}function xw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getMonth()}function Sw(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Ew(e,t){const n=zy(e,null===t||void 0===t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Tw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getHours()}function Cw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getMinutes()}function Dw(e){return zy(e).getSeconds()}function _w(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return Uy((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),o=Uy((null===n||void 0===n?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);return i>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function Rw(e,t,n){return _w(e,-t,n)}function Iw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function Pw(e,t,n){return _w(e,3*t,n)}function Aw(e,t,n){return Pw(e,-t,n)}function Nw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return 4*(r.getFullYear()-i.getFullYear())+(Ew(r)-Ew(i))}function Mw(e,t,n){return _w(e,12*t,n)}function Ow(e,t,n){return Mw(e,-t,n)}function jw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function Lw(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=Uy.bind(null,e));const t=zy(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),Uy(r,n||NaN)}function Fw(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=Uy.bind(null,e));const t=zy(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),Uy(r,n||NaN)}function Bw(e,t,n){return Uy((null===n||void 0===n?void 0:n.in)||e,+zy(e)+t)}function Ww(e,t,n){return Bw(e,t*By,n)}function Uw(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return r.setTime(r.getTime()+t*Fy),r}function zw(e,t,n){return Bw(e,1e3*t,n)}function qw(e,t){return+zy(e)>+zy(t)}function Vw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getDay()}function Hw(e,t){return zy(e,null===t||void 0===t?void 0:t.in).getDate()}function Kw(e,t,n){return yb(e,7*t,n)}function Yw(e){return+zy(e)}function Gw(e,t,n){const r=zy(e,null===n||void 0===n?void 0:n.in);return isNaN(+r)?Uy((null===n||void 0===n?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function Qw(e,t,n){const[r,i]=Mb(null===n||void 0===n?void 0:n.in,e,t),o=Xw(r,i),a=Math.abs(jb(r,i));r.setDate(r.getDate()-o*a);const s=o*(a-Number(Xw(r,i)===-o));return 0===s?0:s}function Xw(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function $w(e,t,n){return Kw(e,-t,n)}function Jw(e,t,n){return yb(e,-t,n)}var Zw="undefined"!==typeof document?i.useLayoutEffect:function(){};const ek=(0,Ce.A)({},o).useInsertionEffect||(e=>e());function tk(){return"undefined"!==typeof window}function nk(e){return ok(e)?(e.nodeName||"").toLowerCase():"#document"}function rk(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ik(e){var t;return null==(t=(ok(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ok(e){return!!tk()&&(e instanceof Node||e instanceof rk(e).Node)}function ak(e){return!!tk()&&(e instanceof Element||e instanceof rk(e).Element)}function sk(e){return!!tk()&&(e instanceof HTMLElement||e instanceof rk(e).HTMLElement)}function lk(e){return!(!tk()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof rk(e).ShadowRoot)}const ck=new Set(["inline","contents"]);function uk(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xk(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ck.has(i)}const dk=new Set(["table","td","th"]);function hk(e){return dk.has(nk(e))}const pk=[":popover-open",":modal"];function fk(e){return pk.some(t=>{try{return e.matches(t)}catch($s){return!1}})}const mk=["transform","translate","scale","rotate","perspective"],gk=["transform","translate","scale","rotate","perspective","filter"],yk=["paint","layout","strict","content"];function vk(e){const t=bk(),n=ak(e)?xk(e):e;return mk.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||gk.some(e=>(n.willChange||"").includes(e))||yk.some(e=>(n.contain||"").includes(e))}function bk(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const wk=new Set(["html","body","#document"]);function kk(e){return wk.has(nk(e))}function xk(e){return rk(e).getComputedStyle(e)}function Sk(e){return ak(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ek(e){if("html"===nk(e))return e;const t=e.assignedSlot||e.parentNode||lk(e)&&e.host||ik(e);return lk(t)?t.host:t}function Tk(e){const t=Ek(e);return kk(t)?e.ownerDocument?e.ownerDocument.body:e.body:sk(t)&&uk(t)?t:Tk(t)}function Ck(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Tk(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=rk(i);if(o){const e=Dk(a);return t.concat(a,a.visualViewport||[],uk(i)?i:[],e&&n?Ck(e):[])}return t.concat(i,Ck(i,[],n))}function Dk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const _k=Math.min,Rk=Math.max,Ik=Math.round,Pk=Math.floor,Ak=e=>({x:e,y:e}),Nk={left:"right",right:"left",bottom:"top",top:"bottom"},Mk={start:"end",end:"start"};function Ok(e,t){return"function"===typeof e?e(t):e}function jk(e){return e.split("-")[0]}function Lk(e){return e.split("-")[1]}function Fk(e){return"y"===e?"height":"width"}const Bk=new Set(["top","bottom"]);function Wk(e){return Bk.has(jk(e))?"y":"x"}function Uk(e){return"x"===Wk(e)?"y":"x"}function zk(e){return e.replace(/start|end/g,e=>Mk[e])}const qk=["left","right"],Vk=["right","left"],Hk=["top","bottom"],Kk=["bottom","top"];function Yk(e,t,n,r){const i=Lk(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Vk:qk:t?qk:Vk;case"left":case"right":return t?Hk:Kk;default:return[]}}(jk(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(zk)))),o}function Gk(e){return e.replace(/left|right|bottom|top/g,e=>Nk[e])}function Qk(e){return"number"!==typeof e?function(e){return(0,Ce.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Xk(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const $k=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"];function Jk(e,t,n){let{reference:r,floating:i}=e;const o=Wk(t),a=Uk(t),s=Fk(a),l=jk(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Lk(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function Zk(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Ok(t,e),f=Qk(p),m=s[h?"floating"===d?"reference":"floating":d],g=Xk(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},w=Xk(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+f.top)/b.y,bottom:(w.bottom-g.bottom+f.bottom)/b.y,left:(g.left-w.left+f.left)/b.x,right:(w.right-g.right+f.right)/b.x}}const ex=new Set(["left","top"]);function tx(e){const t=xk(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=sk(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Ik(n)!==o||Ik(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function nx(e){return ak(e)?e:e.contextElement}function rx(e){const t=nx(e);if(!sk(t))return Ak(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=tx(t);let a=(o?Ik(n.width):n.width)/r,s=(o?Ik(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const ix=Ak(0);function ox(e){const t=rk(e);return bk()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ix}function ax(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=nx(e);let a=Ak(1);t&&(r?ak(r)&&(a=rx(r)):a=rx(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==rk(e))&&t}(o,n,r)?ox(o):Ak(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const e=rk(o),t=r&&ak(r)?rk(r):r;let n=e,i=Dk(n);for(;i&&r&&t!==n;){const e=rx(i),t=i.getBoundingClientRect(),r=xk(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=a,n=rk(i),i=Dk(n)}}return Xk({width:u,height:d,x:l,y:c})}function sx(e,t){const n=Sk(e).scrollLeft;return t?t.left+n:ax(ik(e)).left+n}function lx(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-sx(e,n),y:n.top+t.scrollTop}}const cx=new Set(["absolute","fixed"]);function ux(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=rk(e),r=ik(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=bk();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const c=sx(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-i);a<=25&&(o-=a)}else c<=25&&(o+=c);return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=ik(e),n=Sk(e),r=e.ownerDocument.body,i=Rk(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Rk(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+sx(e);const s=-n.scrollTop;return"rtl"===xk(r).direction&&(a+=Rk(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(ik(e));else if(ak(t))r=function(e,t){const n=ax(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=sk(e)?rx(e):Ak(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=ox(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Xk(r)}function dx(e,t){const n=Ek(e);return!(n===t||!ak(n)||kk(n))&&("fixed"===xk(n).position||dx(n,t))}function hx(e,t,n){const r=sk(t),i=ik(t),o="fixed"===n,a=ax(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ak(0);function c(){l.x=sx(i)}if(r||!r&&!o)if(("body"!==nk(t)||uk(i))&&(s=Sk(t)),r){const e=ax(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?Ak(0):lx(i,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function px(e){return"static"===xk(e).position}function fx(e,t){if(!sk(e)||"fixed"===xk(e).position)return null;if(t)return t(e);let n=e.offsetParent;return ik(e)===n&&(n=n.ownerDocument.body),n}function mx(e,t){const n=rk(e);if(fk(e))return n;if(!sk(e)){let t=Ek(e);for(;t&&!kk(t);){if(ak(t)&&!px(t))return t;t=Ek(t)}return n}let r=fx(e,t);for(;r&&hk(r)&&px(r);)r=fx(r,t);return r&&kk(r)&&px(r)&&!vk(r)?n:r||function(e){let t=Ek(e);for(;sk(t)&&!kk(t);){if(vk(t))return t;if(fk(t))return null;t=Ek(t)}return null}(e)||n}const gx={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,a=ik(r),s=!!t&&fk(t.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ak(1);const u=Ak(0),d=sk(r);if((d||!d&&!o)&&(("body"!==nk(r)||uk(a))&&(l=Sk(r)),sk(r))){const e=ax(r);c=rx(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!a||d||o?Ak(0):lx(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ik,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?fk(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Ck(e,[],!1).filter(e=>ak(e)&&"body"!==nk(e)),i=null;const o="fixed"===xk(e).position;let a=o?Ek(e):e;for(;ak(a)&&!kk(a);){const t=xk(a),n=vk(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&cx.has(i.position)||uk(a)&&!n&&dx(e,a))?r=r.filter(e=>e!==a):i=t,a=Ek(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=o[0],s=o.reduce((e,n)=>{const r=ux(t,n,i);return e.top=Rk(r.top,e.top),e.right=_k(r.right,e.right),e.bottom=_k(r.bottom,e.bottom),e.left=Rk(r.left,e.left),e},ux(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:mx,getElementRects:async function(e){const t=this.getOffsetParent||mx,n=this.getDimensions,r=await n(e.floating);return{reference:hx(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=tx(e);return{width:t,height:n}},getScale:rx,isElement:ak,isRTL:function(e){return"rtl"===xk(e).direction}};function yx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vx(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=nx(e),u=i||o?[...c?Ck(c):[],...Ck(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,r=null;const i=ik(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(s||t(),!h||!p)return;const f={rootMargin:-Pk(d)+"px "+-Pk(i.clientWidth-(u+h))+"px "+-Pk(i.clientHeight-(d+p))+"px "+-Pk(u)+"px",threshold:Rk(0,_k(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||yx(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,(0,Ce.A)((0,Ce.A)({},f),{},{root:i.ownerDocument}))}catch($s){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(c,n):null;let h,p=-1,f=null;a&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m=l?ax(e):null;return l&&function t(){const r=ax(e);m&&!yx(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const bx=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=jk(n),s=Lk(n),l="y"===Wk(n),c=ex.has(a)?-1:1,u=o&&l?-1:1,d=Ok(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:(0,Ce.A)((0,Ce.A)({},l),{},{placement:a})}}}},wx=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,u=Ok(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0}=u,y=Te(u,$k);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=jk(i),b=Wk(s),w=jk(s)===s,k=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=p||(w||!g?[Gk(s)]:function(e){const t=Gk(e);return[zk(e),t,zk(t)]}(s)),S="none"!==m;!p&&S&&x.push(...Yk(s,g,m,k));const E=[s,...x],T=await Zk(t,y),C=[];let D=(null==(r=o.flip)?void 0:r.overflows)||[];if(d&&C.push(T[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=Lk(e),i=Uk(e),o=Fk(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Gk(a)),[a,Gk(a)]}(i,a,k);C.push(T[e[0]],T[e[1]])}if(D=[...D,{placement:i,overflows:C}],!C.every(e=>e<=0)){var _,R;const e=((null==(_=o.flip)?void 0:_.index)||0)+1,t=E[e];if(t){if(!("alignment"===h&&b!==Wk(t))||D.every(e=>Wk(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:D},reset:{placement:t}}}let n=null==(R=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:R.placement;if(!n)switch(f){case"bestFit":{var I;const e=null==(I=D.filter(e=>{if(S){const t=Wk(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},kx=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Ok(e,t)||{};if(null==c)return{};const d=Qk(u),h={x:n,y:r},p=Uk(i),f=Fk(p),m=await a.getDimensions(c),g="y"===p,y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=o.reference[f]+o.reference[p]-h[p]-o.floating[f],k=h[p]-o.reference[p],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let S=x?x[b]:0;S&&await(null==a.isElement?void 0:a.isElement(x))||(S=s.floating[b]||o.floating[f]);const E=w/2-k/2,T=S/2-m[f]/2-1,C=_k(d[y],T),D=_k(d[v],T),_=C,R=S-m[f]-D,I=S/2-m[f]/2+E,P=Rk(_,_k(I,R));const A=!l.arrow&&null!=Lk(i)&&I!==P&&o.reference[f]/2-(I<_?C:D)-m[f]/2<0,N=A?I<_?I-_:I-R:0;return{[p]:h[p]+N,data:(0,Ce.A)({[p]:P,centerOffset:I-P-N},A&&{alignmentOffset:N}),reset:A}}}),xx=(e,t,n)=>{const r=new Map,i=(0,Ce.A)({platform:gx},n),o=(0,Ce.A)((0,Ce.A)({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Jk(c,r,l),h=r,p={},f=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:y,data:v,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p=(0,Ce.A)((0,Ce.A)({},p),{},{[n]:(0,Ce.A)((0,Ce.A)({},p[n]),v)}),b&&f<=50&&(f++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=Jk(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}})(e,t,(0,Ce.A)((0,Ce.A)({},i),{},{platform:o}))};var Sx="undefined"!==typeof document?i.useLayoutEffect:function(){};function Ex(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Ex(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Ex(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Tx(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cx(e,t){const n=Tx(e);return Math.round(t*n)/n}function Dx(e){const t=i.useRef(e);return Sx(()=>{t.current=e}),t}const _x=(e,t)=>(0,Ce.A)((0,Ce.A)({},bx(e)),{},{options:[e,t]}),Rx=(e,t)=>(0,Ce.A)((0,Ce.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?kx({element:n.current,padding:r}).fn(t):{}:n?kx({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),Ix=["transform"],Px=["context","width","height","tipRadius","strokeWidth","staticOffset","stroke","d","style"];const Ax="ArrowLeft",Nx="ArrowRight",Mx="ArrowUp",Ox="ArrowDown";const jx=[Ax,Nx],Lx=[Mx,Ox],Fx=(0,Ce.A)({},o);let Bx=!1,Wx=0;const Ux=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Wx++;const zx=Fx.useId||function(){const[e,t]=i.useState(()=>Bx?Ux():void 0);return Zw(()=>{null==e&&t(Ux())},[]),i.useEffect(()=>{Bx=!0},[]),e};const qx=i.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:o,shift:a}},width:s=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:f}={}}=e,m=Te(e.style,Ix),g=Te(e,Px);const y=zx(),[v,b]=i.useState(!1);if(Zw(()=>{if(!r)return;"rtl"===xk(r).direction&&b(!0)},[r]),!r)return null;const[w,k]=n.split("-"),x="top"===w||"bottom"===w;let S=d;(x&&null!=a&&a.x||!x&&null!=a&&a.y)&&(S=null);const E=2*u,T=E/2,C=s/2*(c/-8+1),D=l/2*c/4,_=!!p,R=S&&"end"===k?"bottom":"top";let I=S&&"end"===k?"right":"left";S&&v&&(I="end"===k?"left":"right");const P=null!=(null==o?void 0:o.x)?S||o.x:"",A=null!=(null==o?void 0:o.y)?S||o.y:"",N=p||"M0,0 H"+s+" L"+(s-C)+","+(l-D)+" Q"+s/2+","+l+" "+C+","+(l-D)+" Z",M={top:_?"rotate(180deg)":"",left:_?"rotate(90deg)":"rotate(-90deg)",bottom:_?"":"rotate(180deg)",right:_?"rotate(-90deg)":"rotate(90deg)"}[w];return(0,Sy.jsxs)("svg",(0,Ce.A)((0,Ce.A)({},g),{},{"aria-hidden":!0,ref:t,width:_?s:s+E,height:s,viewBox:"0 0 "+s+" "+(l>s?l:s),style:(0,Ce.A)({position:"absolute",pointerEvents:"none",[I]:P,[R]:A,[w]:x||_?"100%":"calc(100% - "+E/2+"px)",transform:[M,f].filter(e=>!!e).join(" ")},m),children:[E>0&&(0,Sy.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:E+(p?0:1),d:N}),(0,Sy.jsx)("path",{stroke:E&&!p?g.fill:"none",d:N}),(0,Sy.jsx)("clipPath",{id:y,children:(0,Sy.jsx)("rect",{x:-T,y:T*(_?-1:1),width:s+E,height:s})})]}))});function Vx(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const Hx=i.createContext(null),Kx=i.createContext(null),Yx=()=>{var e;return(null==(e=i.useContext(Hx))?void 0:e.id)||null},Gx=()=>i.useContext(Kx);function Qx(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=zx(),a=i.useRef({}),[s]=i.useState(()=>Vx()),l=null!=Yx();const[c,u]=i.useState(r.reference),d=function(e){const t=i.useRef(()=>{});return ek(()=>{t.current=e}),i.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),h=i.useMemo(()=>({setPositionReference:u}),[]),p=i.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return i.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:p,events:s,floatingId:o,refs:h}),[t,d,p,s,o,h])}function Xx(e){void 0===e&&(e={});const{nodeId:t}=e,n=Qx((0,Ce.A)((0,Ce.A)({},e),{},{elements:(0,Ce.A)({reference:null,floating:null},e.elements)})),r=e.rootContext||n,o=r.elements,[a,s]=i.useState(null),[l,c]=i.useState(null),u=(null==o?void 0:o.domReference)||a,d=i.useRef(null),h=Gx();Zw(()=>{u&&(d.current=u)},[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=i.useState(r);Ex(p,r)||f(r);const[m,g]=i.useState(null),[y,v]=i.useState(null),b=i.useCallback(e=>{e!==S.current&&(S.current=e,g(e))},[]),w=i.useCallback(e=>{e!==E.current&&(E.current=e,v(e))},[]),k=a||m,x=s||y,S=i.useRef(null),E=i.useRef(null),T=i.useRef(d),C=null!=c,D=Dx(c),_=Dx(o),R=Dx(u),I=i.useCallback(()=>{if(!S.current||!E.current)return;const e={placement:t,strategy:n,middleware:p};_.current&&(e.platform=_.current),xx(S.current,E.current,e).then(e=>{const t=(0,Ce.A)((0,Ce.A)({},e),{},{isPositioned:!1!==R.current});P.current&&!Ex(T.current,t)&&(T.current=t,be.flushSync(()=>{h(t)}))})},[p,t,n,_,R]);Sx(()=>{!1===u&&T.current.isPositioned&&(T.current.isPositioned=!1,h(e=>(0,Ce.A)((0,Ce.A)({},e),{},{isPositioned:!1})))},[u]);const P=i.useRef(!1);Sx(()=>(P.current=!0,()=>{P.current=!1}),[]),Sx(()=>{if(k&&(S.current=k),x&&(E.current=x),k&&x){if(D.current)return D.current(k,x,I);I()}},[k,x,I,D,C]);const A=i.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),N=i.useMemo(()=>({reference:k,floating:x}),[k,x]),M=i.useMemo(()=>{const e={position:n,left:0,top:0};if(!N.floating)return e;const t=Cx(N.floating,d.x),r=Cx(N.floating,d.y);return l?(0,Ce.A)((0,Ce.A)({},e),{},{transform:"translate("+t+"px, "+r+"px)"},Tx(N.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,l,N.floating,d.x,d.y]);return i.useMemo(()=>(0,Ce.A)((0,Ce.A)({},d),{},{update:I,refs:A,elements:N,floatingStyles:M}),[d,I,A,N,M])}((0,Ce.A)((0,Ce.A)({},e),{},{elements:(0,Ce.A)((0,Ce.A)({},o),l&&{reference:l})})),f=i.useCallback(e=>{const t=ak(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),p.refs.setReference(t)},[p.refs]),m=i.useCallback(e=>{(ak(e)||null===e)&&(d.current=e,s(e)),(ak(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!ak(e))&&p.refs.setReference(e)},[p.refs]),g=i.useMemo(()=>(0,Ce.A)((0,Ce.A)({},p.refs),{},{setReference:m,setPositionReference:f,domReference:d}),[p.refs,m,f]),y=i.useMemo(()=>(0,Ce.A)((0,Ce.A)({},p.elements),{},{domReference:u}),[p.elements,u]),v=i.useMemo(()=>(0,Ce.A)((0,Ce.A)((0,Ce.A)({},p),r),{},{refs:g,elements:y,nodeId:t}),[p,g,y,t,r]);return Zw(()=>{r.dataRef.current.floatingContext=v;const e=null==h?void 0:h.nodesRef.current.find(e=>e.id===t);e&&(e.context=v)}),i.useMemo(()=>(0,Ce.A)((0,Ce.A)({},p),{},{context:v,refs:g,elements:y}),[p,g,y,v])}var $x=function(e,t){return $x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$x(e,t)};function Jx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Zx=function(){return Zx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zx.apply(this,arguments)};function eS(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var tS,nS=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,o=void 0!==r&&r,a=e.className,s=e.children,l=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return i.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},rS=function(e){var t=e.children,n=e.onClickOutside,r=e.className,o=e.containerRef,a=e.style,s=function(e,t){var n=(0,i.useRef)(null),r=(0,i.useRef)(e);r.current=e;var o=(0,i.useCallback)(function(e){var i,o=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(o)&&(t&&o instanceof HTMLElement&&o.classList.contains(t)||null===(i=r.current)||void 0===i||i.call(r,e))},[t]);return(0,i.useEffect)(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n}(n,e.ignoreClass);return i.createElement("div",{className:r,style:a,ref:function(e){s.current=e,o&&(o.current=e)}},t)};function iS(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(tS||(tS={}));function oS(e){if(null==e)return new Date;var t="string"===typeof e?qy(e):zy(e);return sS(t)?t:new Date}function aS(e,t,n,r,i){void 0===i&&(i=oS());for(var o=CS(n)||CS(TS()),a=0,s=Array.isArray(t)?t:[t];a<s.length;a++){var l=s[a],c=Rb(e,l,i,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(sS(c)&&(!r||e===lS(c,l,n)))return c}return null}function sS(e,t){return Ab(e)&&!Nb(e,new Date("1/1/1800"))}function lS(e,t,n){if("en"===n)return nw(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?CS(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),nw(e,t,{locale:r=r||CS(TS()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cS(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&lS(e,i,r)||""}function uS(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,o=void 0===i?0:i,a=t.second;return iw(ow(aw(e,void 0===a?0:a),o),r)}function dS(e){return Ob(e)}function hS(e,t,n){return ob(e,{locale:CS(t||TS()),weekStartsOn:n})}function pS(e){return sw(e)}function fS(e){return Lb(e)}function mS(e){return lw(e)}function gS(){return Ob(oS())}function yS(e){return cw(e)}function vS(e){return dw(e)}function bS(e,t){return e&&t?hw(e,t):!e&&!t}function wS(e,t){return e&&t?pw(e,t):!e&&!t}function kS(e,t){return e&&t?fw(e,t):!e&&!t}function xS(e,t){return e&&t?mw(e,t):!e&&!t}function SS(e,t){return e&&t?gw(e,t):!e&&!t}function ES(e,t,n){var r,i=Ob(t),o=cw(n);try{r=yw(e,{start:i,end:o})}catch(a){r=!1}return r}function TS(){return iS().__localeId__}function CS(e){if("string"===typeof e){var t=iS();return t.__localeData__?t.__localeData__[e]:void 0}return e}function DS(e,t){return lS(bw(oS(),e),"LLLL",t)}function _S(e,t){return lS(bw(oS(),e),"LLL",t)}function RS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return FS(e,{minDate:r,maxDate:i})||o&&o.some(function(t){return t instanceof Date?xS(e,t):xS(e,t.date)})||a&&a.some(function(t){var n=t.start,r=t.end;return yw(e,{start:n,end:r})})||s&&!s.some(function(t){return xS(e,t)})||l&&!l.some(function(t){var n=t.start,r=t.end;return yw(e,{start:n,end:r})})||c&&!c(oS(e))||!1}function IS(e,t){var n=void 0===t?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(t){var n=t.start,r=t.end;return yw(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?xS(e,t):xS(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function PS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return FS(e,{minDate:r?sw(r):void 0,maxDate:i?dw(i):void 0})||(null===o||void 0===o?void 0:o.some(function(t){return wS(e,t instanceof Date?t:t.date)}))||a&&!a.some(function(t){return wS(e,t)})||s&&!s(oS(e))||!1}function AS(e,t,n,r){var i=kw(e),o=xw(e),a=kw(t),s=xw(t),l=kw(r);return i===a&&i===l?o<=n&&n<=s:i<a&&(l===i&&o<=n||l===a&&s>=n||l<a&&l>i)}function NS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates;return FS(e,{minDate:r,maxDate:i})||o&&o.some(function(t){return wS(t instanceof Date?t:t.date,e)})||a&&!a.some(function(t){return wS(t,e)})||!1}function MS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return FS(e,{minDate:r,maxDate:i})||(null===o||void 0===o?void 0:o.some(function(t){return kS(e,t instanceof Date?t:t.date)}))||a&&!a.some(function(t){return kS(e,t)})||s&&!s(oS(e))||!1}function OS(e,t,n){if(!t||!n)return!1;if(!Ab(t)||!Ab(n))return!1;var r=kw(t),i=kw(n);return r<=e&&i>=e}function jS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate,l=new Date(e,0,1);return FS(l,{minDate:r?Lb(r):void 0,maxDate:i?Sw(i):void 0})||(null===o||void 0===o?void 0:o.some(function(e){return bS(l,e instanceof Date?e:e.date)}))||a&&!a.some(function(e){return bS(l,e)})||s&&!s(oS(l))||!1}function LS(e,t,n,r){var i=kw(e),o=Ew(e),a=kw(t),s=Ew(t),l=kw(r);return i===a&&i===l?o<=n&&n<=s:i<a&&(l===i&&o<=n||l===a&&s>=n||l<a&&l>i)}function FS(e,t){var n,r=void 0===t?{}:t,i=r.minDate,o=r.maxDate;return null!==(n=i&&jb(e,i)<0||o&&jb(e,o)>0)&&void 0!==n&&n}function BS(e,t){return t.some(function(t){return Tw(t)===Tw(e)&&Cw(t)===Cw(e)&&Dw(t)===Dw(e)})}function WS(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&BS(e,r)||i&&!BS(e,i)||o&&!o(e)||!1}function US(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=oS();i=aw(i=ow(i=iw(i,Tw(e)),Cw(e)),Dw(e));var o=oS();o=aw(o=ow(o=iw(o,Tw(n)),Cw(n)),Dw(n));var a,s=oS();s=aw(s=ow(s=iw(s,Tw(r)),Cw(r)),Dw(r));try{a=!yw(i,{start:o,end:s})}catch(l){a=!1}return a}function zS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=Rw(e,1);return r&&Iw(r,o)>0||i&&i.every(function(e){return Iw(e,o)>0})||!1}function qS(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=_w(e,1);return r&&Iw(o,r)>0||i&&i.every(function(e){return Iw(o,e)>0})||!1}function VS(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=Ow(e,1);return r&&jw(r,o)>0||i&&i.every(function(e){return jw(e,o)>0})||!1}function HS(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=Mw(e,1);return r&&jw(o,r)>0||i&&i.every(function(e){return jw(o,e)>0})||!1}function KS(e){var t=e.minDate,n=e.includeDates;return n&&t?Lw(n.filter(function(e){return jb(e,t)>=0})):n?Lw(n):t}function YS(e){var t=e.maxDate,n=e.includeDates;return n&&t?Fw(n.filter(function(e){return jb(e,t)<=0})):n?Fw(n):t}function GS(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var a=e[i];if(Pb(a)){var s=lS(a,"MM.dd.yyyy");(p=r.get(s)||[]).includes(t)||(p.push(t),r.set(s,p))}else if("object"===typeof a){var l=null!==(n=Object.keys(a)[0])&&void 0!==n?n:"",c=a[l];if("string"===typeof l&&Array.isArray(c))for(var u=0,d=c.length;u<d;u++){var h=c[u];if(h){var p;s=lS(h,"MM.dd.yyyy");(p=r.get(s)||[]).includes(l)||(p.push(l),r.set(s,p))}}}}return r}function QS(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,i=e.holidayName;if(Pb(r)){var o=lS(r,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a)||a.className!==t||(s=a.holidayNames,l=[i],s.length!==l.length||!s.every(function(e,t){return e===l[t]}))){var s,l;a.className=t;var c=a.holidayNames;a.holidayNames=c?eS(eS([],c,!0),[i],!1):[i],n.set(o,a)}}}),n}function XS(e,t,n,r,i){for(var o=i.length,a=[],s=0;s<o;s++){var l=e,c=i[s];c&&(l=zw(l=Uw(l=Ww(l,Tw(c)),Cw(c)),Dw(c)));var u=Uw(e,(n+1)*r);qw(l,t)&&Nb(l,u)&&void 0!=c&&a.push(c)}return a}function $S(e){return e<10?"0".concat(e):"".concat(e)}function JS(e,t){void 0===t&&(t=12);var n=Math.ceil(kw(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function ZS(e){var t=e.getSeconds(),n=e.getMilliseconds();return zy(e.getTime()-1e3*t-n)}function eE(e){if(!Pb(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function tE(e,t){if(!Pb(e)||!Pb(t))throw new Error("Invalid date received");return Nb(eE(e),eE(t))}function nE(e){return e.key===tS.Space}var rE,iE=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=i.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,o=i instanceof Date&&!isNaN(+i)?i:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var a=e.split(":"),s=a[0],l=a[1];o.setHours(Number(s)),o.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,o)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,o=t.timeString,a=t.customTimeInput;return a?(0,i.cloneElement)(a,{date:r,value:e,onChange:n.onTimeChange}):i.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||o)}})},n.state={time:n.props.timeString},n}return Jx(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return i.createElement("div",{className:"react-datepicker__input-time-container"},i.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),i.createElement("div",{className:"react-datepicker-time__input-container"},i.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(i.Component),oE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,i.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===tS.Space&&(e.preventDefault(),e.key=tS.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return xS(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),RS(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return IS(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return xS(t.props.day,hS(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&xS(e,hS(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=lS(n,"MM.dd.yyyy");return r.get(i)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,i=n.holidays;if(!i)return[void 0];var o=lS(r,"MM.dd.yyyy");return i.has(o)?[null===(e=i.get(o))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&ES(n,r,i)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,i=n.selectsStart,o=n.selectsEnd,a=n.selectsRange,s=n.selectsDisabledDaysInRange,l=n.startDate,c=n.swapRange,u=n.endDate,d=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;if(!(i||o||a)||!d||!s&&t.isDisabled())return!1;if(i&&u&&(Nb(d,u)||SS(d,u)))return ES(r,d,u);if(o&&l&&(qw(d,l)||SS(d,l)))return ES(r,l,d);if(a&&l&&!u){if(SS(d,l))return ES(r,l,d);if(qw(d,l))return ES(r,l,d);if(c&&Nb(d,l))return ES(r,d,l)}return!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.startDate,o=n.selectsStart,a=n.swapRange,s=n.selectsRange,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return xS(r,o||s&&a&&i&&l&&Nb(l,i)?l:i)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.endDate,o=n.selectsEnd,a=n.selectsRange,s=n.swapRange,l=n.startDate,c=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return xS(r,o?c:a&&s&&l&&c?Nb(c,l)?l:c:a?c:i)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&xS(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&xS(i,n)},t.isWeekend=function(){var e=Vw(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===xw(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(xw(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(oS())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return jy("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+lS(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,o=e.ariaLabelPrefixWhenDisabled,a=void 0===o?"Not available":o,s=t.isDisabled()||t.isExcluded()?a:i;return"".concat(s," ").concat(lS(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=void 0===r?new Map:r,o=e.excludeDates,a=lS(n,"MM.dd.yyyy"),s=[];return i.has(a)&&s.push.apply(s,i.get(a).holidayNames),t.isExcluded()&&s.push(null===o||void 0===o?void 0:o.filter(function(e){return e instanceof Date?xS(e,n):xS(null===e||void 0===e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),s.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&xS(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Hw(t.props.day),t.props.day):Hw(t.props.day)},t.render=function(){return i.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&i.createElement("span",{className:"overlay"},t.getTitle()))},t}return Jx(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(i.Component),aE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,i.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===tS.Space&&(e.preventDefault(),e.key=tS.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!xS(t.props.date,t.props.selected)&&xS(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||xS(t.props.date,t.props.selected)&&xS(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&xS(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Jx(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,o=e.ariaLabelPrefix,a=void 0===o?t.defaultProps.ariaLabelPrefix:o,s=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!r,"react-datepicker__week-number--selected":!!s&&xS(this.props.date,this.props.selected)};return i.createElement("div",{ref:this.weekNumberEl,className:jy(l),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t}(i.Component),sE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return RS(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var o,a,s,l=new Date(e),c=0;c<7;c++){var u=new Date(e);if(u.setDate(u.getDate()+c),!n.isDisabled(u)){l=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,i),n.props.showWeekPicker&&n.handleDayClick(l,i),(null!==(o=n.props.shouldCloseOnSelect)&&void 0!==o?o:t.defaultProps.shouldCloseOnSelect)&&(null===(s=(a=n.props).setOpen)||void 0===s||s.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return pb(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=yb(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=yb(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],o=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,o):void 0;r.push(i.createElement(aE,Zx({key:"W"},t.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var o=yb(e,r);return i.createElement(oE,Zx({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:o.valueOf(),day:o,onClick:n.handleDayClick.bind(n,o),onMouseEnter:n.handleDayMouseEnter.bind(n,o)}))}))},n.startOfWeek=function(){return hS(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!xS(n.startOfWeek(),n.props.selected)&&xS(n.startOfWeek(),n.props.preSelection)},n}return Jx(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":xS(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return i.createElement("div",{className:jy(e,t),role:"row"},this.renderDays())},t}(i.Component),lE="two_columns",cE="three_columns",uE="four_columns",dE=((rE={})[lE]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},rE[cE]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},rE[uE]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},rE);function hE(e,t){return e?uE:t?lE:cE}var pE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=eS([],Array(12),!0).map(function(){return(0,i.createRef)()}),t.QUARTER_REFS=eS([],Array(4),!0).map(function(){return(0,i.createRef)()}),t.isDisabled=function(e){return RS(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return IS(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;null===(i=(r=t.props).onDayClick)||void 0===i||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&wS(bw(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&kS(ww(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&wS(bw(r,e),o)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&kS(ww(r,e),o)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,i=r.day,o=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(o||a||s)||!u)&&(o&&c?AS(u,c,e,i):(a&&l||!(!s||!l||c))&&AS(l,u,e,i))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,o=r.startDate,a=r.selectsStart,s=bw(i,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return wS(s,a?l:o)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,o=r.endDate,a=r.selectsEnd,s=r.selectsRange,l=bw(i,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return wS(l,a||s?c:o)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,i=r.day,o=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(o||a||s)||!u)&&(o&&c?LS(u,c,e,i):(a&&l||!(!s||!l||c))&&LS(l,u,e,i))},t.isWeekInMonth=function(e){var n=t.props.day,r=yb(e,6);return wS(e,n)||wS(r,n)},t.isCurrentMonth=function(e,t){return kw(e)===kw(oS())&&t===xw(oS())},t.isCurrentQuarter=function(e,t){return kw(e)===kw(oS())&&t===Ew(oS())},t.isSelectedMonth=function(e,t,n){return xw(n)===t&&kw(e)===kw(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Ew(e)===t&&kw(e)===kw(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,o=e.selectsMultiple,a=xw(n);return o?null===i||void 0===i?void 0:i.some(function(e){return t.isSelectedMonth(n,a,e)}):!!r&&t.isSelectedMonth(n,a,r)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,o=!1,a=hS(pS(t.props.day),t.props.locale,t.props.calendarStartDay),s=t.props.selected?function(e){return t.props.showWeekPicker?hS(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,l=t.props.preSelection?function(e){return t.props.showWeekPicker?hS(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(i.createElement(sE,Zx({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:a,month:xw(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:l,showWeekNumber:t.props.showWeekNumbers}))),!o;){r++,a=Kw(a,1);var c=n&&r>=6,u=!n&&!t.isWeekInMonth(a);if(c||u){if(!t.props.peekNextMonth)break;o=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,o=r.labelDate;i||t.handleDayClick(pS(o),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(pS(i))},t.handleMonthNavigation=function(e,n){var r,i,o,a;null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(a=null===(o=t.MONTH_REFS[e])||void 0===o?void 0:o.current)||void 0===a||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var i,o=t.props,a=o.selected,s=o.preSelection,l=o.setPreSelection,c=o.minDate,u=o.maxDate,d=o.showFourColumnMonthYearPicker,h=o.showTwoColumnMonthYearPicker;if(s){var p=hE(d,h),f=t.getVerticalOffset(p),m=null===(i=dE[p])||void 0===i?void 0:i.grid,g=function(e,t,n){var r,i,o=t,a=n;switch(e){case tS.ArrowRight:o=_w(t,1),a=11===n?0:n+1;break;case tS.ArrowLeft:o=Rw(t,1),a=0===n?11:n-1;break;case tS.ArrowUp:o=Rw(t,f),a=(null===(r=null===m||void 0===m?void 0:m[0])||void 0===r?void 0:r.includes(n))?n+12-f:n-f;break;case tS.ArrowDown:o=_w(t,f),a=(null===(i=null===m||void 0===m?void 0:m[m.length-1])||void 0===i?void 0:i.includes(n))?n-12+f:n+f}return{newCalculatedDate:o,newCalculatedMonth:a}};if(n!==tS.Enter){var y=function(e,n,r){for(var i=e,o=!1,a=0,s=g(i,n,r),l=s.newCalculatedDate,d=s.newCalculatedMonth;!o;){if(a>=40){l=n,d=r;break}var h;if(c&&l<c)i=tS.ArrowRight,l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if(u&&l>u)i=tS.ArrowLeft,l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if(NS(l,t.props))l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;else o=!0;a++}return{newCalculatedDate:l,newCalculatedMonth:d}}(n,s,r),v=y.newCalculatedDate,b=y.newCalculatedMonth;switch(n){case tS.ArrowRight:case tS.ArrowLeft:case tS.ArrowUp:case tS.ArrowDown:t.handleMonthNavigation(b,v)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===l||void 0===l||l(a))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=dE[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,o=r.handleOnMonthKeyDown,a=e.key;a!==tS.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,a,n),o&&o(e)},t.onQuarterClick=function(e,n){var r=ww(t.props.day,n);MS(r,t.props)||t.handleDayClick(mS(r),e)},t.onQuarterMouseEnter=function(e){var n=ww(t.props.day,e);MS(n,t.props)||t.handleDayMouseEnter(mS(n))},t.handleQuarterNavigation=function(e,n){var r,i,o,a;t.isDisabled(n)||t.isExcluded(n)||(null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(a=null===(o=t.QUARTER_REFS[e-1])||void 0===o?void 0:o.current)||void 0===a||a.focus())},t.onQuarterKeyDown=function(e,n){var r,i,o=e.key;if(!t.props.disabledKeyboardNavigation)switch(o){case tS.Enter:t.onQuarterClick(e,n),null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,t.props.selected);break;case tS.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,Pw(t.props.preSelection,1));break;case tS.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,Aw(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,i=r.day,o=r.minDate,a=r.maxDate,s=r.excludeDates,l=r.includeDates,c=bw(i,e);return{isDisabled:null!==(n=(o||a||s||l)&&PS(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate,a=n.preSelection,s=n.monthClassName,l=s?s(bw(r,e)):void 0,c=t.getSelection();return jy("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&a&&t.isSelectedMonth(r,e,a)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&o?AS(i,o,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=xw(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Ew(t.props.preSelection),r=MS(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=void 0===r?"Choose":r,o=n.disabledDayAriaLabelPrefix,a=void 0===o?"Not available":o,s=n.day,l=n.locale,c=bw(s,e),u=t.isDisabled(c)||t.isExcluded(c)?a:i;return"".concat(u," ").concat(lS(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,o=n.endDate,a=n.selected,s=n.minDate,l=n.maxDate,c=n.excludeDates,u=n.includeDates,d=n.filterDate,h=n.preSelection,p=n.disabledKeyboardNavigation,f=(s||l||c||u||d)&&MS(ww(r,e),t.props);return jy("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":f,"react-datepicker__quarter-text--selected":a?t.isSelectedQuarter(r,e,a):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&t.isSelectedQuarter(r,e,h)&&!f,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&o?LS(i,o,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,o=n.locale,a=n.day,s=_S(e,o),l=DS(e,o);return i?i(e,s,l,a):r?l:s},t.getQuarterContent=function(e){var n,r=t.props,i=r.renderQuarterContent,o=function(e,t){return lS(ww(oS(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===i||void 0===i?void 0:i(e,o))&&void 0!==n?n:o},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,o=n.showFourColumnMonthYearPicker,a=n.day,s=n.selected,l=null===(e=dE[hE(o,r)])||void 0===e?void 0:e.grid;return null===l||void 0===l?void 0:l.map(function(e,n){return i.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return i.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){nE(n)&&(n.preventDefault(),n.key=tS.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(a,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(a,e,s):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return i.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,o){return i.createElement("div",{key:o,ref:t.QUARTER_REFS[o],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd;return jy("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return Jx(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,o=e.ariaLabelPrefix,a=void 0===o?"Month ":o,s=a?a.trim()+" ":"";return t||n?i.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(lS(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():this.renderQuarters()):i.createElement("div",{role:"table"},this.props.dayNamesHeader&&i.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),i.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(lS(r,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},t}(i.Component),fE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case"Enter":n.preventDefault(),t.onChange(e);break;case"Escape":n.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":n.preventDefault();var i=(e+("ArrowUp"===n.key?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;null===(r=t.monthOptionButtonsRef[i])||void 0===r||r.focus()}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return i.createElement("div",{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&(null===e||void 0===e||e.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?i.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return Jx(t,e),t.prototype.render=function(){return i.createElement(rS,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(i.Component),mE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return i.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return i.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return i.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},i.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),i.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return i.createElement(fE,Zx({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Jx(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return _S(e,t.props.locale)}:function(e){return DS(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return i.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(i.Component);function gE(e,t){for(var n=[],r=pS(e),i=pS(t);!qw(r,i);)n.push(oS(r)),r=_w(r,1);return n}var yE=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=Yw(e),r=bS(n.props.date,e)&&wS(n.props.date,e);return i.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?i.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",lS(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:gE(n.props.minDate,n.props.maxDate)},n}return Jx(t,e),t.prototype.render=function(){var e=jy({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return i.createElement(rS,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(i.Component),vE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=pS(t.props.minDate),n=pS(t.props.maxDate),r=[];!qw(e,n);){var o=Yw(e);r.push(i.createElement("option",{key:o,value:o},lS(e,t.props.dateFormat,t.props.locale))),e=_w(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return i.createElement("select",{value:Yw(pS(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=lS(t.props.date,t.props.dateFormat,t.props.locale);return i.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},i.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),i.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return i.createElement(yE,Zx({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=oS(e);bS(t.props.date,n)&&wS(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Jx(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return i.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(i.Component),bE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,i;n.list&&(n.list.scrollTop=null!==(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==i?i:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&US(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&WS(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,ZS(t).getTime()===ZS(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&US(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&WS(e,n.props)},n.liClasses=function(e){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Tw(e)+60*Cw(e)+Dw(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(e,t){var r,i;e.key===tS.Space&&(e.preventDefault(),e.key=tS.Enter),(e.key===tS.ArrowUp||e.key===tS.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===tS.ArrowDown||e.key===tS.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===tS.Enter&&n.handleClick(t),null===(i=(r=n.props).handleOnKeyDown)||void 0===i||i.call(r,e)},n.renderTimes=function(){for(var e,r=[],o="string"===typeof n.props.format?n.props.format:"p",a=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||oS(),l=dS(s),c=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(s),d=u/a,h=0;h<d;h++){var p=Uw(l,h*a);if(r.push(p),c){var f=XS(l,p,h,a,c);r=r.concat(f)}}var m=r.reduce(function(e,t){return t.getTime()<=s.getTime()?t:e},r[0]);return r.map(function(e){return i.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===m&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===m?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},lS(e,o,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?i.createElement(i.Fragment,null):i.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},i.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Jx(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return i.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),i.createElement("div",{className:"react-datepicker__time"},i.createElement("div",{className:"react-datepicker__time-box"},i.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(i.Component),wE=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=eS([],Array(n.props.yearItemNumber),!0).map(function(){return(0,i.createRef)()}),n.isDisabled=function(e){return RS(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return IS(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,o,a,s=n.props,l=s.date,c=s.yearItemNumber;if(void 0!==l&&void 0!==c){var u=JS(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,t),e-u<0?n.updateFocusOnPaginate(c-(u-e)):e-u>=c?n.updateFocusOnPaginate(Math.abs(c-(e-u))):null===(a=null===(o=n.YEAR_REFS[e-u])||void 0===o?void 0:o.current)||void 0===a||a.focus())}},n.isSameDay=function(e,t){return xS(e,t)},n.isCurrentYear=function(e){return e===kw(oS())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&bS(Gw(oS(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&bS(Gw(oS(),e),n.props.endDate)},n.isInRange=function(e){return OS(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,o=t.selectsRange,a=t.startDate,s=t.endDate;return!(!(r||i||o)||!n.selectingDate())&&(r&&s?OS(e,n.selectingDate(),s):(i&&a||!(!o||!a||s))&&OS(e,a,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.startDate,o=r.selectsStart,a=Gw(oS(),e);return bS(a,o?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==i&&void 0!==i?i:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.endDate,o=r.selectsEnd,a=r.selectsRange,s=Gw(oS(),e);return bS(s,o||a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==i&&void 0!==i?i:null)},n.isKeyboardSelected=function(e){if(!n.props.disabledKeyboardNavigation&&void 0!==n.props.date&&null!=n.props.preSelection){var t=n.props,r=t.minDate,i=t.maxDate,o=t.excludeDates,a=t.includeDates,s=t.filterDate,l=t.selected,c=fS(Gw(n.props.date,e)),u=(r||i||o||a||s)&&jS(e,n.props),d=!!l&&xS(c,fS(l)),h=xS(c,fS(n.props.preSelection));return!n.props.inline&&!d&&h&&!u}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,i=t.selected,o=t.selectedDates;return r?null===o||void 0===o?void 0:o.some(function(t){return e===kw(t)}):!!i&&e===kw(i)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(fS(Gw(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,o=e.key,a=n.props,s=a.date,l=a.yearItemNumber,c=a.handleOnKeyDown;if(o!==tS.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(o){case tS.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,n.props.selected);break;case tS.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Mw(n.props.preSelection,1));break;case tS.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Ow(n.props.preSelection,1));break;case tS.ArrowUp:if(void 0===s||void 0===l||null==n.props.preSelection)break;var u=JS(s,l).startPeriod;if((p=t-(h=3))<u){var d=l%h;t>=u&&t<u+d?h=d:h+=d,p=t-h}n.handleYearNavigation(p,Ow(n.props.preSelection,h));break;case tS.ArrowDown:if(void 0===s||void 0===l||null==n.props.preSelection)break;var h,p,f=JS(s,l).endPeriod;if((p=t+(h=3))>f){d=l%h;t<=f&&t>f-d?h=d:h+=d,p=t+h}n.handleYearNavigation(p,Mw(n.props.preSelection,h))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.minDate,o=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,c=t.yearClassName;return jy("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(Gw(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(i||o||a||s||l)&&jS(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=kw(n.props.preSelection),r=jS(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return Jx(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,o=n.yearItemNumber,a=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===r)return null;for(var l=JS(r,o),c=l.startPeriod,u=l.endPeriod,d=function(n){t.push(i.createElement("div",{ref:h.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){nE(t)&&(t.preventDefault(),t.key=tS.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,p=c;p<=u;p++)d(p);return i.createElement("div",{className:"react-datepicker__year"},i.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(i.Component);function kE(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=kw(n)<=a),r&&s&&(s=kw(r)>=a),s&&i.push(a)}return i}var xE=function(e){function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case"Enter":t.preventDefault(),n.onChange(e);break;case"Escape":t.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":t.preventDefault();var i=e+("ArrowUp"===t.key?1:-1);n.yearOptionButtonsRef[i]&&(null===(r=n.yearOptionButtonsRef[i])||void 0===r||r.focus())}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return i.createElement("div",{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&(null===r||void 0===r||r.focus())},role:"button",tabIndex:0,className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?i.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),r=n.props.minDate?kw(n.props.minDate):null,o=n.props.maxDate?kw(n.props.maxDate):null;return o&&n.state.yearsList.find(function(e){return e===o})||t.unshift(i.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},i.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(i.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},i.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,a=r||(o?10:5);return n.state={yearsList:kE(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,i.createRef)(),n}return Jx(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=jy({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return i.createElement(rS,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(i.Component),SE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?kw(t.props.minDate):1900,n=t.props.maxDate?kw(t.props.maxDate):2100,r=[],o=e;o<=n;o++)r.push(i.createElement("option",{key:o,value:o},o));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return i.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return i.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},i.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),i.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return i.createElement(xE,Zx({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;null===(i=(r=t.props).onSelect)||void 0===i||i.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return Jx(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return i.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(i.Component),EE=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],TE="react-datepicker-ignore-onclickoutside",CE=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return EE.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,o=KS(r.props),a=YS(r.props),s=oS(),l=i||n||t;return l||(o&&Nb(s,o)?o:a&&qw(s,a)?a:s)},r.increaseMonth=function(){r.setState(function(e){return{date:_w(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){return{date:Rw(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Gw(oS(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,i,o;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(o=(i=r.props).setOpen)||void 0===o||o.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!RS(e,r.props))return e;for(var t=pS(e),n=Qw(vS(e),t),i=null,o=0;o<=n;o++){var a=yb(t,o);if(!RS(a,r.props)){i=a;break}}return i},r.handleMonthChange=function(e){var t,n,i,o=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(o),r.props.adjustDateOnChange&&(r.props.onSelect(o),null===(i=(n=r.props).setOpen)||void 0===i||i.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(o)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){return{date:Gw(t.date,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){return{date:bw(t.date,Number(e))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(e){r.setState(function(t){return{date:Gw(bw(t.date,xw(e)),kw(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e){void 0===e&&(e=r.state.date);var t=hS(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(i.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},i.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),i.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),n.concat([0,1,2,3,4,5,6].map(function(e){var n=yb(t,e),o=r.formatWeekday(n,r.props.locale),a=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return i.createElement("div",{key:e,role:"columnheader",className:jy("react-datepicker__day-name",a)},i.createElement("span",{className:"react-datepicker__sr-only"},lS(n,"EEEE",r.props.locale)),i.createElement("span",{"aria-hidden":"true"},o))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(lS(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return lS(e,"EEE",t)}(e,t):function(e,t){return lS(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState(function(e){var n;return{date:Ow(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,o;if(!r.props.renderCustomHeader){var a,s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?s-1:0,c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:l,u=Rw(r.state.date,c);switch(!0){case r.props.showMonthYearPicker:a=VS(r.state.date,r.props);break;case r.props.showYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.yearItemNumber,o=void 0===i?12:i,a=JS(fS(Ow(e,o)),o).endPeriod,s=r&&kw(r);return s&&s>a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=Aw(Lb(e),1);return r&&Nw(r,o)>0||i&&i.every(function(e){return Nw(e,o)>0})||!1}(r.state.date,r.props);break;default:a=zS(u,r.props)}if(((null!==(o=r.props.forceShowMonthNavigation)&&void 0!==o?o:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!a)&&!r.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,m=f.previousMonthButtonLabel,g=void 0===m?t.defaultProps.previousMonthButtonLabel:m,y=f.previousYearButtonLabel,v=void 0===y?t.defaultProps.previousYearButtonLabel:y,b=r.props,w=b.previousMonthAriaLabel,k=void 0===w?"string"===typeof g?g:"Previous Month":w,x=b.previousYearAriaLabel,S=void 0===x?"string"===typeof v?v:"Previous Year":x;return i.createElement("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?S:k},i.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},p?v:g))}}},r.increaseYear=function(){r.setState(function(e){var n;return{date:Mw(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=HS(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.yearItemNumber,o=void 0===i?12:i,a=JS(Mw(e,o),o).startPeriod,s=r&&kw(r);return s&&s<a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=Pw(Sw(e),1);return r&&Nw(o,r)>0||i&&i.every(function(e){return Nw(o,e)>0})||!1}(r.state.date,r.props);break;default:n=qS(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var o=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),a=void 0);var s=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,c=l.nextMonthButtonLabel,u=void 0===c?t.defaultProps.nextMonthButtonLabel:c,d=l.nextYearButtonLabel,h=void 0===d?t.defaultProps.nextYearButtonLabel:d,p=r.props,f=p.nextMonthAriaLabel,m=void 0===f?"string"===typeof u?u:"Next Month":f,g=p.nextYearAriaLabel,y=void 0===g?"string"===typeof h?h:"Next Year":g;return i.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":s?y:m},i.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?h:u))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),i.createElement("h2",{className:t.join(" ")},lS(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return i.createElement(SE,Zx({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:kw(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return i.createElement(mE,Zx({},t.defaultProps,r.props,{month:xw(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return i.createElement(vE,Zx({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(gS(),e),r.props.setPreSelection&&r.props.setPreSelection(gS())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return i.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e){return i.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(e))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return i.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),i.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)))},r.renderCustomHeader=function(e){var t,n,o=e.monthDate,a=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var s,l=r.props,c=l.showYearPicker,u=l.yearItemNumber;if(c){var d=JS(o,u);s={startYear:d.startPeriod,endYear:d.endPeriod}}var h=zS(r.state.date,r.props),p=qS(r.state.date,r.props),f=VS(r.state.date,r.props),m=HS(r.state.date,r.props);return i.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,Zx(Zx(Zx({},r.state),c&&{visibleYearsRange:s}),{customHeaderCount:a,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:p,prevYearButtonDisabled:f,nextYearButtonDisabled:m})))},r.renderYearHeader=function(e){var n=e.monthDate,o=r.props,a=o.showYearPicker,s=o.yearItemNumber,l=JS(n,void 0===s?t.defaultProps.yearItemNumber:s),c=l.startPeriod,u=l.endPeriod;return i.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(c," - ").concat(u):kw(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,i={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(i);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var o=[],a=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?a-1:0,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Mw(r.state.date,s):Rw(r.state.date,s),c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:s,u=0;u<a;++u){var d=u-c+s,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Mw(l,d):_w(l,d),p="month-".concat(u),f=u<a-1,m=u>0;o.push(i.createElement("div",{key:p,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),i.createElement(pE,Zx({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:u,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:m,dayNamesHeader:r.renderDayNamesHeader(h)}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?i.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),i.createElement(wE,Zx({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return i.createElement(bE,Zx({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&sS(e)&&Boolean(r.props.selected)?"".concat($S(e.getHours()),":").concat($S(e.getMinutes())):"";if(r.props.showTimeInput)return i.createElement(iE,Zx({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,o=JS(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),a=o.startPeriod,s=o.endPeriod;return n=r.props.showYearPicker?"".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?kw(r.state.date):"".concat(DS(xw(r.state.date),r.props.locale)," ").concat(kw(r.state.date)),i.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return i.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,i.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Jx(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:TE,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||xS(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!xS(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!wS(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||nS;return i.createElement(rS,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},i.createElement("div",{style:{display:"contents"},ref:this.containerRef},i.createElement(e,{className:jy("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(i.Component),DE=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,o=e.onClick,a="react-datepicker__calendar-icon";if("string"===typeof t)return i.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:o});if(i.isValidElement(t)){var s=t;return i.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(a," ").concat(r),onClick:function(e){"function"===typeof s.props.onClick&&s.props.onClick(e),"function"===typeof o&&o(e)}})}return i.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},i.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},_E=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return Jx(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return be.createPortal(this.props.children,this.el)},t}(i.Component),RE=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},IE=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(RE)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,i.createRef)(),n}return Jx(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?i.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},i.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,i.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(i.Component);var PE=function(e){function t(t){var n,r,o,a="boolean"!==typeof t.hidePopper||t.hidePopper,s=(0,i.useRef)(null),l=Xx(Zx({open:!a,whileElementsMounted:vx,placement:t.popperPlacement,middleware:eS([(r={padding:15},(0,Ce.A)((0,Ce.A)({},wx(r)),{},{options:[r,o]})),_x(10),Rx({element:s})],null!==(n=t.popperModifiers)&&void 0!==n?n:[],!0)},t.popperProps)),c=Zx(Zx({},t),{hidePopper:a,popperProps:Zx(Zx({},l),{arrowRef:s})});return i.createElement(e,Zx({},c))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,o=void 0===r||r,a=e.popperComponent,s=e.targetComponent,l=e.enableTabLoop,c=e.popperOnKeyDown,u=e.portalId,d=e.portalHost,h=e.popperProps,p=e.showArrow,f=void 0;if(!o){var m=jy("react-datepicker-popper",t);f=i.createElement(IE,{enableTabLoop:l},i.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:m,"data-placement":h.placement,onKeyDown:c},a,p&&i.createElement(qx,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(f=(0,i.createElement)(e.popperContainer,{},f)),u&&!o&&(f=i.createElement(_E,{portalId:u,portalHost:d},f));var g=jy("react-datepicker-wrapper",n);return i.createElement(i.Fragment,null,i.createElement("div",{ref:h.refs.setReference,className:g},s),f)});var AE="Date input not valid.",NE=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:oS()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return sS(n)?eS(eS([],e,!0),[Zx(Zx({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=KS(r.props),i=YS(r.props),o=n&&Nb(t,dS(n))?n:i&&qw(t,yS(i))?i:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:o,highlightDates:GS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e,n=r.props,i=n.locale,o=n.startDate,a=n.endDate,s=n.rangeSeparator,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,d=n.selectsRange,h=n.value,p=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=r.state.inputValue;return"string"===typeof h?h:"string"===typeof f?f:d?function(e,t,n){if(!e&&!t)return"";var r=e?cS(e,n):"",i=t?cS(t,n):"",o=n.rangeSeparator||" - ";return"".concat(r).concat(o).concat(i)}(o,a,{dateFormat:p,locale:i,rangeSeparator:s}):u?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?cS(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=cS(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}(null!==c&&void 0!==c?c:[],{dateFormat:p,locale:i}):cS(l,{dateFormat:p,locale:i})},r.resetHiddenStatus=function(){r.setState(Zx(Zx({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Zx(Zx({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:OE},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Pb(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,i=r.state.wasHidden,o=!i||r.state.open;i&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!o||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Zx(Zx({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.resetInputValue(),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,i,o,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=s[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,s),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:ME});var u=r.props,d=u.selectsRange,h=u.startDate,p=u.endDate,f=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(d){var y=r.props.rangeSeparator,v=y.trim(),b=g.split(f.includes(v)?y:v,2).map(function(e){return e.trim()}),w=b[0],k=b[1],x=aS(null!==w&&void 0!==w?w:"",f,r.props.locale,m),S=x?aS(null!==k&&void 0!==k?k:"",f,r.props.locale,m):null,E=(null===h||void 0===h?void 0:h.getTime())!==(null===x||void 0===x?void 0:x.getTime()),T=(null===p||void 0===p?void 0:p.getTime())!==(null===S||void 0===S?void 0:S.getTime());if(!E&&!T)return;if(x&&RS(x,r.props))return;if(S&&RS(S,r.props))return;null===(o=(i=r.props).onChange)||void 0===o||o.call(i,[x,S],c)}else{var C=aS(g,f,r.props.locale,m,null!==(a=r.props.selected)&&void 0!==a?a:void 0);!C&&g||r.setSelected(C,c,!0)}}},r.handleSelect=function(e,t,n){if(!r.props.readOnly){var i=r.props,o=i.selectsRange,a=i.startDate,s=i.endDate,l=i.swapRange,c=!o||a&&!s&&(l||!tE(e,a));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&c&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):c&&r.setOpen(!1)}},r.setSelected=function(e,t,n,i){var o,a,s=e;if(r.props.showYearPicker){if(null!==s&&jS(kw(s),r.props))return}else if(r.props.showMonthYearPicker){if(null!==s&&PS(s,r.props))return}else if(null!==s&&RS(s,r.props))return;var l=r.props,c=l.onChange,u=l.selectsRange,d=l.startDate,h=l.endDate,p=l.selectsMultiple,f=l.selectedDates,m=l.minTime,g=l.swapRange;if(!SS(r.props.selected,s)||r.props.allowSameDay||u||p)if(null!==s&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(s=uS(s,{hour:Tw(r.props.selected),minute:Cw(r.props.selected),second:Dw(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||m&&(s=uS(s,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),r.props.inline||r.setState({preSelection:s}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),u){var y=d&&!h,v=!d&&!!h,b=d&&h;!d&&!h?null===c||void 0===c||c([s,null],t):y?null===s?null===c||void 0===c||c([null,null],t):tE(s,d)?g?null===c||void 0===c||c([s,d],t):null===c||void 0===c||c([s,null],t):null===c||void 0===c||c([d,s],t):v&&(s&&tE(s,h)?null===c||void 0===c||c([s,h],t):null===c||void 0===c||c([s,null],t)),b&&(null===c||void 0===c||c([s,null],t))}else if(p){if(null!==s)if(null===f||void 0===f?void 0:f.length)if(f.some(function(e){return xS(e,s)})){var w=f.filter(function(e){return!xS(e,s)});null===c||void 0===c||c(w,t)}else null===c||void 0===c||c(eS(eS([],f,!0),[s],!1),t);else null===c||void 0===c||c([s],t)}else null===c||void 0===c||c(s,t);n||(null===(a=(o=r.props).onSelect)||void 0===a||a.call(o,s,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=Pb(r.props.minDate),n=Pb(r.props.maxDate),i=!0;if(e){var o=dS(e);if(t&&n)i=ES(e,r.props.minDate,r.props.maxDate);else if(t){var a=dS(r.props.minDate);i=qw(e,a)||SS(o,a)}else if(n){var s=yS(r.props.maxDate);i=Nb(e,s)||SS(o,s)}}i&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var i=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?e:uS(i,{hour:Tw(e),minute:Cw(e)});r.setState({preSelection:o}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,o),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,i,o,a,s;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(l===tS.ArrowDown||l===tS.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(o=r.calendar)||void 0===o?void 0:o.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=oS(r.state.preSelection);l===tS.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===OE?(r.handleSelect(d,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(d)):r.setOpen(!1)):l===tS.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):l===tS.Tab&&r.setOpen(!1),r.inputOk()||null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:AE})}}else l!==tS.ArrowDown&&l!==tS.ArrowUp&&l!==tS.Enter||null===(i=r.onInputClick)||void 0===i||i.call(r)},r.onPortalKeyDown=function(e){e.key===tS.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,i,o,a,s,l=r.props,c=l.minDate,u=l.maxDate,d=l.disabledKeyboardNavigation,h=l.showWeekPicker,p=l.shouldCloseOnSelect,f=l.locale,m=l.calendarStartDay,g=l.adjustDateOnChange,y=l.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!d){var v=e.key,b=e.shiftKey,w=oS(r.state.preSelection),k=function(e,t){var n=t;switch(e){case tS.ArrowRight:n=h?Kw(t,1):yb(t,1);break;case tS.ArrowLeft:n=h?$w(t,1):Jw(t,1);break;case tS.ArrowUp:n=$w(t,1);break;case tS.ArrowDown:n=Kw(t,1);break;case tS.PageUp:n=b?Ow(t,1):Rw(t,1);break;case tS.PageDown:n=b?Mw(t,1):_w(t,1);break;case tS.Home:n=hS(t,f,m);break;case tS.End:n=function(e){return uw(e)}(t)}return n};if(v===tS.Enter)return e.preventDefault(),r.handleSelect(w,e),void(!p&&r.setPreSelection(w));if(v===tS.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(o=(i=r.props).onInputError)||void 0===o||o.call(i,{code:1,msg:AE}));var x=null;switch(v){case tS.ArrowLeft:case tS.ArrowRight:case tS.ArrowUp:case tS.ArrowDown:case tS.PageUp:case tS.PageDown:case tS.Home:case tS.End:x=function(e,t){for(var n=e,i=!1,o=0,a=k(e,t);!i;){if(o>=40){a=t;break}c&&a<c&&(n=tS.ArrowRight,a=RS(c,r.props)?k(n,a):c),u&&a>u&&(n=tS.ArrowLeft,a=RS(u,r.props)?k(n,a):u),RS(a,r.props)?(n!==tS.PageUp&&n!==tS.Home||(n=tS.ArrowRight),n!==tS.PageDown&&n!==tS.End||(n=tS.ArrowLeft),a=k(n,a)):i=!0,o++}return a}(v,w)}if(x){if(e.preventDefault(),r.setState({lastPreSelectChange:OE}),g&&r.setSelected(x),r.setPreSelection(x),y){var S=xw(w),E=xw(x),T=kw(w),C=kw(x);S!==E||T!==C?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:AE})}},r.onPopperKeyDown=function(e){e.key===tS.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,i=t.onChange;n?null===i||void 0===i||i([null,null],e):null===i||void 0===i||i(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?i.createElement(CE,Zx({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:QS(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n,o=r.props.locale,a=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,s=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return n=r.props.selectsRange?"Selected start date: ".concat(cS(r.props.startDate,{dateFormat:s,locale:o}),". ").concat(r.props.endDate?"End date: "+cS(r.props.endDate,{dateFormat:s,locale:o}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(cS(r.props.selected,{dateFormat:a,locale:o})):r.props.showYearPicker?"Selected year: ".concat(cS(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?"Selected month: ".concat(cS(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(cS(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(cS(r.props.selected,{dateFormat:s,locale:o})),i.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n)},r.renderDateInput=function(){var e,n,o=jy(r.props.className,((e={})[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),a=r.props.customInput||i.createElement("input",{type:"text"}),s=r.props.customInputRef||"ref";return(0,i.cloneElement)(a,((n={})[s]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=jy(a.props.className,o),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,o=e.selected,a=e.startDate,s=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,u=void 0===c?"":c,d=e.ariaLabelClose,h=void 0===d?"Close":d,p=e.selectedDates,f=e.readOnly;return!t||f||null==o&&null==a&&null==s&&!(null===p||void 0===p?void 0:p.length)?null:i.createElement("button",{type:"button",className:jy("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:r.onClearClick,title:l,tabIndex:-1})},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Jx(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:TE,readOnly:!1,rangeSeparator:" - ",withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,o,a,s;e.inline&&(a=e.selected,s=this.props.selected,a&&s?xw(a)!==xw(s)||kw(a)!==kw(s):a!==s)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:GS(this.props.highlightDates)}),t.focused||SS(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(o=(i=this.props).onCalendarClose)||void 0===o||o.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,o=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,s=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),i.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&i.createElement(DE,Zx({icon:n,className:jy(o,!o&&r,s&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?i.createElement(IE,{enableTabLoop:this.props.enableTabLoop},i.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=i.createElement(_E,Zx({portalId:this.props.portalId},this.props),t)),i.createElement("div",null,this.renderInputContainer(),t)}return i.createElement(PE,Zx({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(i.Component),ME="input",OE="navigate";const jE={TRAINING_SYSTEMS:{practical_periodization:"Practical Periodization",high_volume:"High Volume Training",polarized:"Polarized Training",base_building:"Base Building",competitive:"Competitive Training"},EQUIPMENT:{cyclete:"Cyclete",elliptigo:"ElliptiGO",runeq:"RunEQ",running:"Running",bike:"Bike",standup_bike:"Stand-up Bike"},PHASES:{base:"Base Phase",build:"Build Phase",peak:"Peak Phase",taper:"Taper Phase",recovery:"Recovery Phase"},WORKOUT_TYPES:{easy:"Easy Run",tempo:"Tempo Run",intervals:"Intervals",long_run:"Long Run",hills:"Hill Workout",recovery:"Recovery",brick:"Brick Workout",bike:"Bike Workout"},INTENSITY_LABELS:{easy:"Easy",moderate:"Moderate",comfortablyHard:"Comfortably Hard",comfortably_hard:"Comfortably Hard",thresholdPace:"Threshold Pace",threshold_pace:"Threshold Pace",tempoPlus:"Tempo Plus",tempo_plus:"Tempo Plus",hard:"Hard",very_hard:"Very Hard",veryHard:"Very Hard",max_effort:"Maximum Effort",maxEffort:"Maximum Effort"}};function LE(e){if(!e)return"";const t=e.toLowerCase();return jE.EQUIPMENT[t]||FE(e)}function FE(e){if(!e)return"";const t=["a","an","and","as","at","but","by","for","in","of","on","or","the","to","with"];return e.toLowerCase().split(" ").map((e,n)=>0===n?e.charAt(0).toUpperCase()+e.slice(1):t.includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function BE(e){let{selected:t,onChange:n,minDate:r,maxDate:i,placeholder:o}=e;return(0,Sy.jsx)(NE,{selected:t,onChange:n,minDate:r,maxDate:i,placeholderText:o,className:"modern-date-input",wrapperClassName:"modern-date-wrapper",calendarClassName:"modern-calendar",popperClassName:"modern-popper",showPopperArrow:!1,dateFormat:"MMMM d, yyyy",popperPlacement:"bottom-start",style:{fontSize:"1.1rem",padding:"14px 16px",minWidth:"220px",border:"2px solid rgba(0, 212, 255, 0.3)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",color:"#fff",cursor:"pointer"}})}function WE(e){let{value:t,onChange:n,maxValue:r,unit:o,zones:a}=e;const[s,l]=(0,i.useState)(!1),c=i.useRef(null),u=225,d=(u+t/r*270)*Math.PI/180,h=150,p=150,f=120,m=h+f*Math.cos(d),g=p+f*Math.sin(d),y=a.find(e=>t>=e.min&&t<=e.max)||a[0],v=e=>{l(!0),e.preventDefault()},b=i.useCallback(e=>{if(!s||!c.current)return;const t=c.current.getBoundingClientRect(),i=e.clientX||e.touches&&e.touches[0].clientX,o=e.clientY||e.touches&&e.touches[0].clientY,a=i-t.left-h,l=o-t.top-p;let u,d=180*Math.atan2(l,a)/Math.PI;if(d<0&&(d+=360),d>=225||d<=135){u=d>=225?d-225:d+135;const e=Math.round(u/270*r);n(Math.max(0,Math.min(r,e)))}},[s,h,p,r,n]),w=i.useCallback(()=>{l(!1)},[]);return i.useEffect(()=>{if(s)return document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w)}},[s,b,w]),(0,Sy.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0",userSelect:"none"},children:[(0,Sy.jsxs)("div",{ref:c,style:{position:"relative",width:"300px",height:"300px",cursor:s?"grabbing":"grab"},onMouseDown:v,onTouchStart:v,children:[(0,Sy.jsxs)("svg",{width:"300",height:"300",style:{position:"absolute"},children:[a.map((e,t)=>{const n=u+e.min/r*270,i=u+e.max/r*270,o=n*Math.PI/180,a=i*Math.PI/180,s=h+f*Math.cos(o),l=p+f*Math.sin(o),c=h+f*Math.cos(a),d=p+f*Math.sin(a),m=i-n>180?1:0;return(0,Sy.jsx)("path",{d:"M ".concat(s," ").concat(l," A ").concat(f," ").concat(f," 0 ").concat(m," 1 ").concat(c," ").concat(d),stroke:e.color,strokeWidth:"20",fill:"none",opacity:.3},t)}),t>0&&(0,Sy.jsx)("path",{d:"M ".concat(h+f*Math.cos(u*Math.PI/180)," ").concat(p+f*Math.sin(u*Math.PI/180)," A ").concat(f," ").concat(f," 0 ").concat(t/r*270>180?1:0," 1 ").concat(m," ").concat(g),stroke:y.color,strokeWidth:"8",fill:"none"})]}),(0,Sy.jsx)("div",{style:{position:"absolute",left:m-15,top:g-15,width:"30px",height:"30px",borderRadius:"50%",backgroundColor:y.color,border:"3px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",cursor:"grab",zIndex:10}}),(0,Sy.jsxs)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center",pointerEvents:"none"},children:[(0,Sy.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:y.color},children:t}),(0,Sy.jsx)("div",{style:{fontSize:"0.9rem",color:"#D1D5DB",marginTop:"4px"},children:o}),(0,Sy.jsx)("div",{style:{fontSize:"0.8rem",color:y.color,marginTop:"8px",fontWeight:"500"},children:y.label})]})]}),(0,Sy.jsx)("div",{style:{display:"flex",gap:"8px",marginTop:"16px",flexWrap:"wrap",justifyContent:"center"},children:a.map((e,r)=>(0,Sy.jsx)("button",{onClick:()=>n(Math.floor((e.min+e.max)/2)),style:{padding:"6px 12px",borderRadius:"20px",border:"2px solid ".concat(e.color),backgroundColor:t>=e.min&&t<=e.max?e.color:"transparent",color:t>=e.min&&t<=e.max?"white":e.color,fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},children:e.label},r))})]})}const UE=function(e){let{onComplete:t}=e;const n=ee(),[r,o]=(0,i.useState)(1),[a,s]=(0,i.useState)({goal:"",raceDistance:"",raceElevationProfile:"",experienceLevel:"",currentRaceTime:"",currentWeeklyMileage:"",currentLongRunDistance:"",runsPerWeek:"",availableDays:[],preferredBikeDays:[],longRunDay:"",hardSessionsPerWeek:"",hardSessionDays:[],startDate:"",raceDate:"",missedWorkoutPreference:"",standUpBikeType:null,runningStatus:"active",location:"",climate:"",trainingStyle:"adventure",trainingPhilosophy:""}),l=(e,t)=>{s(n=>(0,Ce.A)((0,Ce.A)({},n),{},{[e]:t}))},c=e=>!0,u=async()=>{try{if(!a.currentRaceTime)return void alert("Goal race time is required to calculate your training paces. Please select your target race time.");console.log("\ud83d\udd27 Creating training plan service...");const e=new My;console.log("\ud83d\udccb Converting form data to training plan profile...",a);const r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].filter(e=>!a.availableDays.includes(e)),i=a.hardSessionDays;console.log("\ud83d\udd0d User selections:"),console.log("   \ud83d\udcc5 Available training days:",a.availableDays),console.log("   \ud83d\ude34 Rest days:",r),console.log("   \ud83d\udeb4 Cyclete days:",a.preferredBikeDays),console.log("   \ud83d\udcaa Hard session days:",i),console.log("   \ud83c\udfc3 Long run day:",a.longRunDay),console.log("   \ud83d\udccf Current weekly mileage:",parseInt(a.currentWeeklyMileage)||"NOT PROVIDED","miles"),console.log("\ud83d\ude80 Generating training plan with user profile");const o=await e.generatePlanFromOnboarding(a);if(console.log("\u2705 Training plan created successfully"),o&&o.plan)console.log("Generated training plan:",o),t(a,o.plan),n("/dashboard");else{console.error("Failed to generate plan");const e=d(a);t(a,e),n("/dashboard")}}catch(e){console.error("Error in plan generation:",e);const r=d(a);t(a,r),n("/dashboard")}},d=e=>({planOverview:{raceDistance:e.raceDistance,raceDate:e.raceDate,startDate:e.startDate,totalWeeks:e.raceDate&&e.startDate?Math.ceil((new Date(e.raceDate)-new Date(e.startDate))/6048e5):12,runsPerWeek:e.runsPerWeek,standUpBikeType:e.standUpBikeType,location:e.location},weeks:[{week:1,phase:"base",totalMileage:15,workouts:[{day:"Tuesday",type:"tempo",workout:{name:"Sandwich Tempo"},focus:"Lactate Threshold"},{day:"Thursday",type:"easy",workout:{name:"Easy Run"},focus:"Recovery"},{day:"Sunday",type:"longRun",workout:{name:"Conversational Long Run"},focus:"Endurance"}]}]});return(0,Sy.jsx)("div",{style:{minHeight:"100vh",padding:"20px 0"},children:(0,Sy.jsxs)("div",{className:"container",children:[(0,Sy.jsx)("div",{className:"progress-bar",style:{marginBottom:"20px"},children:(0,Sy.jsx)("div",{className:"progress-fill",style:{width:"".concat(r/7*100,"%")}})}),(0,Sy.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,Sy.jsxs)("p",{style:{color:"#E5E7EB",margin:0},children:["Step ",r," of ",7]})}),(0,Sy.jsxs)("div",{className:"card fade-in",children:[function(){switch(r){case 1:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{style:{color:"#FFFFFF",fontWeight:"700",fontSize:"1.75rem",marginBottom:"16px"},children:"Training Goals & Background"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Let's understand your running journey!"})," We'll collect your basic info to create the perfect plan."]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"What's your main training goal?"}),(0,Sy.jsx)("div",{className:"card-grid",children:[{id:"race",name:"Train for a race",icon:"\ud83c\udfc6"},{id:"distance",name:"Run a specific distance",icon:"\ud83d\udccf"},{id:"fitness",name:"General fitness",icon:"\ud83d\udcaa"},{id:"return",name:"Return to running",icon:"\ud83d\udd04"}].map(e=>(0,Sy.jsxs)("div",{className:"equipment-card ".concat(a.goal===e.id?"selected":""),onClick:()=>l("goal",e.id),children:[(0,Sy.jsx)("div",{className:"equipment-icon",children:e.icon}),(0,Sy.jsx)("p",{className:"equipment-name",children:e.name})]},e.id))})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"What distance are you training for?"}),(0,Sy.jsx)("div",{className:"card-grid",children:[{id:"5K",name:"5K",popular:!0},{id:"10K",name:"10K",popular:!0},{id:"Half",name:"Half Marathon",popular:!0},{id:"Marathon",name:"Marathon",popular:!0},{id:"Ultra",name:"Ultra Marathon",badge:"We support 50K+!"},{id:"Custom",name:"Custom Distance",badge:"Any distance!"}].map(e=>(0,Sy.jsxs)("div",{className:"equipment-card ".concat(a.raceDistance===e.id?"selected":""),onClick:()=>l("raceDistance",e.id),children:[(0,Sy.jsx)("p",{className:"equipment-name",children:e.name}),e.popular&&(0,Sy.jsx)("div",{className:"badge badge-success",children:"Popular"}),e.badge&&(0,Sy.jsx)("div",{className:"badge badge-info",children:e.badge})]},e.id))})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"What's the elevation profile of your race?"}),(0,Sy.jsx)("p",{children:"This helps us customize your hill training for your specific race demands!"}),(0,Sy.jsx)("div",{className:"card-grid",children:[{id:"flat",name:"\ud83c\udfd9\ufe0f Flat",desc:"Minimal elevation change",badge:"Speed Focus"},{id:"rolling",name:"\ud83c\udf0a Rolling",desc:"Gentle hills throughout",badge:"Balanced"},{id:"moderate",name:"\u26f0\ufe0f Moderate",desc:"Some significant hills",badge:"Hill Training"},{id:"hilly",name:"\ud83c\udfd4\ufe0f Hilly",desc:"Major elevation challenges",badge:"Power Focus"}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.raceElevationProfile===e.id?"selected":""),onClick:()=>l("raceElevationProfile",e.id),style:{cursor:"pointer",padding:"16px",textAlign:"center"},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"1.1rem"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"0.85rem",color:"#ccc"},children:e.desc}),(0,Sy.jsx)("div",{className:"badge badge-info",style:{fontSize:"0.75rem"},children:e.badge})]},e.id))}),(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Smart Training:"})," We'll adjust your hill workout frequency based on your race profile. Flat races get speed focus, hilly races get power development!"]})})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"How would you rate your running ability?"}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"16px"},children:[{id:"beginner",name:"Beginner",desc:"New to running or returning after a break"},{id:"intermediate",name:"Intermediate",desc:"Running regularly, some race experience"},{id:"advanced",name:"Advanced",desc:"Experienced with structured training"},{id:"elite",name:"Elite",desc:"Competitive athlete with advanced training needs"}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.experienceLevel===e.id?"selected":""),onClick:()=>l("experienceLevel",e.id),style:{cursor:"pointer",padding:"20px"},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 8px 0"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:e.desc})]},e.id))})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"What's your GOAL race time?"}),(0,Sy.jsx)("p",{style:{fontSize:"0.95rem",color:"#D1D5DB",marginBottom:"16px"},children:"\ud83d\udcaa Be ambitious! We'll build your training paces around your target finish time."}),(0,Sy.jsx)("div",{style:{marginBottom:"20px"},children:(0,Sy.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Sy.jsx)("button",{className:"btn ".concat(a.customTimeEntry?"btn-secondary":"btn-primary"),onClick:()=>{l("customTimeEntry",!1),l("currentRaceTime","")},type:"button",children:"\ud83d\udccb Quick Pick"}),(0,Sy.jsx)("button",{className:"btn ".concat(a.customTimeEntry?"btn-primary":"btn-secondary"),onClick:()=>{l("customTimeEntry",!0),l("currentRaceTime","")},type:"button",children:"\u2328\ufe0f Enter My Goal"})]})}),a.customTimeEntry?(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsx)("label",{className:"form-label",children:"Race Distance"}),(0,Sy.jsxs)("select",{className:"form-input form-select",value:a.customRaceDistance||"",onChange:e=>l("customRaceDistance",e.target.value),children:[(0,Sy.jsx)("option",{value:"",children:"Select distance"}),(0,Sy.jsx)("option",{value:"5K",children:"5K"}),(0,Sy.jsx)("option",{value:"10K",children:"10K"}),(0,Sy.jsx)("option",{value:"15K",children:"15K"}),(0,Sy.jsx)("option",{value:"Half",children:"Half Marathon"}),(0,Sy.jsx)("option",{value:"25K",children:"25K"}),(0,Sy.jsx)("option",{value:"30K",children:"30K"}),(0,Sy.jsx)("option",{value:"Marathon",children:"Marathon"}),(0,Sy.jsx)("option",{value:"50K",children:"50K"}),(0,Sy.jsx)("option",{value:"Other",children:"Other Distance"})]})]}),(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsx)("label",{className:"form-label",children:"Your Goal Time (HH:MM:SS or MM:SS)"}),(0,Sy.jsx)("input",{type:"text",className:"form-input",placeholder:"e.g., 1:45:30 or 25:45",value:a.customRaceTime||"",onChange:e=>{l("customRaceTime",e.target.value),a.customRaceDistance&&e.target.value&&l("currentRaceTime","".concat(a.customRaceDistance,"-").concat(e.target.value))}})]})]}):(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsxs)("label",{className:"form-label",children:["Select Your Goal ",a.raceDistance||"Race"," Time"]}),(0,Sy.jsxs)("select",{className:"form-input form-select",value:a.currentRaceTime,onChange:e=>l("currentRaceTime",e.target.value),required:!0,disabled:!a.raceDistance,children:[(0,Sy.jsx)("option",{value:"",children:a.raceDistance?"Select your ".concat(a.raceDistance," goal time"):"Select race distance first"}),"5K"===a.raceDistance&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("option",{value:"5K-15:00",children:"15:00 (Elite)"}),(0,Sy.jsx)("option",{value:"5K-18:00",children:"18:00 (Fast)"}),(0,Sy.jsx)("option",{value:"5K-20:00",children:"20:00 (Strong)"}),(0,Sy.jsx)("option",{value:"5K-22:00",children:"22:00 (Solid)"}),(0,Sy.jsx)("option",{value:"5K-25:00",children:"25:00 (Good)"}),(0,Sy.jsx)("option",{value:"5K-28:00",children:"28:00 (Steady)"}),(0,Sy.jsx)("option",{value:"5K-30:00",children:"30:00 (Building)"}),(0,Sy.jsx)("option",{value:"5K-35:00",children:"35:00 (Developing)"}),(0,Sy.jsx)("option",{value:"5K-40:00",children:"40:00 (Starting)"})]}),"10K"===a.raceDistance&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("option",{value:"10K-32:00",children:"32:00 (Elite)"}),(0,Sy.jsx)("option",{value:"10K-38:00",children:"38:00 (Fast)"}),(0,Sy.jsx)("option",{value:"10K-42:00",children:"42:00 (Strong)"}),(0,Sy.jsx)("option",{value:"10K-45:00",children:"45:00 (Solid)"}),(0,Sy.jsx)("option",{value:"10K-50:00",children:"50:00 (Good)"}),(0,Sy.jsx)("option",{value:"10K-55:00",children:"55:00 (Steady)"}),(0,Sy.jsx)("option",{value:"10K-60:00",children:"60:00 (Building)"}),(0,Sy.jsx)("option",{value:"10K-70:00",children:"70:00 (Developing)"}),(0,Sy.jsx)("option",{value:"10K-80:00",children:"80:00 (Starting)"})]}),"Half"===a.raceDistance&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("option",{value:"Half-1:10:00",children:"1:10:00 (Elite)"}),(0,Sy.jsx)("option",{value:"Half-1:25:00",children:"1:25:00 (Fast)"}),(0,Sy.jsx)("option",{value:"Half-1:35:00",children:"1:35:00 (Strong)"}),(0,Sy.jsx)("option",{value:"Half-1:45:00",children:"1:45:00 (Solid)"}),(0,Sy.jsx)("option",{value:"Half-2:00:00",children:"2:00:00 (Good)"}),(0,Sy.jsx)("option",{value:"Half-2:15:00",children:"2:15:00 (Steady)"}),(0,Sy.jsx)("option",{value:"Half-2:30:00",children:"2:30:00 (Building)"}),(0,Sy.jsx)("option",{value:"Half-2:45:00",children:"2:45:00 (Developing)"}),(0,Sy.jsx)("option",{value:"Half-3:00:00",children:"3:00:00 (Starting)"})]}),"Marathon"===a.raceDistance&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("option",{value:"Marathon-2:30:00",children:"2:30:00 (Elite)"}),(0,Sy.jsx)("option",{value:"Marathon-3:00:00",children:"3:00:00 (Fast)"}),(0,Sy.jsx)("option",{value:"Marathon-3:30:00",children:"3:30:00 (Strong)"}),(0,Sy.jsx)("option",{value:"Marathon-4:00:00",children:"4:00:00 (Solid)"}),(0,Sy.jsx)("option",{value:"Marathon-4:30:00",children:"4:30:00 (Good)"}),(0,Sy.jsx)("option",{value:"Marathon-5:00:00",children:"5:00:00 (Steady)"}),(0,Sy.jsx)("option",{value:"Marathon-5:30:00",children:"5:30:00 (Building)"}),(0,Sy.jsx)("option",{value:"Marathon-6:00:00",children:"6:00:00 (Developing)"}),(0,Sy.jsx)("option",{value:"Marathon-6:30:00",children:"6:30:00 (Starting)"})]})]}),!a.raceDistance&&(0,Sy.jsx)("p",{style:{fontSize:"0.85rem",color:"#FFB366",marginTop:"8px"},children:"\u2b06\ufe0f Please select your race distance first"})]}),a.currentRaceTime&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Goal set!"})," All your training paces will be calculated to help you achieve this time.",(0,Sy.jsx)("br",{}),(0,Sy.jsx)("span",{style:{fontSize:"0.85rem",color:"#D1D5DB"},children:"\ud83d\udca1 Workouts feeling too hard? You can always adjust your goal later!"})]})})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px",marginTop:"40px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Current Training Assessment"}),(0,Sy.jsx)("p",{children:"Tell us about your current training so we can create a safe, progressive plan."}),(0,Sy.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Sy.jsx)("h4",{style:{color:"#F8F9FA",fontWeight:"600",fontSize:"1.1rem",marginBottom:"10px"},children:"What's your current weekly mileage?"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:"0 0 24px 0",color:"#ccc"},children:"Include all running and running-equivalent activities (cycling at 3:1 ratio, elliptical at 2:1)"}),(0,Sy.jsx)(WE,{value:parseInt(a.currentWeeklyMileage)||0,onChange:e=>l("currentWeeklyMileage",e.toString()),maxValue:80,unit:"miles/week",zones:[{min:0,max:10,label:"Building Base",color:"#4CAF50"},{min:11,max:25,label:"Light Base",color:"#2196F3"},{min:26,max:40,label:"Solid Base",color:"#FF9800"},{min:41,max:60,label:"High Volume",color:"#F44336"},{min:61,max:80,label:"Elite Volume",color:"#9C27B0"}]})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h4",{style:{color:"#F8F9FA",fontWeight:"600",fontSize:"1.1rem",marginBottom:"10px"},children:"What's your current long run distance?"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:"0 0 24px 0",color:"#ccc"},children:"Your longest single run in the past 4 weeks"}),(0,Sy.jsx)(WE,{value:parseInt(a.currentLongRunDistance)||0,onChange:e=>l("currentLongRunDistance",e.toString()),maxValue:26,unit:"miles",zones:[{min:0,max:3,label:"Building Base",color:"#4CAF50"},{min:4,max:8,label:"5K-10K Ready",color:"#2196F3"},{min:9,max:13,label:"Half Base",color:"#FF9800"},{min:14,max:18,label:"Strong Endurance",color:"#F44336"},{min:19,max:26,label:"Marathon Ready",color:"#9C27B0"}]})]})]})]});case 2:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{style:{color:"#FFFFFF",fontWeight:"700",fontSize:"1.75rem",marginBottom:"16px"},children:"Training Schedule & Frequency"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\uddd3\ufe0f Let's plan your training week!"})," Tell us about your schedule and preferences."]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"How many days per week would you like to train?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\ude80 Unlike other apps, we don't restrict your choices!"})," Pick what works for your schedule."]}),(0,Sy.jsx)("div",{className:"card-grid",children:[{days:3,desc:"Minimal time commitment",good:"Busy schedules, recovery focus",recommended:"beginner"===a.experienceLevel},{days:4,desc:"Balanced approach",good:"Most popular, sustainable",recommended:"intermediate"===a.experienceLevel},{days:5,desc:"Serious training",good:"Race goals, fitness gains",recommended:"advanced"===a.experienceLevel},{days:6,desc:"High volume",good:"Perfect for stand-up bike integration",recommended:!1},{days:7,desc:"Maximum frequency",good:"Elite athletes, varied intensities",recommended:"elite"===a.experienceLevel}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.runsPerWeek===e.days?"selected":""),onClick:()=>l("runsPerWeek",e.days),style:{cursor:"pointer",textAlign:"center"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",marginBottom:"6px"},children:[(0,Sy.jsx)("h4",{style:{fontSize:"1.4rem",margin:0,color:"#00D4FF"},children:e.days}),e.recommended&&(0,Sy.jsx)("span",{style:{fontSize:"0.8rem"},children:"\u2b50"})]}),(0,Sy.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:"600"},children:e.desc}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.8rem",color:"#D1D5DB"},children:["Good for: ",e.good]}),e.recommended&&(0,Sy.jsxs)("div",{className:"badge badge-success",style:{marginTop:"8px"},children:["Recommended for ","advanced"===a.experienceLevel?"advanced runners":"".concat(a.experienceLevel," runners")]})]},e.days))})]}),a.runsPerWeek&&(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Which days are you available to train?"}),(0,Sy.jsxs)("p",{children:["Select ",a.runsPerWeek," days that work best for your schedule."]}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",maxWidth:"500px",margin:"0 auto"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>{const t=a.availableDays.includes(e),n=a.availableDays.length>=a.runsPerWeek,r=!t&&n;return(0,Sy.jsxs)("div",{className:"equipment-card ".concat(t?"selected":""," ").concat(r?"disabled":""),onClick:()=>{if(a.availableDays.includes(e)){const t=a.availableDays.filter(t=>t!==e);l("availableDays",t)}else if(a.availableDays.length<a.runsPerWeek){const t=[...a.availableDays,e];l("availableDays",t)}},style:{opacity:r?.4:1,cursor:r?"not-allowed":"pointer"},children:[(0,Sy.jsx)("p",{className:"equipment-name",children:e}),r&&(0,Sy.jsx)("span",{style:{fontSize:"0.7rem",color:"#D1D5DB"},children:"Limit reached"})]},e)})}),(0,Sy.jsx)("div",{className:"card",style:{background:a.availableDays.length===a.runsPerWeek?"rgba(0, 255, 136, 0.1)":"rgba(255, 184, 0, 0.1)",border:a.availableDays.length===a.runsPerWeek?"1px solid rgba(0, 255, 136, 0.3)":"1px solid rgba(255, 184, 0, 0.3)",marginTop:"16px"},children:(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:a.availableDays.length===a.runsPerWeek?"\u2705 Perfect! Selected all ".concat(a.runsPerWeek," training days."):"Selected: ".concat(a.availableDays.length,"/").concat(a.runsPerWeek," days ").concat(a.availableDays.length<a.runsPerWeek?"(select more)":"")})})]}),a.availableDays.length===a.runsPerWeek&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Which day do you prefer for your long run?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfc3\u200d\u2642\ufe0f Personal preference matters!"})," Pick the day that works best for your schedule."]}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",maxWidth:"500px",margin:"0 auto"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].filter(e=>a.availableDays.includes(e)).map(e=>(0,Sy.jsxs)("div",{className:"equipment-card ".concat(a.longRunDay===e?"selected":""),onClick:()=>l("longRunDay",e),children:[(0,Sy.jsx)("p",{className:"equipment-name",children:e}),("Saturday"===e||"Sunday"===e)&&(0,Sy.jsx)("div",{className:"badge badge-success",style:{marginTop:"4px",fontSize:"0.7rem"},children:"Popular choice"})]},e))}),a.longRunDay&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Great choice!"})," Your long runs will be scheduled on ",a.longRunDay,"s."]})})]}),a.longRunDay&&(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Let's talk about your hard sessions!"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfc3\u200d\u2642\ufe0f Coach's question:"})," In addition to your long run, how many hard sessions (speed, tempo, hills) would you like per week?"]}),(0,Sy.jsx)("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[1,2].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.hardSessionsPerWeek===e?"selected":""),onClick:()=>l("hardSessionsPerWeek",e),style:{cursor:"pointer",textAlign:"center",minWidth:"120px"},children:[(0,Sy.jsx)("h4",{style:{fontSize:"2rem",margin:"0 0 8px 0",color:"#00D4FF"},children:e}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:1===e?"One hard session":"Two hard sessions"}),(0,Sy.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"#D1D5DB"},children:1===e?"Focus & recovery":"Balanced training"})]},e))}),a.hardSessionsPerWeek&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Perfect!"})," You'll get ",a.hardSessionsPerWeek," quality ",1===a.hardSessionsPerWeek?"session":"sessions"," per week, plus your long run for a total of ",a.hardSessionsPerWeek+1," focused training days."]})})]}),a.hardSessionsPerWeek&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"What days do you want your hard sessions?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\udcaa Your preference matters!"})," Pick the days that work best for your energy and schedule."]}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",maxWidth:"500px",margin:"0 auto"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].filter(e=>a.availableDays.includes(e)&&e!==a.longRunDay).map(e=>{const t=a.hardSessionDays.includes(e),n=a.hardSessionDays.length>=a.hardSessionsPerWeek,r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].indexOf(e),i=a.hardSessionDays.some(e=>{const t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].indexOf(e);return 1===Math.abs(r-t)}),o=!t&&n||!t&&i,s=!t&&i?"Hard sessions need recovery days between them":null;return(0,Sy.jsxs)("div",{className:"equipment-card ".concat(t?"selected":""," ").concat(o?"disabled":""),onClick:()=>{if(a.hardSessionDays.includes(e)){const t=a.hardSessionDays.filter(t=>t!==e);l("hardSessionDays",t)}else if(a.hardSessionDays.length<a.hardSessionsPerWeek&&!i){const t=[...a.hardSessionDays,e];l("hardSessionDays",t)}},style:{opacity:o?.4:1,cursor:o?"not-allowed":"pointer",position:"relative"},title:s||"",children:[(0,Sy.jsx)("p",{className:"equipment-name",children:e}),s&&(0,Sy.jsx)("div",{style:{position:"absolute",bottom:"2px",left:"50%",transform:"translateX(-50%)",fontSize:"0.65rem",color:"#FF6B6B",textAlign:"center",lineHeight:"1.1",whiteSpace:"nowrap"},children:"\u26a0\ufe0f Need recovery"}),o&&!s&&(0,Sy.jsx)("span",{style:{fontSize:"0.7rem",color:"#D1D5DB"},children:"Limit reached"})]},e)})}),(0,Sy.jsx)("div",{className:"card",style:{background:a.hardSessionDays.length===a.hardSessionsPerWeek?"rgba(0, 255, 136, 0.1)":"rgba(255, 184, 0, 0.1)",border:a.hardSessionDays.length===a.hardSessionsPerWeek?"1px solid rgba(0, 255, 136, 0.3)":"1px solid rgba(255, 184, 0, 0.3)",marginTop:"16px"},children:(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:a.hardSessionDays.length===a.hardSessionsPerWeek?"\u2705 Excellent! Your hard sessions will be on ".concat(a.hardSessionDays.join(" and "),", with your long run on ").concat(a.longRunDay,"."):"Selected: ".concat(a.hardSessionDays.length,"/").concat(a.hardSessionsPerWeek," hard session days ").concat(a.hardSessionDays.length<a.hardSessionsPerWeek?"(select more)":"")})}),a.hardSessionDays.length===a.hardSessionsPerWeek&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)",marginTop:"8px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Smart scheduling!"})," This gives you proper recovery between hard efforts and sets you up for training success."]})})]})]});case 3:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{style:{color:"#FFFFFF",fontWeight:"700",fontSize:"1.75rem",marginBottom:"16px"},children:"Training Dates"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\udcc5 Real dates, real planning!"})," Unlike other apps, we give you actual calendar dates."]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"When would you like to start training?"}),(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsx)("label",{className:"form-label",children:"Start Date"}),(0,Sy.jsx)(BE,{selected:a.startDate?new Date(a.startDate+"T00:00:00"):null,onChange:e=>{if(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");l("startDate","".concat(t,"-").concat(n,"-").concat(r))}else l("startDate","")},minDate:new Date,placeholder:"Select your training start date"})]}),a.startDate&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Perfect!"})," Your training will begin on ",new Date(a.startDate+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),".",(0,Sy.jsx)("br",{}),"We'll schedule workouts on your selected days starting from this date."]})})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"When is your race?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfc1 Goal-oriented training!"})," We'll work backwards from your race date to optimize your preparation."]}),(0,Sy.jsxs)("div",{className:"form-group",style:{marginBottom:"24px"},children:[(0,Sy.jsx)("label",{className:"form-label",children:"Race Date"}),(0,Sy.jsx)(BE,{selected:a.raceDate?new Date(a.raceDate+"T00:00:00"):null,onChange:e=>{if(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");l("raceDate","".concat(t,"-").concat(n,"-").concat(r))}else l("raceDate","")},minDate:a.startDate?new Date(a.startDate+"T00:00:00"):new Date,placeholder:"Select your race date"})]}),(0,Sy.jsx)("div",{style:{minHeight:"120px",marginTop:"16px"},children:a.raceDate&&a.startDate&&(()=>{const e=Math.ceil((new Date(a.raceDate)-new Date(a.startDate))/6048e5),t=a.raceDistance,n={"5K":6,"10K":8,Half:10,Marathon:12}[t]||12,r={"5K":8,"10K":10,Half:12,Marathon:16}[t]||16;let i,o;return e<n?(i={background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.5)"},o=(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("strong",{children:"\u26a0\ufe0f That's quite ambitious!"})," Your race is on ",new Date(a.raceDate+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),".",(0,Sy.jsx)("br",{}),"With only ",e," weeks, you'll need an aggressive plan. Most coaches recommend at least ",n," weeks for a ",t,".",(0,Sy.jsx)("br",{}),(0,Sy.jsx)("em",{style:{color:"#FFB366"},children:"\ud83d\udca1 Consider moving your start date earlier or choosing a later race for safer preparation."})]})):e<r?(i={background:"rgba(255, 179, 102, 0.1)",border:"1px solid rgba(255, 179, 102, 0.5)"},o=(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("strong",{children:"\ud83d\udcaa Challenging timeline!"})," Your race is on ",new Date(a.raceDate+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),".",(0,Sy.jsx)("br",{}),"With ",e," weeks, it's doable but you'll need to stay consistent. Most coaches prefer ",r," weeks for optimal ",t," preparation."]})):(i={background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)"},o=(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Perfect timeline!"})," Your race is on ",new Date(a.raceDate+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),".",(0,Sy.jsx)("br",{}),"With ",e," weeks to prepare, you'll have time for proper base building and peak training!"]})),(0,Sy.jsx)("div",{className:"card",style:i,children:(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:o})})})()}),(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83d\udca1 Pro tip:"})," Don't have a specific race yet? Pick a target date 12-16 weeks out - you can always adjust later!"]})})]})]});case 4:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{style:{color:"#FFFFFF",fontWeight:"700",fontSize:"1.75rem",marginBottom:"16px"},children:"Equipment & Training Preferences"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\ude80 Unique to Run+ Plans!"})," We're the only app with equipment-specific training."]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Do you have any stand-up bikes?"}),(0,Sy.jsx)("div",{className:"equipment-grid",children:[{id:"cyclete",name:"Cyclete",desc:"Teardrop motion, excellent for distance training",badge:"Running-like motion"},{id:"elliptigo",name:"ElliptiGO",desc:"Elliptical motion, great for full-body workouts",badge:"Full body engagement"},{id:null,name:"Neither",desc:"Pure running training with basic cross-training options",badge:"Traditional approach"}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.standUpBikeType===e.id?"selected":""),onClick:()=>l("standUpBikeType",e.id),style:{cursor:"pointer",textAlign:"center",display:"flex",flexDirection:"column",minHeight:"140px"},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 12px 0",color:"var(--runeq-primary)",fontSize:"1.2rem",minHeight:"28px"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",flex:"1",minHeight:"40px"},children:e.desc}),(0,Sy.jsx)("div",{className:"badge badge-info",style:{alignSelf:"center"},children:e.badge})]},e.id||"none"))}),a.standUpBikeType&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Great choice!"})," You'll get ",LE(a.standUpBikeType),"-specific workouts with motion-optimized training and equipment-specific conversion factors."]})})]}),a.standUpBikeType&&(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.3rem",marginBottom:"12px"},children:"Can you run right now?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfe5 We support injured runners too!"})," Tell us about your current running status."]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:[{id:"active",name:"Yes - I can run",icon:"\ud83c\udfc3",desc:"Mix running with stand-up bike cross-training"},{id:"bikeOnly",name:"No - Bike only for now",icon:"\ud83d\udeb4",desc:"Injured or transitioning - bike workouts only until ready to run"},{id:"transitioning",name:"Transitioning back",icon:"\ud83d\udd04",desc:"Returning from injury - gradually add running to bike base"}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.runningStatus===e.id?"selected":""),onClick:()=>l("runningStatus",e.id),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"16px",padding:"16px"},children:[(0,Sy.jsx)("div",{style:{fontSize:"1.5rem"},children:e.icon}),(0,Sy.jsxs)("div",{style:{flex:1},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 4px 0"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#D1D5DB"},children:e.desc})]})]},e.id))}),"bikeOnly"===a.runningStatus&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83d\udcaa Perfect for injury recovery!"})," You'll get a complete ",LE(a.standUpBikeType)," training plan with tempo rides, intervals, long rides, and recovery days - all the training stimulus without the impact stress. When you're ready to run again, just update your profile!"]})}),"transitioning"===a.runningStatus&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(255, 179, 102, 0.1)",border:"1px solid rgba(255, 179, 102, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83d\udd04 Smart transition approach!"})," We'll start with mostly ",LE(a.standUpBikeType)," training and gradually reintroduce running over the first 4 weeks. This gives your body time to adapt safely."]})}),"active"===a.runningStatus&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Best of both worlds!"})," You'll get a mix of running and ",LE(a.standUpBikeType)," training for maximum aerobic development with reduced impact stress."]})})]}),a.standUpBikeType&&"bikeOnly"!==a.runningStatus&&a.availableDays.length>0&&(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsxs)("h3",{children:["Which days do you prefer for ",LE(a.standUpBikeType)," rides?"]}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\udeb4\u200d\u2642\ufe0f Smart scheduling!"})," Perfect for road closures, traffic patterns, or personal preference."]}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",maxWidth:"500px",margin:"0 auto"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,Sy.jsx)("div",{className:"equipment-card ".concat(a.preferredBikeDays.includes(e)?"selected":""," ").concat(a.availableDays.includes(e)?"":"disabled"),onClick:()=>{if(!a.availableDays.includes(e))return;const t=a.preferredBikeDays.includes(e)?a.preferredBikeDays.filter(t=>t!==e):[...a.preferredBikeDays,e];l("preferredBikeDays",t)},style:{opacity:a.availableDays.includes(e)?1:.3,cursor:a.availableDays.includes(e)?"pointer":"not-allowed"},children:(0,Sy.jsxs)("p",{className:"equipment-name",children:[e,!a.availableDays.includes(e)&&(0,Sy.jsx)("span",{style:{fontSize:"0.7rem",display:"block"},children:"(Not available)"})]})},e))}),a.preferredBikeDays.length>0&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Perfect!"})," Selected ",a.preferredBikeDays.length," ",LE(a.standUpBikeType)," days: ",a.preferredBikeDays.join(", ")]})})]})]});case 5:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{children:"Training Philosophy & Missed Workout Handling"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udfaf Let's customize your training approach!"})," We'll adapt to your philosophy and real life."]}),(0,Sy.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Sy.jsx)("h3",{children:"What happens when you miss a workout?"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83d\udd25 This is where other apps fail!"})," We adapt to your real life."]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:[{id:"reschedule",name:"Reschedule it",desc:"Move the workout to another day this week",icon:"\ud83d\udd04"},{id:"modify",name:"Modify the plan",desc:"Adjust upcoming workouts to keep me on track",icon:"\u26a1"},{id:"skip",name:"Skip and continue",desc:"Move on with the original schedule",icon:"\u23ed\ufe0f"}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.missedWorkoutPreference===e.id?"selected":""),onClick:()=>l("missedWorkoutPreference",e.id),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[(0,Sy.jsx)("div",{style:{fontSize:"1.5rem"},children:e.icon}),(0,Sy.jsxs)("div",{style:{flex:1},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 4px 0"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:e.desc})]})]},e.id))})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:"600",fontSize:"1.5rem",marginBottom:"12px"},children:"Choose Your Training System"}),(0,Sy.jsxs)("p",{style:{color:"#E5E7EB",fontSize:"1rem"},children:[(0,Sy.jsx)("strong",{style:{color:"#F8F9FA"},children:"\ud83c\udfaf Run+ Plans Advantage:"})," Multiple proven methodologies coming soon!"]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:[{id:"practical_periodization",name:"Real World Training",desc:"Life-first approach with clear phases and injury prevention focus",good:"Perfect for busy runners, proven results, real-world flexibility",icon:"\ud83c\udfe0",available:!0},{id:"80_20",name:"80/20 Training",desc:"80% easy running, 20% hard - sustainable approach",good:"Injury prevention, long-term development, elite-proven",icon:"\ud83d\udee1\ufe0f",available:!1},{id:"zone_based",name:"Zone-Based Training",desc:"Scientific approach using 5 intensity zones and pace targets",good:"Precise, data-driven, works for all distances",icon:"\ud83d\udd2c",available:!1},{id:"high_mileage",name:"High Mileage System",desc:"Build endurance through volume and strength runs",good:"Marathon-focused, builds durability and speed",icon:"\ud83d\udcaa",available:!1},{id:"time_trial",name:"Fitness Test Driven",desc:"Monthly time trials guide all your training paces",good:"Real-time fitness tracking, highly responsive",icon:"\ud83c\udfaf",available:!1}].map(e=>(0,Sy.jsxs)("div",{className:"card ".concat(a.trainingPhilosophy===e.id?"selected":""),onClick:()=>e.available&&l("trainingPhilosophy",e.id),style:{cursor:e.available?"pointer":"not-allowed",padding:"20px",opacity:e.available?1:.6,position:"relative"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:e.icon}),(0,Sy.jsx)("h4",{style:{margin:0,color:"#FFFFFF",fontWeight:"600"},children:e.name}),!e.available&&(0,Sy.jsx)("div",{style:{marginLeft:"auto",padding:"4px 8px",background:"rgba(255, 179, 102, 0.2)",border:"1px solid rgba(255, 179, 102, 0.4)",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"600",color:"#FFB366"},children:"\ud83d\ude80 Coming Soon"})]}),(0,Sy.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"#E5E7EB"},children:e.desc}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.8rem",color:"#D1D5DB"},children:[(0,Sy.jsx)("strong",{style:{color:"#F8F9FA"},children:"Good for:"})," ",e.good]})]},e.id))})]})]});case 6:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{children:"Location & Climate"}),(0,Sy.jsxs)("p",{children:[(0,Sy.jsx)("strong",{children:"\ud83c\udf21\ufe0f Climate-smart training!"})," We adjust paces for your local conditions."]}),(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsxs)("label",{className:"form-label",children:["City, State/Country ",(0,Sy.jsx)("span",{style:{color:"#D1D5DB",fontWeight:"400"},children:"(optional)"})]}),(0,Sy.jsx)("input",{type:"text",className:"form-input",placeholder:"e.g., Darwin, Australia or Phoenix, Arizona",value:a.location,onChange:e=>l("location",e.target.value)})]}),(0,Sy.jsxs)("div",{className:"form-group",children:[(0,Sy.jsx)("label",{className:"form-label",children:"Climate Type"}),(0,Sy.jsxs)("select",{className:"form-input form-select",value:a.climate,onChange:e=>l("climate",e.target.value),children:[(0,Sy.jsx)("option",{value:"",children:"Select your climate"}),(0,Sy.jsx)("option",{value:"temperate",children:"Temperate (mild seasons)"}),(0,Sy.jsx)("option",{value:"hot_dry",children:"Hot & Dry (desert-like)"}),(0,Sy.jsx)("option",{value:"hot_humid",children:"Hot & Humid (tropical/subtropical)"}),(0,Sy.jsx)("option",{value:"cold",children:"Cold (long winters)"}),(0,Sy.jsx)("option",{value:"variable",children:"Variable (extreme seasons)"})]})]}),a.climate&&(0,Sy.jsxs)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)",marginTop:"16px"},children:[(0,Sy.jsxs)("h4",{style:{margin:"0 0 8px 0",color:"#FFFFFF",fontWeight:"600"},children:["temperate"===a.climate&&"\ud83c\udf24\ufe0f Temperate Climate Adjustments","hot_dry"===a.climate&&"\ud83c\udfdc\ufe0f Hot & Dry Climate Adjustments","hot_humid"===a.climate&&"\ud83c\udf34 Hot & Humid Climate Adjustments","cold"===a.climate&&"\u2744\ufe0f Cold Climate Adjustments","variable"===a.climate&&"\ud83c\udf26\ufe0f Variable Climate Adjustments"]}),(0,Sy.jsxs)("div",{style:{fontSize:"0.9rem",color:"#E5E7EB"},children:["temperate"===a.climate&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Seasonal pace adjustments"})," for spring/summer heat and winter cold"]}),(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Moderate hydration guidance"})," during warmer months"]}),(0,Sy.jsxs)("p",{style:{margin:0},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Gear recommendations"})," for changing conditions"]})]}),"hot_dry"===a.climate&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Aggressive pace reductions"})," during peak heat hours (10am-4pm)"]}),(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Enhanced hydration protocols"})," with electrolyte guidance"]}),(0,Sy.jsxs)("p",{style:{margin:0},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Early morning scheduling"})," to avoid dangerous temperatures"]})]}),"hot_humid"===a.climate&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Heat index calculations"})," - humidity makes 80\xb0F feel like 95\xb0F"]}),(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Sweat rate adjustments"})," for reduced cooling efficiency"]}),(0,Sy.jsxs)("p",{style:{margin:0},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Recovery-focused pacing"})," to prevent heat exhaustion"]})]}),"cold"===a.climate&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Extended warm-up protocols"})," for muscle activation"]}),(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Layering strategies"})," for temperature regulation"]}),(0,Sy.jsxs)("p",{style:{margin:0},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Ice/snow safety"})," adjustments for footing and pace"]})]}),"variable"===a.climate&&(0,Sy.jsxs)(Sy.Fragment,{children:[(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Adaptive training plans"})," that flex with seasonal extremes"]}),(0,Sy.jsxs)("p",{style:{margin:"0 0 8px 0"},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Multi-season gear guidance"})," for year-round training"]}),(0,Sy.jsxs)("p",{style:{margin:0},children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Weather-based workout swaps"})," when conditions are unsafe"]})]})]})]}),!a.climate&&(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem",color:"#E5E7EB"},children:[(0,Sy.jsx)("strong",{children:"\ud83d\udca1 Why this matters:"}),' A runner in Darwin, Australia complained that other apps gave "ridiculous paces" for tropical heat. We automatically adjust for your climate!']})})]});case 7:return(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{children:"\ud83c\udf89 Your Personalized Plan is Ready!"}),(0,Sy.jsx)("p",{children:"Based on your preferences, here's what makes your plan unique:"}),(0,Sy.jsxs)("div",{className:"card",style:{background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)"},children:[(0,Sy.jsx)("h3",{children:"Your Run+ Plans Profile"}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"12px",textAlign:"left"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Goal:"})," ",a.raceDistance," race training"]}),a.raceElevationProfile&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Race Profile:"})," ",a.raceElevationProfile.charAt(0).toUpperCase()+a.raceElevationProfile.slice(1)," course"]}),a.raceDate&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Race Date:"})," ",new Date(a.raceDate+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),a.startDate&&a.raceDate&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Training Duration:"})," ",Math.ceil((new Date(a.raceDate)-new Date(a.startDate))/6048e5)," weeks"]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Experience:"})," ",a.experienceLevel]}),a.currentWeeklyMileage&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Current weekly mileage:"})," ",a.currentWeeklyMileage," miles"]}),a.currentLongRunDistance&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Current long run:"})," ",a.currentLongRunDistance," miles"]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Schedule:"})," ",a.runsPerWeek," days/week"]}),a.hardSessionsPerWeek&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Hard Sessions:"})," ",a.hardSessionsPerWeek," per week",a.hardSessionDays.length>0?" (".concat(a.hardSessionDays.join(", "),")"):""]}),a.standUpBikeType&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Equipment:"})," ",LE(a.standUpBikeType)," specific workouts"]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Climate:"})," ",a.climate," adapted paces"]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Philosophy:"})," ",a.trainingPhilosophy.replace("_","/")," approach"]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{children:"Missed workouts:"})," ",a.missedWorkoutPreference]})]})]}),(0,Sy.jsxs)("div",{className:"card",style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)"},children:[(0,Sy.jsx)("h3",{children:"\ud83d\ude80 What You Get"}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"8px",textAlign:"left"},children:[(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"80+ workout varieties"})," vs repetitive formats"]}),(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Climate-adjusted paces"})," for your location"]}),(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Equipment-specific training"})," for your gear"]}),(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Flexible schedule"})," that adapts to missed workouts"]}),(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Cross-platform access"})," - phone, tablet, web"]}),(0,Sy.jsxs)("div",{children:["\u2713 ",(0,Sy.jsx)("strong",{children:"Smart workout substitution"})," that counts properly"]})]})]}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",color:"#E5E7EB"},children:'Click "Create My Plan" to see your complete training plan preview - no payment required!'})]});default:return(0,Sy.jsx)("div",{children:"Step not found"})}}(),(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"32px",gap:"16px"},children:[r>1&&(0,Sy.jsx)("button",{className:"btn btn-secondary",onClick:()=>{const e=(e=>{let t=e-1;for(;t>=1&&!c();)t--;return t})(r);e>=1&&(o(e),window.scrollTo({top:0,behavior:"smooth"}))},children:"\u2190 Back"}),(0,Sy.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=(e=>{let t=e+1;for(;t<=7&&!c();)t++;return t})(r);e<=7?(o(e),window.scrollTo({top:0,behavior:"smooth"})):u()},style:{marginLeft:"auto"},children:7===r?"\ud83c\udf89 Create My Plan":"Continue \u2192"})]})]})]})})};const zE=function(e){let{userProfile:t,trainingPlan:n}=e;const r=ee(),i=(0,Ce.A)((0,Ce.A)({},n),{},{weeks:[{week:1,phase:"base",totalMileage:15,isRestWeek:!1,workouts:[{day:"Monday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Tuesday",type:"tempo",workout:{name:"Sandwich Tempo",description:"Tempo effort sandwiched between easy running"},focus:"Lactate Threshold",equipmentSpecific:!1},{day:"Wednesday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Thursday",type:"easy",workout:{name:"Easy Run",description:"Conversational pace, aerobic base building"},focus:"Recovery"},{day:"Friday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Saturday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Sunday",type:"longRun",workout:{name:"Conversational Long Run",description:"Easy long run emphasizing conversational pace"},focus:"Endurance"}]},{week:2,phase:"base",totalMileage:18,isRestWeek:!1,workouts:[{day:"Monday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Tuesday",type:"hills",workout:{name:"Long Hill Progression",description:"Build power on sustained grades"},focus:"Power & Strength"},{day:"Wednesday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Thursday",type:"tempo",workout:{name:"Classic Tempo Run",description:"Continuous run at lactate threshold pace"},focus:"Lactate Threshold"},{day:"Friday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Saturday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Sunday",type:"longRun",workout:{name:"Thirds Progression",description:"Equal time segments with increasing intensity"},focus:"Endurance"}]},{week:5,phase:"build",totalMileage:25,isRestWeek:!1,workouts:[{day:"Monday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Tuesday",type:"intervals",workout:{name:"1000m VO2 Max Intervals",description:"Classic VO2 max development intervals"},focus:"VO2 Max & Speed"},{day:"Wednesday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Thursday",type:"tempo",workout:{name:"McMillan 2x2 Miles",description:"Two 2-mile repeats at threshold pace"},focus:"Lactate Threshold"},{day:"Friday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Saturday",type:"rest",workout:{name:"Rest Day"},focus:"Recovery"},{day:"Sunday",type:"longRun",workout:{name:"Marathon Pace Long Run",description:"Extended time at goal marathon pace"},focus:"Endurance"}]}],varietyShowcase:["Sandwich Tempo","Long Hill Progression","Classic Tempo Run","Conversational Long Run","Thirds Progression","1000m VO2 Max Intervals","McMillan 2x2 Miles","Marathon Pace Long Run","Hill Strides","Cruise Intervals","Super Fast Finish","Tempo Hills","Ladder Intervals","DUSA Progression","Cut-Down Intervals","Progressive Build Session"]});t.standUpBikeType&&(i.weeks[0].workouts[1]=(0,Ce.A)((0,Ce.A)({},i.weeks[0].workouts[1]),{},{workout:{name:"Progressive Build Session",description:"".concat(t.standUpBikeType,"-specific teardrop/elliptical motion workout")},equipmentSpecific:!0}));const o=e=>({tempo:"#4299e1",intervals:"#e53e3e",hills:"#38a169",longRun:"#805ad5",easy:"#718096",rest:"#a0aec0"}[e]||"#718096");return(0,Sy.jsxs)("div",{style:{minHeight:"100vh",paddingBottom:"40px"},children:[(0,Sy.jsx)("div",{style:{color:"#AAAAAA",padding:"30px 0"},children:(0,Sy.jsxs)("div",{className:"container",children:[(0,Sy.jsx)("h1",{style:{margin:"0 0 16px 0"},children:"\ud83c\udf89 Your RunEQ Plan Preview"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1.1rem",opacity:.9},children:"See how we've personalized training for your goals and equipment"})]})}),(0,Sy.jsxs)("div",{className:"container",style:{padding:"20px 16px"},children:[(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Sy.jsx)("div",{className:"card-header",children:(0,Sy.jsx)("h2",{style:{margin:0},children:"Your Personalized Plan"})}),(0,Sy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",margin:"0 0 8px 0"},children:"Goal"}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600"},children:[n.planOverview.raceDistance," Training"]})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",margin:"0 0 8px 0"},children:"Duration"}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600"},children:[n.planOverview.totalWeeks," weeks"]})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",margin:"0 0 8px 0"},children:"Training Days"}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600"},children:[n.planOverview.runsPerWeek," days/week"]})]}),t.standUpBikeType&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",margin:"0 0 8px 0"},children:"Equipment"}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600"},children:[t.standUpBikeType," optimized",(0,Sy.jsx)("span",{className:"badge badge-success",style:{marginLeft:"8px"},children:"Unique!"})]})]})]})]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px",background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88"},children:"\ud83d\ude80 Why Your Plan is Superior"}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Climate adapted:"})," Paces adjusted for ",t.climate," conditions"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Workout variety:"})," ",i.varietyShowcase.length,"+ different workouts vs repetitive formats"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Life flexible:"})," ",t.missedWorkoutPreference," approach to missed workouts"]})]}),t.standUpBikeType&&(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Equipment specific:"})," ",t.standUpBikeType," motion-optimized workouts"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Philosophy aligned:"})," ",t.trainingPhilosophy.replace("_","/")," training approach"]})]})]})]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Sy.jsxs)("div",{className:"card-header",children:[(0,Sy.jsx)("h2",{style:{margin:0},children:"Sample Training Weeks"}),(0,Sy.jsx)("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"See how varied and intelligent your workouts are"})]}),i.weeks.map((e,n)=>(0,Sy.jsxs)("div",{style:{marginBottom:n<i.weeks.length-1?"32px":0},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,Sy.jsxs)("h3",{style:{margin:0,color:"#AAAAAA"},children:["Week ",e.week," - ",e.phase.toUpperCase()," Phase"]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Sy.jsxs)("span",{className:"badge badge-info",children:[e.totalMileage," miles"]}),e.isRestWeek&&(0,Sy.jsx)("span",{className:"badge badge-warning",children:"Recovery Week"})]})]}),(0,Sy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"12px"},children:e.workouts.filter(e=>"rest"!==e.type).map(e=>(0,Sy.jsxs)("div",{className:"card",style:{background:e.equipmentSpecific?"rgba(0, 212, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:"2px solid ".concat(o(e.type),"20"),borderLeft:"4px solid ".concat(o(e.type)),padding:"16px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,Sy.jsx)("h4",{style:{margin:0,color:"#AAAAAA"},children:e.day}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:[(0,Sy.jsx)("span",{className:"badge",style:{background:"".concat(o(e.type),"20"),color:o(e.type),fontSize:"0.7rem"},children:e.focus}),e.equipmentSpecific&&(0,Sy.jsx)("span",{className:"badge badge-warning",style:{fontSize:"0.7rem"},children:t.standUpBikeType})]})]}),(0,Sy.jsx)("h4",{style:{margin:"0 0 4px 0",fontSize:"1rem"},children:e.workout.name}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#666",lineHeight:1.4},children:e.workout.description})]},e.day))})]},e.week))]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Sy.jsxs)("div",{className:"card-header",children:[(0,Sy.jsx)("h2",{style:{margin:0},children:"\ud83c\udfa8 Workout Variety Showcase"}),(0,Sy.jsx)("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"No more boring, repetitive training!"})]}),(0,Sy.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Sy.jsx)("h3",{style:{color:"#AAAAAA",marginBottom:"12px"},children:"Your Plan Includes:"}),(0,Sy.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:i.varietyShowcase.map((e,t)=>(0,Sy.jsx)("span",{className:"badge",style:{background:"#ebf8ff",color:"#00D4FF",padding:"6px 12px",fontSize:"0.8rem"},children:e},t))})]}),(0,Sy.jsx)("div",{className:"card",style:{background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem"},children:[(0,Sy.jsx)("strong",{children:"\ud83d\udd25 Compare to Other Apps:"})," Most training apps repeat the same 5-10 workouts endlessly. Your RunEQ plan includes research-based workouts from McMillan Running, Hal Higdon, Ben Parkes, and Runner's World."]})})]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px",background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#c05621"},children:'\ud83d\udd04 "Something Else" Button'}),(0,Sy.jsxs)("p",{style:{marginBottom:"16px",color:"#744210"},children:[(0,Sy.jsx)("strong",{children:"Tired of rigid apps?"}),' Every workout has our signature "Something Else" button:']}),(0,Sy.jsxs)("div",{className:"card",style:{background:"rgba(255, 255, 255, 0.05)",padding:"16px",margin:"0 0 16px 0"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Sy.jsx)("span",{style:{fontWeight:"600"},children:"Today: Tempo Run - 6 miles"}),(0,Sy.jsx)("button",{className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"8px 16px"},children:"Something Else"})]}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.8rem",color:"#666"},children:"Click to see alternatives based on weather, energy level, time, or just wanting variety!"})]}),(0,Sy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#744210"},children:"Feeling Tired:"}),(0,Sy.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"0.8rem"},children:"Easy recovery options"})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#744210"},children:"Too Hot:"}),(0,Sy.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"0.8rem"},children:"Indoor or easier alternatives"})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#744210"},children:"Want Variety:"}),(0,Sy.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"0.8rem"},children:"Different workout types"})]}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#744210"},children:"Time Crunch:"}),(0,Sy.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"0.8rem"},children:"Shorter, efficient options"})]})]}),(0,Sy.jsx)("p",{style:{margin:"12px 0 0 0",fontSize:"0.8rem",fontStyle:"italic",color:"#744210"},children:"And unlike other apps, we COUNT IT PROPERLY in your weekly training load!"})]}),(0,Sy.jsxs)("div",{className:"card",style:{textAlign:"center",background:"rgba(0, 212, 255, 0.1)",color:"#AAAAAA",border:"1px solid rgba(0, 212, 255, 0.3)"},children:[(0,Sy.jsx)("h2",{style:{margin:"0 0 16px 0"},children:"Ready to Start Training Smarter?"}),(0,Sy.jsx)("p",{style:{margin:"0 0 24px 0",opacity:.9},children:"You've seen how RunEQ adapts to YOUR equipment, climate, and lifestyle. No more rigid, one-size-fits-all training!"}),(0,Sy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",maxWidth:"400px",margin:"0 auto"},children:[(0,Sy.jsx)("button",{className:"btn btn-success btn-full-width",onClick:()=>r("/dashboard"),style:{background:"rgba(255, 255, 255, 0.05)",color:"#AAAAAA",fontSize:"1.1rem"},children:"\ud83c\udfaf Start My Training Plan"}),(0,Sy.jsx)("p",{style:{fontSize:"0.9rem",margin:"8px 0 0 0",opacity:.8},children:"Free preview \u2022 Try all features \u2022 Subscribe when ready"})]})]})]})]})};const qE=class{getSpeedOptions(e,t){return[{id:"classic-track",name:"\ud83c\udfc3\u200d\u2642\ufe0f Classic Track Session",shortName:"Track Intervals",description:"6x800m @ 5K pace (2min rest)",duration:"45-55 minutes",intensity:"Hard",structure:"2mi warmup + 6x800m @ 5K pace (2min rest) + 2mi cooldown",focus:"VO2 Max Development",location:"Track preferred",equipment:"None",difficulty:"High",timeRequired:"45-55 minutes",benefits:"Improves oxygen uptake, running economy, speed endurance"},{id:"hill-sprints",name:"\ud83c\udfd4\ufe0f Hill Sprint Power",shortName:"Hill Sprints",description:"8x30sec uphill @ max effort (jog down recovery)",duration:"35-45 minutes",intensity:"Very Hard",structure:"2mi warmup + 8x30sec uphill sprints (jog down) + 2mi cooldown",focus:"Neuromuscular Power",location:"Hills required",equipment:"None",difficulty:"Very High",timeRequired:"35-45 minutes",benefits:"Builds power, strength, running economy, mental toughness"},{id:"fartlek-fun",name:"\u26a1 Fartlek Freedom",shortName:"Fartlek",description:"20min fartlek: fast when you feel it, easy when you need it",duration:"40-50 minutes",intensity:"Variable",structure:"2mi easy + 20min fartlek (surge when you feel good, recover when you need) + 2mi easy",focus:"Speed Endurance",location:"Anywhere",equipment:"None",difficulty:"Moderate-High",timeRequired:"40-50 minutes",benefits:"Improves speed, teaches pacing, mentally engaging"},{id:"pyramid-power",name:"\ud83d\udd04 Pyramid Progression",shortName:"Pyramid",description:"400-800-1200-800-400m @ 5K pace (90sec rest)",duration:"50-60 minutes",intensity:"Hard",structure:"2mi warmup + 400-800-1200-800-400m @ 5K pace (90sec rest) + 2mi cooldown",focus:"Progressive Speed",location:"Track or measured route",equipment:"None",difficulty:"High",timeRequired:"50-60 minutes",benefits:"Progressive challenge, mental focus, speed development"}]}getTempoOptions(e,t){return[{id:"classic-tempo",name:"\ud83c\udfaf Classic Tempo Run",shortName:"Tempo Run",description:"4 miles @ comfortably hard pace",duration:"45-55 minutes",intensity:"Medium-Hard",structure:"2mi easy warmup + 4mi @ tempo pace + 1mi easy cooldown",focus:"Lactate Threshold",location:"Flat, measured route",equipment:"None",difficulty:"Moderate-High",timeRequired:"45-55 minutes",benefits:"Improves lactate clearance, race pace fitness"},{id:"cruise-intervals",name:"\ud83d\udd00 Cruise Intervals",shortName:"Cruise Intervals",description:"3x1 mile @ tempo pace (90sec rest)",duration:"45-50 minutes",intensity:"Medium-Hard",structure:"2mi warmup + 3x1mi @ tempo pace (90sec jog) + 2mi cooldown",focus:"Threshold Power",location:"Any measured route",equipment:"None",difficulty:"Moderate-High",timeRequired:"45-50 minutes",benefits:"Mental break during rest, maintains pace discipline"},{id:"progressive-build",name:"\ud83d\udcc8 Progressive Tempo Build",shortName:"Progressive",description:"5 miles: start easy, finish at tempo pace",duration:"50-55 minutes",intensity:"Progressive",structure:"1mi easy + 5mi progressive (easy to tempo) + 1mi easy cooldown",focus:"Progressive Effort",location:"Any route",equipment:"None",difficulty:"Moderate",timeRequired:"50-55 minutes",benefits:"Teaches effort progression, confidence building"},{id:"tempo-sandwich",name:"\ud83e\udd6a Tempo Sandwich",shortName:"Sandwich",description:"2mi easy + 3mi tempo + 2mi easy",duration:"50-60 minutes",intensity:"Medium-Hard",structure:"2mi easy + 3mi @ tempo pace + 2mi easy",focus:"Sustained Threshold",location:"Any route",equipment:"None",difficulty:"Moderate-High",timeRequired:"50-60 minutes",benefits:"Practices running fast when tired, mental toughness"}]}getLongRunOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return[{id:"conversational-long",name:"\ud83c\udfc3\u200d\u2642\ufe0f Classic Conversational",shortName:"Easy Long Run",description:"".concat(n," miles @ easy, conversational pace"),duration:"".concat(Math.round(9*n),"-").concat(Math.round(10.5*n)," minutes"),intensity:"Easy",structure:"".concat(n," miles @ conversational pace throughout"),focus:"Aerobic Base",location:"Any route",equipment:"None",difficulty:"Low-Moderate",timeRequired:"".concat(Math.round(9*n),"-").concat(Math.round(10.5*n)," minutes"),benefits:"Builds aerobic capacity, fat burning, mental endurance"},{id:"negative-split-long",name:"\ud83d\udcc8 Negative Split Challenge",shortName:"Negative Split",description:"".concat(n," miles: second half faster than first"),duration:"".concat(Math.round(8.5*n),"-").concat(Math.round(10*n)," minutes"),intensity:"Easy-Moderate",structure:"".concat(n/2,"mi easy + ").concat(n/2,"mi moderate (30-45sec/mi faster)"),focus:"Pacing Discipline",location:"Measured route preferred",equipment:"None",difficulty:"Moderate",timeRequired:"".concat(Math.round(8.5*n),"-").concat(Math.round(10*n)," minutes"),benefits:"Teaches pacing control, finishes strong, race simulation"},{id:"long-with-pickups",name:"\u26a1 Long Run + Pickups",shortName:"Long + Pickups",description:"".concat(n-1," miles easy + 4x30sec pickups in final mile"),duration:"".concat(Math.round(9*n),"-").concat(Math.round(10*n)," minutes"),intensity:"Easy with surges",structure:"".concat(n-1,"mi easy + 4x30sec @ 5K pace (30sec recovery) + easy finish"),focus:"Neuromuscular Readiness",location:"Any route",equipment:"None",difficulty:"Moderate",timeRequired:"".concat(Math.round(9*n),"-").concat(Math.round(10*n)," minutes"),benefits:"Keeps legs sharp, practices running fast when tired"},{id:"progressive-long",name:"\ud83c\udfaf Marathon Pace Progression",shortName:"Progressive",description:"".concat(Math.round(.6*n),"mi easy + ").concat(Math.round(.4*n),"mi @ marathon pace"),duration:"".concat(Math.round(8.5*n),"-").concat(Math.round(9.5*n)," minutes"),intensity:"Easy-Moderate",structure:"".concat(Math.round(.6*n),"mi easy + ").concat(Math.round(.4*n),"mi @ marathon pace"),focus:"Race Pace Practice",location:"Flat, measured route",equipment:"None",difficulty:"Moderate-High",timeRequired:"".concat(Math.round(8.5*n),"-").concat(Math.round(9.5*n)," minutes"),benefits:"Practices goal race pace, builds confidence"}]}getHillOptions(e,t){return[{id:"classic-hills",name:"\ud83c\udfd4\ufe0f Classic Hill Repeats",shortName:"Hill Repeats",description:"6x90sec uphill @ hard effort (jog down recovery)",duration:"40-50 minutes",intensity:"Hard",structure:"2mi warmup + 6x90sec uphill @ 5K effort (jog down) + 2mi cooldown",focus:"Hill Strength",location:"Steady 4-6% grade hill",equipment:"None",difficulty:"High",timeRequired:"40-50 minutes",benefits:"Builds leg strength, power, running economy"},{id:"variable-hills",name:"\ud83c\udfa2 Variable Hill Circuit",shortName:"Variable Hills",description:"4x(30sec hard + 60sec moderate + 30sec hard) uphill",duration:"45-50 minutes",intensity:"Variable Hard",structure:"2mi warmup + 4x(30sec hard + 60sec moderate + 30sec hard) + jog down + 2mi cooldown",focus:"Power Endurance",location:"Long hill or multiple hills",equipment:"None",difficulty:"Very High",timeRequired:"45-50 minutes",benefits:"Varied stimulus, mental toughness, power development"},{id:"rolling-hills",name:"\ud83c\udf0a Rolling Hill Tempo",shortName:"Rolling Tempo",description:"25min tempo effort on rolling hills",duration:"45-55 minutes",intensity:"Medium-Hard",structure:"2mi easy + 25min @ tempo effort on rolling terrain + 2mi easy",focus:"Hill Endurance",location:"Rolling hills course",equipment:"None",difficulty:"Moderate-High",timeRequired:"45-55 minutes",benefits:"Teaches effort management on varied terrain"}]}getEasyOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return[{id:"classic-easy",name:"\ud83d\ude0c Classic Recovery Run",shortName:"Easy Run",description:"".concat(n," miles @ easy, conversational pace"),duration:"".concat(Math.round(9.5*n),"-").concat(Math.round(11*n)," minutes"),intensity:"Very Easy",structure:"".concat(n," miles @ recovery pace throughout"),focus:"Active Recovery",location:"Any route",equipment:"None",difficulty:"Low",timeRequired:"".concat(Math.round(9.5*n),"-").concat(Math.round(11*n)," minutes"),benefits:"Promotes recovery, maintains aerobic fitness"},{id:"easy-with-strides",name:"\u26a1 Easy + Strides",shortName:"Easy + Strides",description:"".concat(n," miles easy + 4x20sec strides"),duration:"".concat(Math.round(9.5*n),"-").concat(Math.round(10.5*n)," minutes"),intensity:"Easy with pickups",structure:"".concat(n-.5,"mi easy + 4x20sec strides (40sec recovery) + 0.5mi easy"),focus:"Neuromuscular Activation",location:"Any route with straight section",equipment:"None",difficulty:"Low-Moderate",timeRequired:"".concat(Math.round(9.5*n),"-").concat(Math.round(10.5*n)," minutes"),benefits:"Maintains speed while recovering, improves running form"}]}};const VE=function(e){let{isOpen:t,onClose:n,currentWorkout:r,userProfile:o,trainingPlan:a,onWorkoutSelect:s,weather:l=null}=e;const[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),p=new Cy,f=new Dy,m=new _y,g=new Ry,y=new Iy,v=new Ny,b=(null===a||void 0===a?void 0:a.trainingPaces)||null,w=(null===a||void 0===a?void 0:a.trackIntervals)||null;if(!t)return null;const k=()=>{const e=[];return e.push({id:"light-easy",title:"\ud83d\ude0c Light & Easy",subtitle:"Gentle movement that won't interfere with recovery",icon:"\ud83c\udf31",workouts:x()}),e.push({id:"active-recovery",title:"\ud83d\udd04 Active Recovery",subtitle:"Movement that actually helps recovery",icon:"\u267b\ufe0f",workouts:S()}),o.standUpBikeType&&e.push({id:"equipment-easy",title:"\ud83d\udeb4\u200d\u2642\ufe0f Easy ".concat(LE(o.standUpBikeType)),subtitle:"Low-impact equipment workout",icon:"\u26a1",workouts:E()}),e.push({id:"cross-training",title:"\ud83c\udfca\u200d\u2642\ufe0f Cross-Training",subtitle:"Non-running activities for variety",icon:"\ud83c\udfaf",workouts:T()}),e.push({id:"short-sweet",title:"\u23f0 Short & Sweet",subtitle:"15-30 minutes max - just enough to move",icon:"\u26a1",workouts:C()}),e},x=()=>[{name:"Easy 20-Minute Jog",description:"Very light conversational pace - just shake out the legs",duration:"20 minutes",intensity:"Very Easy",reason:"feeling energetic",benefits:"Promotes blood flow and maintains routine"},{name:"Walk-Run Intervals",description:"1 min easy jog, 2 min walk - perfect rest day movement",duration:"25-30 minutes",intensity:"Recovery",reason:"want light movement",benefits:"Active recovery without stress"},{name:"Easy Mile",description:"Just one easy mile to keep the legs moving",duration:"8-12 minutes",intensity:"Very Easy",reason:"minimal time commitment",benefits:"Maintains routine without fatigue"}],S=()=>[{name:"Dynamic Stretching Session",description:"20 minutes of movement-based stretches and mobility work",duration:"20 minutes",intensity:"Recovery",reason:"improve flexibility",benefits:"Enhances recovery and prevents injury"},{name:"Yoga Flow",description:"Gentle yoga focused on hip flexibility and core strength",duration:"25-30 minutes",intensity:"Recovery",reason:"mental relaxation",benefits:"Flexibility, balance, and mental clarity"},{name:"Foam Rolling + Light Movement",description:"15 min foam rolling + 10 min easy walking",duration:"25 minutes",intensity:"Recovery",reason:"muscle maintenance",benefits:"Improves tissue quality and circulation"}],E=()=>[{name:"Easy ".concat(LE(o.standUpBikeType)," Spin"),description:"Light 30-minute ride at conversational effort",duration:"30 minutes",intensity:"Easy",equipment:LE(o.standUpBikeType),reason:"low impact variety",benefits:"Aerobic maintenance without running impact"},{name:"Recovery ".concat(LE(o.standUpBikeType)," Ride"),description:"Very easy 20-minute ride focusing on leg turnover",duration:"20 minutes",intensity:"Recovery",equipment:LE(o.standUpBikeType),reason:"active recovery",benefits:"Promotes blood flow and recovery"}],T=()=>[{name:"Swimming (Easy)",description:"20-30 minutes easy swimming - excellent for recovery",duration:"20-30 minutes",intensity:"Easy",reason:"full body, low impact",benefits:"Complete body workout with minimal stress"},{name:"Elliptical Easy",description:"25 minutes easy effort on elliptical machine",duration:"25 minutes",intensity:"Easy",reason:"gym alternative",benefits:"Cardio maintenance without impact"},{name:"Strength Training (Light)",description:"Light strength work focusing on running-specific muscles",duration:"30-40 minutes",intensity:"Light",reason:"strength maintenance",benefits:"Maintains strength without fatigue"}],C=()=>[{name:"15-Minute Walk",description:"Brisk walk around the neighborhood - minimal time commitment",duration:"15 minutes",intensity:"Very Easy",reason:"time constraint",benefits:"Mental break and light movement"},{name:"10-Minute Core Work",description:"Quick core strengthening session - runner-specific exercises",duration:"10 minutes",intensity:"Light",reason:"minimal time",benefits:"Core strength for better running"},{name:"5-Minute Stretch",description:"Quick targeted stretching for tight spots",duration:"5 minutes",intensity:"Recovery",reason:"very minimal time",benefits:"Maintains flexibility"}],D=(e,t,n)=>{var r;const i=(null===(r={tempo:{TRADITIONAL_TEMPO:"Sustained lactate threshold effort - builds race pace endurance",ALTERNATING_TEMPO:"Varied tempo segments - teaches pace changes and mental toughness",PROGRESSIVE_TEMPO:"Building tempo effort - develops pacing skills and confidence"},interval:{SHORT_SPEED:"Quick speed bursts - develops neuromuscular power and turnover",VO2_MAX:"Hard aerobic intervals - builds maximum oxygen uptake and speed",LONG_INTERVALS:"Extended speed work - race pace practice with recovery"},hill:{short_power:"Power hill repeats - builds leg strength and running power",long_strength:"Endurance hill training - develops climbing stamina and mental toughness",hill_circuits:"Mixed hill workout - combines power, strength, and endurance"},longRun:{TRADITIONAL_EASY:"Steady aerobic run - builds endurance base and fat adaptation",PROGRESSIVE_RUNS:"Building effort long run - develops race-day pacing skills",MIXED_PACE_LONG:"Mixed pace long run - practices energy system transitions"},brick:{aerobic:"Run+bike endurance combo - builds aerobic fitness with variety",tempo:"Run+bike threshold workout - lactate threshold with equipment changes",speed:"Run+bike intervals - develops speed with transition practice",recovery:"Easy run+bike combo - active recovery with movement variety"}}[t])||void 0===r?void 0:r[n])||e.description;return(0,Ce.A)((0,Ce.A)({},e),{},{description:i,originalDescription:e.description,category:n,library:t})},_=()=>{var e;const t=[];switch(r.type){case"tempo":["TRADITIONAL_TEMPO","ALTERNATING_TEMPO","PROGRESSIVE_TEMPO"].forEach(e=>{const n=p.getRandomWorkout(e);if(n&&n.name!==r.workout.name){const r=p.prescribeTempoWorkout(n.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,paces:b});t.push(D(r,"tempo",e))}});break;case"intervals":["SHORT_SPEED","VO2_MAX","LONG_INTERVALS"].forEach(e=>{const n=f.getRandomWorkout(e);if(n&&n.name!==r.workout.name){const r=f.prescribeIntervalWorkout(n.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,paces:b,trackIntervals:w});t.push(D(r,"interval",e))}});break;case"hills":["short_power","long_strength","hill_circuits"].forEach(e=>{const n=m.getRandomWorkout(e);if(n&&n.name!==r.workout.name){const r=m.prescribeHillWorkout(n.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,paces:b});t.push(D(r,"hill",e))}});break;case"longRun":const n=M((null===(e=r.workout)||void 0===e?void 0:e.name)||"")||M(r.name||"")||8;["TRADITIONAL_EASY","PROGRESSIVE_RUNS","MIXED_PACE_LONG"].forEach(e=>{const i=g.getRandomWorkout(e);if(i&&i.name!==r.workout.name){const r=g.prescribeLongRunWorkout(i.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,distance:n,paces:b});t.push(D(r,"longRun",e))}});break;case"brick":["aerobic","tempo","speed","recovery"].forEach(e=>{var n;const i=v.generateBrickWorkout({type:e,equipment:o.standUpBikeType||"cyclete",difficulty:"intermediate"});i&&i.name!==(null===(n=r.workout)||void 0===n?void 0:n.name)&&t.push(D(i,"brick",e))});break;default:t.push({name:"Conversational Run",description:"Easy pace, focus on breathing and form",duration:"30-45 minutes",library:"easy"})}return t.slice(0,6)},R=()=>[{name:"Easy Recovery Run",description:"Very easy pace, active recovery focus",duration:"20-30 minutes",intensity:"Recovery"},{name:"Walk-Run Intervals",description:"2 min run, 1 min walk intervals",duration:"30 minutes",intensity:"Easy"},{name:"Yoga Flow",description:"Active recovery with stretching",duration:"20-30 minutes",intensity:"Recovery"}],I=()=>{const e=[];if("easy"===r.type||"tempo"===r.type){const t=f.getRandomWorkout("SHORT_SPEED");if(t){const n=f.prescribeIntervalWorkout(t.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,paces:b,trackIntervals:w});e.push(D(n,"interval","SHORT_SPEED"))}}if("hills"!==r.type){const t=m.getRandomWorkout("short_power");if(t){const n=m.prescribeHillWorkout(t.name,{runEqPreference:(null===o||void 0===o?void 0:o.runEqPreference)||0,paces:b});e.push(D(n,"hill","short_power"))}}return e.push({name:"Fartlek Run",description:"Playful speed play - develops speed and mental toughness with varied surges",duration:"30-40 minutes",intensity:"Moderate-Hard"}),e.push({name:"Progressive Run",description:"Building effort run - starts easy, finishes strong, develops pacing control",duration:"35-45 minutes",intensity:"Easy to Hard"}),e.filter(Boolean).slice(0,4)},P=()=>{const e=[],t=r.type;if("tempo"===t||"intervals"===t){(y.workoutLibrary.TEMPO_BIKE||[]).slice(0,3).forEach(t=>{e.push((0,Ce.A)((0,Ce.A)({},t),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0}))});(y.workoutLibrary.INTERVAL_BIKE||[]).slice(0,2).forEach(t=>{e.push((0,Ce.A)((0,Ce.A)({},t),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0}))})}else if("hills"===t){(y.workoutLibrary.POWER_RESISTANCE||[]).slice(0,3).forEach(t=>{e.push((0,Ce.A)((0,Ce.A)({},t),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0}))})}else if("longRun"===t){(y.workoutLibrary.LONG_ENDURANCE_RIDES||[]).slice(0,3).forEach(t=>{e.push((0,Ce.A)((0,Ce.A)({},t),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0}))})}else{const t=y.workoutLibrary.LONG_ENDURANCE_RIDES||[],n=y.workoutLibrary.TEMPO_BIKE||[];t.length>0&&e.push((0,Ce.A)((0,Ce.A)({},t[0]),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0})),n.length>0&&e.push((0,Ce.A)((0,Ce.A)({},n[n.length-1]),{},{type:"bike",library:"bike",equipment:o.standUpBikeType,equipmentSpecific:!0}))}return e.slice(0,6)},A=()=>{var e;const t=M((null===(e=r.workout)||void 0===e?void 0:e.name)||"")||12,n=Math.round(t/3);return[{name:"".concat(n,"-Mile Easy Run"),description:"Equivalent running distance for today's bike workout - same aerobic benefit",duration:"".concat(8*n,"-").concat(10*n," minutes"),intensity:"Easy"},{name:"".concat(Math.max(3,n-2),"-Mile Tempo Run"),description:"Shorter but higher intensity - builds lactate threshold",duration:"".concat(7*Math.max(3,n-2),"-").concat(8*Math.max(3,n-2)," minutes"),intensity:"Moderate-Hard"},{name:"Fartlek Run",description:"Playful speed play - develops speed and mental toughness",duration:"30-40 minutes",intensity:"Variable"},{name:"".concat(Math.max(2,n-1)," Miles Progressive"),description:"Start easy, build to moderate-hard finish",duration:"".concat(7*Math.max(2,n-1),"-").concat(9*Math.max(2,n-1)," minutes"),intensity:"Easy to Moderate-Hard"}]},N=()=>{var e;const t=r.type,n=(null===(e=r.workout)||void 0===e?void 0:e.name)||"Workout",i=[];if("intervals"===t||n.toLowerCase().includes("interval")||n.toLowerCase().includes("speed")||n.toLowerCase().includes("track"))i.push({name:"Treadmill Speed Work",description:"Same intervals on treadmill - 6x800m @ 5K pace (2min rest)",duration:"45-50 minutes",reason:"no track available",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"},{name:"Hill Sprints Alternative",description:"8x30sec uphill @ max effort - builds same speed without track",duration:"35-40 minutes",reason:"no track available",icon:"\ud83c\udfd4\ufe0f"},{name:"Fartlek Speed Session",description:"20min fartlek: fast when you feel it, easy when you need it",duration:"40-45 minutes",reason:"too hot / no track",icon:"\u26a1"},{name:"Shortened Speed Work",description:"4x400m @ 5K pace instead of full session",duration:"30-35 minutes",reason:"time constraint",icon:"\u23f0"});else if("tempo"===t||n.toLowerCase().includes("tempo")||n.toLowerCase().includes("threshold"))i.push({name:"Treadmill Tempo",description:"3 miles @ comfortably hard pace on 1% incline",duration:"35-40 minutes",reason:"too hot / weather",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"},{name:"Cruise Intervals Indoor",description:"3x1 mile @ tempo pace (90sec rest) - easier to pace indoors",duration:"40-45 minutes",reason:"too hot / pacing issues",icon:"\ud83d\udd00"},{name:"Easy Tempo",description:"2 miles @ marathon pace instead of tempo - still builds endurance",duration:"25-30 minutes",reason:"too tired",icon:"\ud83d\ude0c"},{name:"Short Tempo Burst",description:"15min tempo run instead of full session",duration:"25-30 minutes",reason:"time constraint",icon:"\u23f0"});else if("longRun"===t||n.toLowerCase().includes("long")||n.toLowerCase().includes("endurance")){const e=M(n)||10;i.push({name:"".concat(e," Miles on Treadmill"),description:"Complete long run indoors with A/C and entertainment - same endurance benefit",duration:"".concat(Math.round(8.5*e),"-").concat(Math.round(10*e)," minutes"),reason:"too hot / weather",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"},{name:"Split Long Run",description:"".concat(Math.round(e/2)," miles morning + ").concat(Math.round(e/2)," miles evening"),duration:"Split sessions",reason:"too hot / time constraint",icon:"\ud83d\udd04"},{name:"".concat(Math.round(.75*e)," Mile Moderate"),description:"Shorter distance but at marathon pace for last ".concat(Math.round(.25*e)," miles"),duration:"".concat(Math.round(6.5*e),"-").concat(Math.round(8*e)," minutes"),reason:"time constraint",icon:"\u23f0"},{name:"Easy Long Walk/Run",description:"".concat(e," miles with walk breaks every 2 miles - active recovery style"),duration:"".concat(Math.round(10*e),"-").concat(Math.round(12*e)," minutes"),reason:"too tired",icon:"\ud83d\udeb6\u200d\u2642\ufe0f"})}else"hills"===t||n.toLowerCase().includes("hill")||n.toLowerCase().includes("incline")?i.push({name:"Treadmill Hill Repeats",description:"6x90sec @ 6-8% incline, 5K effort (walk down recovery)",duration:"40-45 minutes",reason:"no hills available",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"},{name:"Parking Garage Hills",description:"8x30sec up parking garage ramps - urban hill alternative",duration:"35-40 minutes",reason:"no hills available",icon:"\ud83c\udfe2"},{name:"Stadium Stairs",description:"6x60sec stadium/building stairs @ hard effort",duration:"30-35 minutes",reason:"no hills available",icon:"\ud83c\udfdf\ufe0f"},{name:"Flat Tempo Instead",description:"20min tempo run - still builds lactate threshold without hills",duration:"35-40 minutes",reason:"no hills / too tired",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"}):("easy"===t||n.toLowerCase().includes("easy")||n.toLowerCase().includes("recovery"))&&i.push({name:"Indoor Easy Run",description:"Same easy pace on treadmill with entertainment",duration:r.duration||"30-40 minutes",reason:"weather",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"},{name:"Easy Walk",description:"Brisk walk for same duration - active recovery",duration:r.duration||"30-40 minutes",reason:"too tired",icon:"\ud83d\udeb6\u200d\u2642\ufe0f"},{name:"Short Easy Run",description:"20min easy jog - better than nothing",duration:"20 minutes",reason:"time constraint",icon:"\u23f0"});return 0===i.length&&i.push({name:"Rest Day",description:"Complete rest - sometimes the best choice for your body",duration:"0 minutes",reason:"too tired / injury risk",icon:"\ud83d\udecc"},{name:"Light Cross Training",description:"20-30min easy bike, elliptical, or swimming",duration:"20-30 minutes",reason:"need something different",icon:"\ud83d\udeb4\u200d\u2642\ufe0f"}),i},M=e=>{const t=e.match(/(\d+)\s*(mile|miles|mi)/i);return t?parseInt(t[1]):null},O=()=>[{name:"Treadmill Version",description:"Climate-controlled indoor version - same workout, perfect conditions",location:"Indoor"},{name:"Mall/Parking Garage Run",description:"Weather-protected option - stay dry and maintain your schedule",location:"Covered"},{name:"Early Morning Run",description:"Beat the heat/weather - cooler temps and quieter roads",timing:"Pre-dawn"},{name:"Split Session",description:"Break into 2 shorter runs - work around weather windows",timing:"Flexible"}],j=()=>{const e=[];return v.getBrickWorkoutTypes().forEach(t=>{const n=v.generateBrickWorkout({type:t,equipment:o.standUpBikeType||"cyclete",difficulty:"intermediate"}),r=D(n,"brick",t);e.push((0,Ce.A)((0,Ce.A)({},r),{},{type:"brick",library:"brick"}))}),e},L=e=>{return"tempo"===e.library?"Lactate Threshold":"interval"===e.library?"Speed & Power":"hill"===e.library?"Strength & Power":"longRun"===e.library?"Endurance":"bike"===e.library?null!==(t=e.effort)&&void 0!==t&&null!==(n=t.perceived)&&void 0!==n&&n.includes("threshold")||null!==(r=e.name)&&void 0!==r&&r.toLowerCase().includes("tempo")?"Lactate Threshold":null!==(i=e.effort)&&void 0!==i&&null!==(o=i.perceived)&&void 0!==o&&o.includes("hard")||null!==(a=e.name)&&void 0!==a&&a.toLowerCase().includes("interval")?"Speed & Power":null!==(s=e.name)&&void 0!==s&&s.toLowerCase().includes("endurance")||null!==(l=e.name)&&void 0!==l&&l.toLowerCase().includes("long")?"Endurance":"Aerobic Power":"Recovery"===e.intensity?"Recovery":"Easy"===e.intensity?"Aerobic Base":"Training Focus";var t,n,r,i,o,a,s,l},F=(()=>{const e=[];return"rest"===r.type?k():(e.push({id:"same-intensity",title:"\ud83c\udfc3\u200d\u2642\ufe0f Keep Running - Same Intensity",subtitle:"Alternative ".concat(r.type," workouts"),icon:"\ud83d\udd04",workouts:_()}),e.push({id:"easier",title:"\ud83d\ude0c Make It Easier",subtitle:"Lower intensity alternatives",icon:"\u2b07\ufe0f",workouts:R()}),e.push({id:"harder",title:"\ud83d\udcaa Make It Harder",subtitle:"Higher intensity challenges",icon:"\u2b06\ufe0f",workouts:I()}),o.standUpBikeType&&("bike"===r.type?e.push({id:"run-instead",title:"\ud83c\udfc3\u200d\u2642\ufe0f Switch to Running",subtitle:"Run instead of bike",icon:"\ud83d\udc5f",workouts:A()}):e.push({id:"equipment",title:"\ud83d\udeb4\u200d\u2642\ufe0f Switch to ".concat(LE(o.standUpBikeType)),subtitle:"Equipment-specific alternatives",icon:"\u26a1",workouts:P()})),e.push({id:"contextual",title:"\ud83d\udd04 Quick Adaptations",subtitle:"Situational alternatives for real life",icon:"\ud83d\udee0\ufe0f",workouts:N()}),null!==l&&void 0!==l&&l.isExtreme&&e.push({id:"weather",title:"\ud83c\udf21\ufe0f Weather Alternatives",subtitle:"Safe options for ".concat(l.condition),icon:"\ud83d\udee1\ufe0f",workouts:O()}),o.standUpBikeType&&e.push({id:"brick",title:"\ud83e\uddf1 Brick Workouts",subtitle:"Run + bike combinations",icon:"\ud83d\udd04",workouts:j()}),e)})();return(0,Sy.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Sy.jsxs)("div",{className:"modal-content card",style:{width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",margin:"var(--space-4)"},children:[(0,Sy.jsxs)("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-6)"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h2",{style:{margin:0,color:"var(--runeq-primary)"},children:"\ud83d\udd04 Something Else"}),(0,Sy.jsxs)("p",{style:{margin:"var(--space-2) 0 0 0",color:"var(--gray-600)"},children:["Scheduled: ",(0,Sy.jsx)("strong",{children:r.workout.name})," \u2022 ",r.day]})]}),(0,Sy.jsx)("button",{onClick:n,className:"btn btn-secondary",style:{minWidth:"auto",padding:"var(--space-2)"},children:"\u2715"})]}),c?(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[(0,Sy.jsx)("button",{onClick:()=>u(null),className:"btn btn-secondary",children:"\u2190 Back"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{margin:0},children:c.title}),(0,Sy.jsx)("p",{style:{margin:0,color:"var(--gray-600)",fontSize:"0.9rem"},children:c.subtitle})]})]}),(0,Sy.jsx)("div",{className:"card-grid",children:c.workouts.map((e,t)=>(0,Sy.jsxs)("div",{className:"card card-interactive ".concat(d===e?"selected":""),onClick:()=>(e=>{h(e)})(e),style:{cursor:"pointer"},children:[(0,Sy.jsx)("h4",{style:{margin:"0 0 var(--space-2) 0"},children:e.name}),(0,Sy.jsx)("p",{style:{margin:"0 0 var(--space-3) 0",fontSize:"0.9rem"},children:"string"===typeof e.description?e.description:"object"===typeof e.description?JSON.stringify(e.description):"Workout description"}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"var(--space-2)",flexWrap:"wrap"},children:[e.duration&&(0,Sy.jsx)("div",{className:"badge badge-info",children:"string"===typeof e.duration?e.duration:"object"===typeof e.duration?JSON.stringify(e.duration):"Duration"}),e.intensity&&(0,Sy.jsx)("div",{className:"badge badge-warning",children:"string"===typeof e.intensity?e.intensity:"object"===typeof e.intensity?JSON.stringify(e.intensity):"Intensity"}),e.equipment&&(0,Sy.jsx)("div",{className:"badge badge-success",children:LE(e.equipment)}),e.location&&(0,Sy.jsx)("div",{className:"badge badge-info",children:e.location})]})]},t))}),d&&(0,Sy.jsxs)("div",{style:{marginTop:"var(--space-6)",padding:"var(--space-4)",background:"var(--gray-50)",borderRadius:"var(--radius-lg)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("p",{style:{margin:0,fontWeight:600},children:["Replace with: ",(0,Sy.jsx)("strong",{children:d.name})]}),(0,Sy.jsxs)("p",{style:{margin:"4px 0 0 0",fontSize:"0.9rem",color:"var(--gray-600)"},children:["This will update your ",r.day," workout and maintain your training load."]})]}),(0,Sy.jsx)("button",{onClick:()=>{if(d){const e=(0,Ce.A)((0,Ce.A)({},r),{},{workout:(0,Ce.A)((0,Ce.A)({},d),{},{name:d.name,description:d.description,duration:d.duration||d.repetitions||"Variable"}),type:d.library||d.type||r.type,focus:L(d),equipmentSpecific:d.equipmentSpecific||!!d.equipment,workoutDetails:d,replacementReason:null===c||void 0===c?void 0:c.title});s(e),n()}},className:"btn btn-primary",children:"\ud83d\udd04 Replace Workout"})]})]}):(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{marginBottom:"var(--space-4)"},children:"Choose Your Alternative"}),(0,Sy.jsx)("div",{className:"card-grid",children:F.map(e=>(0,Sy.jsxs)("div",{className:"card card-interactive",onClick:()=>(e=>{u(e),h(null)})(e),style:{textAlign:"center",cursor:"pointer"},children:[(0,Sy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"var(--space-2)"},children:e.icon}),(0,Sy.jsx)("h4",{style:{margin:"0 0 var(--space-2) 0"},children:e.title}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--gray-600)"},children:e.subtitle}),(0,Sy.jsxs)("div",{className:"badge badge-info",style:{marginTop:"var(--space-3)"},children:[e.workouts.length," options"]})]},e.id))})]})]})})};const HE=function(e){var t,n,r,o,a;let{userProfile:s,trainingPlan:l,clearAllData:c}=e;const u=ee(),[d,h]=(0,i.useState)(()=>{var e;const t=(()=>{var e,t;if(null===l||void 0===l||null===(e=l.planOverview)||void 0===e||!e.startDate)return 1;const n=new Date,r=new Date(l.planOverview.startDate);if(n<r)return 1;const i=Math.floor((n-r)/6048e5);return Math.min(i+1,(null===l||void 0===l||null===(t=l.planOverview)||void 0===t?void 0:t.totalWeeks)||12)})(),n=localStorage.getItem("runeq_currentWeek"),r=localStorage.getItem("runeq_startDate");var i;if((null===l||void 0===l||null===(e=l.planOverview)||void 0===e?void 0:e.startDate)!==r)return console.log("\ud83d\udcc5 New plan detected - using calculated week:",t),localStorage.setItem("runeq_startDate",null===l||void 0===l||null===(i=l.planOverview)||void 0===i?void 0:i.startDate),t;if(n){var o;const e=parseInt(n,10);if(e>=1&&e<=((null===l||void 0===l||null===(o=l.planOverview)||void 0===o?void 0:o.totalWeeks)||12))return e}return t});(0,i.useEffect)(()=>{localStorage.setItem("runeq_currentWeek",d.toString())},[d]);const[p,f]=(0,i.useState)({isOpen:!1,workout:null}),[m,g]=(0,i.useState)({}),[y,v]=(0,i.useState)({}),[b,w]=(0,i.useState)({}),[k,x]=(0,i.useState)({});(0,i.useEffect)(()=>{try{const e=localStorage.getItem("runeq_modifiedWorkouts");if(console.log("\ud83d\udce6 Dashboard loading from localStorage:",e),e){const t=JSON.parse(e);console.log("\ud83d\udce6 Dashboard parsed data:",t),g(t)}E(!0)}catch(e){console.warn("Error loading modified workouts:",e),localStorage.removeItem("runeq_modifiedWorkouts"),E(!0)}},[]),(0,i.useEffect)(()=>{(async()=>{if(wy.currentUser)try{const e=await xy.getModifiedWorkouts(wy.currentUser.uid);e.success&&e.data&&Object.keys(e.data).length>0&&(console.log("\ud83d\udce6 Loaded modified workouts from Firestore:",e.data),g(e.data),localStorage.setItem("runeq_modifiedWorkouts",JSON.stringify(e.data)))}catch(e){console.warn("Error loading modified workouts from Firestore:",e)}})()},[null===(t=wy.currentUser)||void 0===t?void 0:t.uid]);const[S,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(S)try{console.log("\ud83d\udcbe Dashboard saving to localStorage:",m),localStorage.setItem("runeq_modifiedWorkouts",JSON.stringify(m))}catch(e){console.warn("Error saving modified workouts:",e)}},[m,S]);const T=new Cy,C=new Dy,D=new Ry,_=new _y,R=new qE,I=(new Ny,e=>{var t,n,r,i;if(e.distance)return"\ud83d\udccf ".concat(e.distance);const o=null===(t=e.workout)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.match(/(\d+(?:\.\d+)?)\s*-?\s*(mile|miles|mi|RunEQ|km)/i);if(o)return"\ud83d\udccf ".concat(o[1]," ").concat(o[2]);if(null!==(r=e.workoutDetails)&&void 0!==r&&r.repetitions)return"\ud83d\udd01 ".concat(e.workoutDetails.repetitions);if(null!==(i=e.workoutDetails)&&void 0!==i&&i.duration)return"\u23f1\ufe0f ".concat(e.workoutDetails.duration);switch(e.type){case"longRun":return"\ud83d\udccf 10+ miles";case"tempo":return"\u23f1\ufe0f 20-40 min";case"intervals":return"\ud83d\udd01 Multiple reps";case"hills":return"\u26f0\ufe0f Hill session";case"easy":return"\ud83d\udccf 4-6 miles";case"bike":return"\ud83d\udeb4 12+ RunEQ miles";default:return null}}),P=(e,t)=>{var n,r,i,o,a,s,l,c,u,d,h,p,f,m,g,y,v,b,w,k,x,S,E,R,I,P,A,N,M,O;console.log("\ud83d\udd0d generateWeekWorkouts - profile:",t),console.log("\ud83d\udeb4 preferredBikeDays:",null===t||void 0===t?void 0:t.preferredBikeDays),console.log("\ud83d\udcc0 localStorage userProfile:",localStorage.getItem("runeq_userProfile")),console.log("\ud83d\udcc5 localStorage trainingPlan:",localStorage.getItem("runeq_trainingPlan"));const j={tempo:[T.getRandomWorkout("TRADITIONAL_TEMPO"),T.getRandomWorkout("ALTERNATING_TEMPO"),T.getRandomWorkout("PROGRESSIVE_TEMPO"),T.getRandomWorkout("TEMPO_INTERVALS")],intervals:[C.getRandomWorkout("SHORT_SPEED"),C.getRandomWorkout("VO2_MAX"),C.getRandomWorkout("LONG_INTERVALS")],hills:[_.getRandomWorkout("short_power"),_.getRandomWorkout("long_strength"),_.getRandomWorkout("hill_circuits")],longRuns:[D.getRandomWorkout("TRADITIONAL_EASY"),D.getRandomWorkout("PROGRESSIVE_RUNS"),D.getRandomWorkout("MIXED_PACE_LONG"),D.getRandomWorkout("RACE_SIMULATION")]},L=function(e){const n={Easy:8,Moderate:12,Hard:16,"Very Hard":20}[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Moderate"]||12;return{name:"".concat(n,"-Mile ").concat(LE(t.standUpBikeType)," Ride"),description:"".concat(n," miles on ").concat(LE(t.standUpBikeType)," @ steady aerobic effort")}},F=[{tuesday:"tempo",saturday:"intervals",sunday:"longRuns"},{tuesday:"hills",saturday:"tempo",sunday:"longRuns"},{tuesday:"intervals",saturday:"hills",sunday:"longRuns"},{tuesday:"tempo",saturday:"intervals",sunday:"longRuns"}],B=F[(e-1)%F.length],W=j[B.tuesday][(e-1)%j[B.tuesday].length],U=j[B.saturday][(e-1)%j[B.saturday].length],z=j[B.sunday][(e-1)%j[B.sunday].length],q=e=>({tempo:{type:"tempo",focus:"Lactate Threshold"},intervals:{type:"intervals",focus:"Speed & Power"},hills:{type:"hills",focus:"Strength & Power"},longRuns:{type:"longRun",focus:"Endurance"}}[e]||{type:"easy",focus:"Recovery"}),V=q(B.tuesday),H=q(B.saturday),K=q(B.sunday);return console.log("\ud83d\udeb4 Checking bike days for each day:"),console.log("  Monday bike day?",null===t||void 0===t||null===(n=t.preferredBikeDays)||void 0===n?void 0:n.includes("Monday")),console.log("  Tuesday bike day?",null===t||void 0===t||null===(r=t.preferredBikeDays)||void 0===r?void 0:r.includes("Tuesday")),console.log("  Wednesday bike day?",null===t||void 0===t||null===(i=t.preferredBikeDays)||void 0===i?void 0:i.includes("Wednesday")),console.log("  Thursday bike day?",null===t||void 0===t||null===(o=t.preferredBikeDays)||void 0===o?void 0:o.includes("Thursday")),console.log("  Friday bike day?",null===t||void 0===t||null===(a=t.preferredBikeDays)||void 0===a?void 0:a.includes("Friday")),console.log("  Saturday bike day?",null===t||void 0===t||null===(s=t.preferredBikeDays)||void 0===s?void 0:s.includes("Saturday")),console.log("  Sunday bike day?",null===t||void 0===t||null===(l=t.preferredBikeDays)||void 0===l?void 0:l.includes("Sunday")),[{day:"Monday",type:null!==t&&void 0!==t&&null!==(c=t.preferredBikeDays)&&void 0!==c&&c.includes("Monday")?"bike":"rest",workout:null!==t&&void 0!==t&&null!==(u=t.preferredBikeDays)&&void 0!==u&&u.includes("Monday")?L("Monday","Easy"):{name:"Rest Day",description:"Complete rest or light cross-training"},focus:null!==t&&void 0!==t&&null!==(d=t.preferredBikeDays)&&void 0!==d&&d.includes("Monday")?"Active Recovery":"Recovery",completed:!1,equipmentSpecific:(null===t||void 0===t||null===(h=t.preferredBikeDays)||void 0===h?void 0:h.includes("Monday"))&&!(null===t||void 0===t||!t.standUpBikeType)},{day:"Tuesday",type:null!==t&&void 0!==t&&null!==(p=t.preferredBikeDays)&&void 0!==p&&p.includes("Tuesday")?"bike":V.type,workout:null!==t&&void 0!==t&&null!==(f=t.preferredBikeDays)&&void 0!==f&&f.includes("Tuesday")?L("Tuesday","Moderate"):{name:W.name,description:W.description},focus:null!==t&&void 0!==t&&null!==(m=t.preferredBikeDays)&&void 0!==m&&m.includes("Tuesday")?"Aerobic Base":V.focus,completed:!1,equipmentSpecific:(null===t||void 0===t||null===(g=t.preferredBikeDays)||void 0===g?void 0:g.includes("Tuesday"))&&!(null===t||void 0===t||!t.standUpBikeType),workoutDetails:W},{day:"Wednesday",type:null!==t&&void 0!==t&&null!==(y=t.preferredBikeDays)&&void 0!==y&&y.includes("Wednesday")?"bike":"rest",workout:null!==t&&void 0!==t&&null!==(v=t.preferredBikeDays)&&void 0!==v&&v.includes("Wednesday")?L("Wednesday","Easy"):{name:"Rest Day",description:"Complete rest or light cross-training"},focus:null!==t&&void 0!==t&&null!==(b=t.preferredBikeDays)&&void 0!==b&&b.includes("Wednesday")?"Active Recovery":"Recovery",completed:!1,equipmentSpecific:(null===t||void 0===t||null===(w=t.preferredBikeDays)||void 0===w?void 0:w.includes("Wednesday"))&&!(null===t||void 0===t||!t.standUpBikeType)},{day:"Thursday",type:null!==t&&void 0!==t&&null!==(k=t.preferredBikeDays)&&void 0!==k&&k.includes("Thursday")?"bike":"easy",workout:null!==t&&void 0!==t&&null!==(x=t.preferredBikeDays)&&void 0!==x&&x.includes("Thursday")?L("Thursday","Easy"):{name:"Easy Run",description:"Conversational pace, aerobic base building"},focus:"Recovery",completed:!1,equipmentSpecific:(null===t||void 0===t||null===(S=t.preferredBikeDays)||void 0===S?void 0:S.includes("Thursday"))&&!(null===t||void 0===t||!t.standUpBikeType)},{day:"Friday",type:null!==t&&void 0!==t&&null!==(E=t.preferredBikeDays)&&void 0!==E&&E.includes("Friday")?"bike":"rest",workout:null!==t&&void 0!==t&&null!==(R=t.preferredBikeDays)&&void 0!==R&&R.includes("Friday")?L("Friday","Easy"):{name:"Rest Day",description:"Complete rest or light cross-training"},focus:null!==t&&void 0!==t&&null!==(I=t.preferredBikeDays)&&void 0!==I&&I.includes("Friday")?"Active Recovery":"Recovery",completed:!1,equipmentSpecific:(null===t||void 0===t||null===(P=t.preferredBikeDays)||void 0===P?void 0:P.includes("Friday"))&&!(null===t||void 0===t||!t.standUpBikeType)},{day:"Saturday",type:null!==t&&void 0!==t&&null!==(A=t.preferredBikeDays)&&void 0!==A&&A.includes("Saturday")?"bike":H.type,workout:null!==t&&void 0!==t&&null!==(N=t.preferredBikeDays)&&void 0!==N&&N.includes("Saturday")?L("Saturday","Hard"):{name:U.name,description:U.description},focus:null!==t&&void 0!==t&&null!==(M=t.preferredBikeDays)&&void 0!==M&&M.includes("Saturday")?"Aerobic Power":H.focus,completed:!1,equipmentSpecific:(null===t||void 0===t||null===(O=t.preferredBikeDays)||void 0===O?void 0:O.includes("Saturday"))&&!(null===t||void 0===t||!t.standUpBikeType),workoutDetails:U},{day:"Sunday",type:K.type,workout:{name:z.name,description:z.description},focus:K.focus,completed:!1,workoutDetails:z}]},A=(()=>{if(d<=0){var e;const t=new Date(null===l||void 0===l||null===(e=l.planOverview)||void 0===e?void 0:e.startDate);return{week:0,weekDates:{displayText:"Training starts ".concat(t.toLocaleDateString())},phase:"preparation",totalMileage:0,workouts:[{day:"Preparation",type:"preparation",workout:{name:"Training Starts Soon!",description:"Your RunEQ training plan will begin on ".concat(t.toLocaleDateString(),". Get ready!")},focus:"Preparation",completed:!1}]}}if(l&&l.weeks&&l.weeks.length>0){const e=l.weeks[d-1];if(e&&e.workouts&&e.workouts.length>0)return console.log("Using training plan data for week",d,"with",e.workouts.length,"workouts"),e.workouts.forEach(e=>{var t;"brickLongRun"===e.type&&console.log("Found brick workout:",e.day,null===(t=e.workout)||void 0===t?void 0:t.name)}),e}return console.log("Falling back to generated workouts for week",d),{week:d,weekDates:{displayText:"Week ".concat(d)},phase:"base",totalMileage:15,workouts:P(d,s)}})(),N=e=>({tempo:"#4299e1",intervals:"#e53e3e",hills:"#38a169",longRun:"#805ad5",bike:"#ff9500",brick:"#ff6b6b",brickLongRun:"#ff6b6b",easy:"#718096",rest:"#a0aec0",preparation:"#ffd700"}[e]||"#718096"),M=e=>{f({isOpen:!0,workout:e})},O=()=>{f({isOpen:!1,workout:null})},j=e=>{var t,n,r;const i=parseFloat(null===(t=e.workout)||void 0===t||null===(n=t.name)||void 0===n||null===(r=n.match(/\d+/))||void 0===r?void 0:r[0])||8,o=Math.round(.6*i),a=Math.round(.4*i*2.5),l=(0,Ce.A)((0,Ce.A)({},e),{},{type:"brickLongRun",workout:{name:"Brick Long Run (".concat(o,"mi run + ").concat(a,"mi ").concat(LE(null===s||void 0===s?void 0:s.standUpBikeType),")"),description:"".concat(o," mile run + ").concat(a," mile ").concat(LE(null===s||void 0===s?void 0:s.standUpBikeType)," ride")},focus:"Brick Endurance",equipmentSpecific:!0,replacementReason:"Converted to brick workout"}),c="".concat(d,"-").concat(e.day);g(e=>(0,Ce.A)((0,Ce.A)({},e),{},{[c]:l}))},L=e=>{const t="".concat(d,"-").concat(e.day);g(e=>{const n=(0,Ce.A)({},e);return delete n[t],n})};return(0,Sy.jsx)(Sy.Fragment,{children:(0,Sy.jsxs)("div",{style:{minHeight:"100vh"},children:[(0,Sy.jsx)("div",{style:{color:"#AAAAAA",padding:"20px 0"},children:(0,Sy.jsx)("div",{className:"container",children:(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h1",{style:{margin:"0 0 8px 0"},children:A.weekDates&&A.weekDates.displayText!=="Week ".concat(d)?"Week ".concat(d," (").concat(A.weekDates.displayText,")"):"Week ".concat(d," Training")}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap",marginTop:"8px"},children:[(()=>{const e=(e=>{if(null===e||void 0===e||!e.workouts)return{runMiles:0,bikeMiles:0,ellipticalMiles:0,runEqMiles:0,totalMiles:0,equivalentMiles:0};console.log("\ud83d\udd22 Calculating mileage for week:",e.week),console.log("\ud83d\udccb Workouts:",e.workouts);let t=0,n=0,r=0,i=0;e.workouts.forEach(o=>{var a,s,l,c,u,d,h,p,f,g,y;const v="".concat(e.week,"-").concat(o.day),b=m[v]||o;if(console.log("\ud83c\udfc3 ".concat(o.day,": ").concat(null===(a=b.workout)||void 0===a?void 0:a.name," (type: ").concat(b.type,")")),"brick"===b.type){var w,k,x,S;const e=null===(w=b.workout)||void 0===w||null===(k=w.description)||void 0===k?void 0:k.match(/(\d+(?:\.\d+)?)\s*mi.*run/i),r=null===(x=b.workout)||void 0===x||null===(S=x.description)||void 0===S?void 0:S.match(/(\d+(?:\.\d+)?)\s*mi.*bike/i);e&&(t+=parseFloat(e[1])),r&&(n+=parseFloat(r[1]))}else if(null!==(s=b.workout)&&void 0!==s&&null!==(l=s.name)&&void 0!==l&&l.match(/(\d+(?:\.\d+)?)\s*RunEQ\s*Miles?/i)){var E,T;const e=null===(E=b.workout)||void 0===E||null===(T=E.name)||void 0===T?void 0:T.match(/(\d+(?:\.\d+)?)\s*RunEQ\s*Miles?/i);if(e){var C;const t=parseFloat(e[1]);console.log("   \u2705 Extracted ".concat(t,' RunEQ miles from "').concat(null===(C=b.workout)||void 0===C?void 0:C.name,'" (already equivalent)')),i+=t}}else if(null!==(c=b.workout)&&void 0!==c&&null!==(u=c.name)&&void 0!==u&&u.includes("Bike")||null!==(d=b.workout)&&void 0!==d&&null!==(h=d.name)&&void 0!==h&&h.includes("Cycling")){var D,_;const e=null===(D=b.workout)||void 0===D||null===(_=D.name)||void 0===_?void 0:_.match(/(\d+(?:\.\d+)?)/);e&&(n+=parseFloat(e[1]))}else if(null!==(p=b.workout)&&void 0!==p&&null!==(f=p.name)&&void 0!==f&&f.includes("Elliptical")||null!==(g=b.workout)&&void 0!==g&&null!==(y=g.name)&&void 0!==y&&y.includes("ElliptiGO")){var R,I;const e=null===(R=b.workout)||void 0===R||null===(I=R.name)||void 0===I?void 0:I.match(/(\d+(?:\.\d+)?)/);e&&(r+=parseFloat(e[1]))}else{var P,A,N,M;const e=(null===(P=b.workout)||void 0===P||null===(A=P.name)||void 0===A?void 0:A.match(/(\d+(?:\.\d+)?)\s*-?\s*(mile|miles|mi)\b/i))||(null===(N=b.workout)||void 0===N||null===(M=N.name)||void 0===M?void 0:M.match(/^(\d+(?:\.\d+)?)\s*(mile|miles|mi)/i));if(e){var O;const n=parseFloat(e[1]);console.log("   \ud83d\udccf Extracted ".concat(n,' miles from "').concat(null===(O=b.workout)||void 0===O?void 0:O.name,'"')),t+=n}else{var j;let e=0;switch(b.type){case"rest":e=0;break;case"longRun":e=10;break;case"tempo":e=6;break;case"intervals":case"hills":e=5;break;default:e=4}console.log("   \ud83d\udccf Using default ".concat(e," miles for ").concat(b.type,' workout "').concat(null===(j=b.workout)||void 0===j?void 0:j.name,'"')),t+=e}}});const o=n/3,a=r/2,s=o+a+i,l=t+s;console.log("\ud83d\udcca Final mileage calculation:"),console.log("   Running: ".concat(t," miles")),console.log("   Biking: ".concat(n," miles (").concat(o," equivalent)")),console.log("   Elliptical: ".concat(r," miles (").concat(a," equivalent)")),console.log("   RunEQ: ".concat(i," miles (already equivalent)")),console.log("   Total: ".concat(l," miles"));const c={runMiles:Math.round(10*t)/10,bikeMiles:Math.round(10*n)/10,ellipticalMiles:Math.round(10*r)/10,runEqMiles:Math.round(10*i)/10,equivalentMiles:Math.round(10*s)/10,totalMiles:Math.round(10*l)/10};return console.log("\ud83d\udcca Rounded result:",c),c})(A),t=e.equivalentMiles>0;return(0,Sy.jsxs)("div",{style:{background:"rgba(0, 212, 255, 0.2)",color:"#00D4FF",padding:"8px 14px",borderRadius:"10px",fontWeight:"600",fontSize:"1.1rem",border:"1px solid rgba(0, 212, 255, 0.3)"},children:["\ud83d\udcca ",e.totalMiles," Miles This Week",t&&(0,Sy.jsxs)("div",{style:{fontSize:"0.85rem",fontWeight:"500",marginTop:"4px",color:"#66E8FF"},children:[e.runMiles,"mi run",e.bikeMiles>0&&" + ".concat(e.bikeMiles,"mi bike"),e.ellipticalMiles>0&&" + ".concat(e.ellipticalMiles,"mi elliptical"),(0,Sy.jsxs)("span",{style:{fontSize:"0.75rem",opacity:.8,display:"block",marginTop:"2px"},children:["(",e.equivalentMiles,"mi equivalent activity)"]})]})]})})(),(0,Sy.jsx)("span",{style:{color:"#EEEEEE",fontSize:"0.9rem",fontWeight:"500"},children:(B=A.phase||"base",B?jE.PHASES[B.toLowerCase()]||FE(B):"")})]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"12px",flexWrap:"wrap",alignItems:"center"},children:[(0,Sy.jsx)("button",{className:"btn btn-secondary",onClick:()=>h(Math.max(1,d-1)),disabled:d<=1,style:{background:"rgba(255,255,255,0.1)",color:"#AAAAAA",border:"1px solid rgba(255,255,255,0.2)"},children:"\u2190 Prev"}),(0,Sy.jsx)("select",{value:d,onChange:e=>h(parseInt(e.target.value,10)),style:{background:"rgba(0, 212, 255, 0.15)",color:"#00D4FF",border:"2px solid rgba(0, 212, 255, 0.4)",borderRadius:"8px",padding:"8px 12px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",minWidth:"120px"},children:Array.from({length:(null===l||void 0===l||null===(n=l.planOverview)||void 0===n?void 0:n.totalWeeks)||12},(e,t)=>t+1).map(e=>(0,Sy.jsxs)("option",{value:e,style:{background:"#1a1a1a",color:"#00D4FF"},children:["Week ",e]},e))}),(0,Sy.jsx)("button",{className:"btn btn-secondary",onClick:()=>{var e;return h(Math.min((null===l||void 0===l||null===(e=l.planOverview)||void 0===e?void 0:e.totalWeeks)||12,d+1))},disabled:d===((null===l||void 0===l||null===(r=l.planOverview)||void 0===r?void 0:r.totalWeeks)||12),style:{background:"rgba(255,255,255,0.1)",color:"#AAAAAA",border:"1px solid rgba(255,255,255,0.2)"},children:"Next \u2192"}),(0,Sy.jsx)("button",{onClick:()=>{window.confirm("Update your training plan with the latest features? This will regenerate workouts using current code while keeping your profile.")&&(()=>{if(s&&l)try{const e={raceDistance:l.planOverview.raceDistance,raceDate:l.planOverview.raceDate,startDate:l.planOverview.startDate,currentRaceTime:s.currentRaceTime,runsPerWeek:l.planOverview.runsPerWeek,experienceLevel:s.experienceLevel||"recreational",standUpBikeType:s.standUpBikeType,availableDays:s.availableDays,preferredBikeDays:s.preferredBikeDays,longRunDay:s.longRunDay||"Sunday",trainingStyle:s.trainingStyle||"prescribed"},t={planOverview:{raceDistance:e.raceDistance,raceDate:e.raceDate,startDate:e.startDate,totalWeeks:e.weeksAvailable||16,runsPerWeek:e.runsPerWeek},weeks:[]};JSON.parse(localStorage.getItem("runeq_modifiedWorkouts")||"{}"),localStorage.setItem("runeq_trainingPlan",JSON.stringify(t)),window.location.reload()}catch(e){console.error("Error refreshing training plan:",e),alert("Error refreshing plan. Please try again or contact support.")}})()},style:{background:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.3)",marginLeft:"12px",fontSize:"0.8rem",padding:"6px 12px",borderRadius:"4px"},children:"\ud83d\udd04 Refresh Plan"}),(0,Sy.jsx)("button",{onClick:()=>{const e="".concat(d,"-Wednesday"),t={id:"test",shortName:"Test Option",name:"Test Workout"};x({[e]:t}),console.log("\ud83e\uddea FORCED test selection:",e,t)},style:{background:"rgba(168, 85, 247, 0.1)",color:"#a855f7",border:"1px solid rgba(168, 85, 247, 0.3)",marginLeft:"12px",fontSize:"0.8rem",padding:"6px 12px",borderRadius:"4px"},children:"\ud83e\uddea Test Selection"}),(0,Sy.jsx)("button",{onClick:()=>{window.confirm("Clear all data and start over? This will reset your profile and training plan.")&&c()},style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",marginLeft:"12px",fontSize:"0.8rem",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},title:"Clear all data and restart onboarding",children:"\ud83d\uddd1\ufe0f Reset"}),(0,Sy.jsx)("button",{onClick:async()=>{window.confirm("Logout? Your data is saved and will be here when you log back in.")&&await Hi(wy)},style:{background:"rgba(156, 163, 175, 0.1)",color:"#9ca3af",border:"1px solid rgba(156, 163, 175, 0.3)",marginLeft:"12px",fontSize:"0.8rem",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},title:"Logout (your data is saved)",children:"\ud83d\udeaa Logout"})]})]})})}),(0,Sy.jsxs)("div",{className:"container",style:{padding:"20px 16px"},children:[(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px",background:"rgba(0, 212, 255, 0.1)",border:"1px solid rgba(0, 212, 255, 0.3)"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 4px 0",color:"#00D4FF"},children:"Current Training System"}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.2rem"},children:"\ud83d\udd2c"}),(0,Sy.jsx)("span",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:(F=(null===l||void 0===l||null===(o=l.planOverview)||void 0===o?void 0:o.trainingPhilosophy)||(null===s||void 0===s?void 0:s.trainingPhilosophy)||"Zone-Based Training",F?jE.TRAINING_SYSTEMS[F]||FE(F.replace(/_/g," ")):"")})]}),(0,Sy.jsxs)("p",{style:{margin:"4px 0 0 0",fontSize:"0.9rem",color:"#00D4FF"},children:["Week ",d," of ",(null===l||void 0===l||null===(a=l.planOverview)||void 0===a?void 0:a.totalWeeks)||16," \u2022 Periodized training system"]})]}),(0,Sy.jsx)("button",{className:"btn btn-secondary",onClick:()=>{var e;const t=(null===l||void 0===l||null===(e=l.planOverview)||void 0===e?void 0:e.totalWeeks)||16;alert("\ud83d\udd04 Switch Training System\n\nYou're at week "+d+" of "+t+" - perfect timing!\n\n\u2705 Week "+(d-1)+" progress preserved\n\ud83d\udcc5 Weeks "+(d+1)+"-"+t+" will be redesigned\n\ud83c\udfaf Race day plan unchanged\n\nChoose new system:\n\u2022 Practical Periodization (\ud83d\udca1 80/20 easy/hard)\n\u2022 High Mileage (\ud83d\udcaa Volume focused)\n\u2022 Polarized (\u26a1 Elite inspired)\n\u2022 Adaptive Pacing (\u23f1\ufe0f Fitness test driven)\n\u2022 Ben Parkes Method (\ud83c\udfaf Research-based)\n\nThis feature would show a full system selector!")},style:{fontSize:"0.9rem",whiteSpace:"nowrap"},children:"\ud83d\udd04 Switch System"})]}),(0,Sy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",fontSize:"0.85rem"},children:[(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px"},children:[(0,Sy.jsx)("strong",{children:"Focus:"})," ",A.phase?A.phase.charAt(0).toUpperCase()+A.phase.slice(1)+" Phase":"Periodized Training"]}),(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px"},children:[(0,Sy.jsx)("strong",{children:"Current Phase:"})," ",(A.phase||"base").toUpperCase()]}),(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px"},children:[(0,Sy.jsx)("strong",{children:"Switch Impact:"})," Minimal at Week ",d]})]})]}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,Sy.jsx)("h2",{style:{margin:0},children:"Week Progress"}),(0,Sy.jsxs)("span",{className:"badge badge-info",children:[A.workouts.filter(e=>e.completed).length,"/",A.workouts.filter(e=>"rest"!==e.type).length," completed"]})]}),(0,Sy.jsx)("div",{className:"progress-bar",children:(0,Sy.jsx)("div",{className:"progress-fill",style:{width:"".concat(A.workouts.filter(e=>e.completed).length/A.workouts.filter(e=>"rest"!==e.type).length*100,"%")}})})]}),"hot_humid"===s.climate&&(0,Sy.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)"},children:(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83c\udf21\ufe0f"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 4px 0",color:"#c05621"},children:"Climate Adjustment Active"}),(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem",color:"#744210"},children:["Paces automatically adjusted for ",s.climate.replace("_"," ")," conditions. Add 30-60 seconds per mile to easy runs when very humid."]})]})]})}),(0,Sy.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Sy.jsxs)("div",{className:"card-header",children:[(0,Sy.jsx)("h2",{style:{margin:0},children:"This Week's Workouts"}),(0,Sy.jsx)("p",{style:{margin:"8px 0 0 0",color:"#666"},children:s.standUpBikeType&&"Equipment-specific workouts marked with \u26a1"})]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:A.workouts.map(e=>{var t;const n=(e=>{const t="".concat(d,"-").concat(e.day);return m[t]||e})(e);return(0,Sy.jsxs)("div",{className:"card",style:{background:"rest"===n.type?"rgba(255, 255, 255, 0.03)":"rgba(255, 255, 255, 0.05)",border:"2px solid ".concat(N(n.type),"20"),borderLeft:"4px solid ".concat(N(n.type)),opacity:"rest"===n.type?.7:1,cursor:"rest"===n.type?"default":"pointer"},onClick:()=>(e=>{if("rest"===e.type||"preparation"===e.type)return;const t=(e.day||"unknown").toLowerCase().replace(/\s+/g,"-");u("/workout/".concat(t),{state:{workout:e,userProfile:s,currentWeek:d,weekData:A}})})(n),children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[(0,Sy.jsxs)("div",{style:{flex:1},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,Sy.jsx)("div",{children:(0,Sy.jsxs)("h3",{style:{margin:0,color:"#EEEEEE",fontSize:"1.1rem",fontWeight:"600"},children:[n.day,n.date&&n.date!==n.day&&(0,Sy.jsxs)("span",{style:{fontSize:"0.8rem",marginLeft:"8px",color:"#AAAAAA"},children:["(",n.date,")"]})]})}),n.equipmentSpecific&&(0,Sy.jsx)("span",{style:{fontSize:"1rem"},children:"\u26a1"}),"bike"===n.type&&(0,Sy.jsx)("span",{style:{fontSize:"1rem",color:"#ff9500"},title:"Pure bike workout",children:"\ud83d\udeb4"}),("brick"===n.type||"brickLongRun"===n.type)&&(0,Sy.jsx)("span",{style:{fontSize:"1rem",color:"#ff6b6b"},title:"Brick workout (Run + Bike combination)",children:"\ud83e\uddf1"}),n.completed&&(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.2rem"},children:"\u2713"}),n.replacementReason&&(0,Sy.jsx)("span",{style:{color:"var(--runeq-accent)",fontSize:"1.2rem"},title:"Changed: ".concat(n.replacementReason),children:"\ud83d\udd04"})]}),(0,Sy.jsx)("h4",{style:{margin:"0 0 4px 0",fontSize:"1.1rem",color:N(n.type)},children:n.workout.name}),I(n)&&(0,Sy.jsx)("div",{style:{display:"inline-block",background:"rgba(0, 212, 255, 0.15)",color:"#00D4FF",padding:"4px 10px",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",marginBottom:"8px",border:"1px solid rgba(0, 212, 255, 0.3)"},children:I(n)}),(0,Sy.jsx)("p",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#CCCCCC",lineHeight:"1.4"},children:n.workout.description}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Sy.jsx)("span",{className:"badge",style:{background:"".concat(N(n.type),"30"),color:N(n.type),fontSize:"0.8rem",fontWeight:"500"},children:n.focus}),n.equipmentSpecific&&(null===s||void 0===s||null===(t=s.preferredBikeDays)||void 0===t?void 0:t.includes(n.day))&&(0,Sy.jsx)("span",{className:"badge badge-warning",style:{fontSize:"0.8rem",fontWeight:"500"},children:LE(s.standUpBikeType)})]})]}),"rest"===n.type?(0,Sy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"16px"},children:(0,Sy.jsx)("button",{className:"btn",style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap",background:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.3)",fontWeight:"600"},onClick:e=>{e.stopPropagation(),M(n)},children:"\ud83c\udf1f Feeling Great? Add Workout"})}):"rest"!==n.type&&(0,Sy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"16px"},children:[("adventure"===(null===s||void 0===s?void 0:s.trainingStyle)||"flexible"===(null===s||void 0===s?void 0:s.trainingStyle)&&["tempo","intervals","longRun","hills"].includes(n.type))&&["tempo","intervals","longRun","hills","easy"].includes(n.type)&&(0,Sy.jsx)("button",{className:"btn btn-primary",style:{fontSize:"0.8rem",padding:"8px 12px",whiteSpace:"nowrap",background:"#4299e1",border:"1px solid #4299e1"},onClick:e=>{e.stopPropagation();const t="".concat(d,"-").concat(n.day);b[t]?(e=>{const t="".concat(d,"-").concat(e.day);w(e=>(0,Ce.A)((0,Ce.A)({},e),{},{[t]:!1}))})(n):(e=>{var t,n,r;const i="".concat(d,"-").concat(e.day);let o=[];const a=parseFloat(null===(t=e.workout)||void 0===t||null===(n=t.name)||void 0===n||null===(r=n.match(/\d+/))||void 0===r?void 0:r[0])||8;switch(e.type){case"intervals":o=R.getSpeedOptions(d,s);break;case"tempo":o=R.getTempoOptions(d,s);break;case"longRun":o=R.getLongRunOptions(d,s,a);break;case"hills":o=R.getHillOptions(d,s);break;case"easy":o=R.getEasyOptions(d,s,4);break;default:o=[]}v(e=>(0,Ce.A)((0,Ce.A)({},e),{},{[i]:o})),w(e=>(0,Ce.A)((0,Ce.A)({},e),{},{[i]:!0}))})(n)},children:(()=>{const e="".concat(d,"-").concat(n.day);return b[e]?"\ud83d\udccb Hide Options":"\ud83c\udfb2 Choose Adventure"})()}),("longRun"===n.type||"brickLongRun"===n.type)&&(null===s||void 0===s?void 0:s.standUpBikeType)&&"Sunday"===n.day&&(0,Sy.jsx)("button",{className:"btn",style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap",fontWeight:"600",background:"brickLongRun"===n.type?"#48bb78":"#ed8936",color:"white",border:"1px solid ".concat("brickLongRun"===n.type?"#48bb78":"#ed8936"),marginRight:"8px"},onClick:e=>{e.stopPropagation(),"brickLongRun"===n.type?L(n):j(n)},children:"brickLongRun"===n.type?"\ud83c\udfc3 Back to Run Only":"\ud83d\udeb4\u200d\u2642\ufe0f Make Brick Workout"}),("longRun"===n.type||"brickLongRun"===n.type)&&(null===s||void 0===s?void 0:s.standUpBikeType)&&"Sunday"!==n.day&&(0,Sy.jsx)("button",{className:"btn btn-success",style:{fontSize:"0.8rem",padding:"8px 12px",whiteSpace:"nowrap",background:"brickLongRun"===n.type?"#805ad5":"#ff6b6b",border:"1px solid ".concat("brickLongRun"===n.type?"#805ad5":"#ff6b6b")},onClick:e=>{e.stopPropagation(),"brickLongRun"===n.type?L(n):j(n)},children:"brickLongRun"===n.type?"\ud83c\udfc3 Make Regular Run":"\ud83e\uddf1 Make Brick Instead"}),(0,Sy.jsx)("button",{className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 12px",whiteSpace:"nowrap"},onClick:e=>{e.stopPropagation(),M(n)},children:"More Options"})]})]}),(()=>{const e="".concat(d,"-").concat(n.day),t=y[e];return b[e]&&t&&0!==t.length?(0,Sy.jsx)("div",{style:{marginTop:"12px"},children:(0,Sy.jsxs)("div",{className:"card",style:{background:"rgba(65, 153, 225, 0.15)",border:"1px solid rgba(65, 153, 225, 0.4)",backdropFilter:"blur(5px)"},children:[(0,Sy.jsxs)("h4",{style:{margin:"0 0 16px 0",color:"#4299e1",display:"flex",alignItems:"center",gap:"8px"},children:["\ud83c\udfb2 Choose Your ","longRun"===n.type?"Long Run":"intervals"===n.type?"Speed":"tempo"===n.type?"Tempo":"hills"===n.type?"Hill":"Easy Run"," Adventure"]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"12px"},children:t.map((e,t)=>{var r;const i=((e,t)=>{const n={"Very Easy":{bg:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 0.3)",accent:"#22c55e",icon:"\ud83d\ude0c"},Easy:{bg:"rgba(34, 197, 94, 0.15)",border:"rgba(34, 197, 94, 0.4)",accent:"#22c55e",icon:"\ud83d\udfe2"},"Easy-Moderate":{bg:"rgba(245, 158, 11, 0.1)",border:"rgba(245, 158, 11, 0.3)",accent:"#f59e0b",icon:"\ud83d\udfe1"},Moderate:{bg:"rgba(245, 158, 11, 0.15)",border:"rgba(245, 158, 11, 0.4)",accent:"#f59e0b",icon:"\ud83d\udd36"},"Medium-Hard":{bg:"rgba(239, 68, 68, 0.1)",border:"rgba(239, 68, 68, 0.3)",accent:"#ef4444",icon:"\ud83d\udd38"},Hard:{bg:"rgba(239, 68, 68, 0.15)",border:"rgba(239, 68, 68, 0.4)",accent:"#ef4444",icon:"\ud83d\udd25"},"Very Hard":{bg:"rgba(220, 38, 127, 0.1)",border:"rgba(220, 38, 127, 0.3)",accent:"#dc2626",icon:"\ud83d\udca5"},Variable:{bg:"rgba(168, 85, 247, 0.1)",border:"rgba(168, 85, 247, 0.3)",accent:"#a855f7",icon:"\u26a1"},"Variable Hard":{bg:"rgba(168, 85, 247, 0.15)",border:"rgba(168, 85, 247, 0.4)",accent:"#a855f7",icon:"\u26a1"},Progressive:{bg:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 0.3)",accent:"#3b82f6",icon:"\ud83d\udcc8"}};if(!n[e]&&t)return{Low:n.Easy,"Low-Moderate":n["Easy-Moderate"],Moderate:n.Moderate,"Moderate-High":n["Medium-Hard"],High:n.Hard,"Very High":n["Very Hard"]}[t]||n.Moderate;return n[e]||n.Moderate})(e.intensity,e.difficulty),o="".concat(d,"-").concat(n.day),a=(null===(r=k[o])||void 0===r?void 0:r.id)===e.id;return(0,Sy.jsxs)("div",{className:"card",style:{cursor:"pointer",background:a?"rgba(74, 222, 128, 0.2)":i.bg,border:a?"3px solid #4ade80":"2px solid ".concat(i.border),borderLeft:a?"6px solid #22c55e":"6px solid ".concat(i.accent),transition:"all 0.2s ease",backdropFilter:"blur(3px)",boxShadow:a?"0 4px 20px rgba(74, 222, 128, 0.4)":"0 4px 16px ".concat(i.accent,"20"),transform:a?"scale(1.02)":"scale(1)"},onClick:t=>{t.preventDefault(),t.stopPropagation(),((e,t)=>{const n="".concat(d,"-").concat(e.day);console.log("\ud83c\udfaf Option selected:",{workoutKey:n,selectedOption:t.shortName,workout:e.day,currentWeek:d,selectedOptionObject:t});try{const e=(0,Ce.A)((0,Ce.A)({},k),{},{[n]:t});console.log("\ud83d\udcdd Direct state update:",{oldState:k,newState:e,workoutKey:n,selectedOption:t.shortName}),x(e),console.log("\u2728 State update dispatched, should see confirmation buttons next")}catch(r){console.error("\u274c Error in handleSelectOption:",r)}})(n,e)},onMouseEnter:e=>{e.currentTarget.style.background=i.bg.replace("0.1","0.2").replace("0.15","0.25"),e.currentTarget.style.border="2px solid ".concat(i.accent),e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px ".concat(i.accent,"40")},onMouseLeave:e=>{e.currentTarget.style.background=i.bg,e.currentTarget.style.border="2px solid ".concat(i.border),e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[(0,Sy.jsxs)("div",{style:{flex:1},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.2rem"},children:i.icon}),(0,Sy.jsx)("h5",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:i.accent},children:e.name}),a&&(0,Sy.jsx)("span",{style:{background:"#22c55e",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600"},children:"\u2713 SELECTED"})]}),(0,Sy.jsx)("p",{style:{margin:"0 0 10px 0",fontSize:"0.9rem",color:"#CCCCCC",lineHeight:"1.4"},children:e.description}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"12px",fontSize:"0.8rem",color:"#AAAAAA",marginBottom:"8px"},children:[(0,Sy.jsxs)("span",{children:["\u23f1\ufe0f ",e.timeRequired]}),(0,Sy.jsxs)("span",{children:["\ud83d\udccd ",e.location]}),(0,Sy.jsxs)("span",{children:["\ud83d\udcaa ",e.difficulty]})]})]}),(0,Sy.jsx)("div",{style:{background:i.accent+"20",color:i.accent,padding:"6px 12px",borderRadius:"16px",fontSize:"0.8rem",fontWeight:"600",whiteSpace:"nowrap",marginLeft:"12px",border:"1px solid ".concat(i.accent,"40")},children:e.focus})]}),(0,Sy.jsxs)("div",{style:{background:i.accent+"15",color:i.accent,padding:"8px 12px",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"500",border:"1px solid ".concat(i.accent,"30")},children:["\ud83d\udca1 ",e.benefits]})]},e.id)})}),(0,Sy.jsx)("div",{style:{marginTop:"12px",padding:"8px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.8rem",color:"#666",fontStyle:"italic"},children:["\ud83d\udca1 ",(0,Sy.jsx)("strong",{children:"All options target the same training system"})," - choose based on your mood, time, and location!"]})}),(()=>{const e="".concat(d,"-").concat(n.day),t=k[e];return console.log("\ud83d\udd0d Checking confirmation buttons:",{workoutKey:e,selectedOption:(null===t||void 0===t?void 0:t.shortName)||"none",hasSelection:!!t,selectedOptionsState:k}),t?(console.log("\u2705 Showing confirmation buttons for:",t.shortName),console.log("   Confirmation buttons should be visible now!"),console.warn("\ud83d\udea8 BUTTONS RENDERING NOW - they should be bright green and obvious!"),(0,Sy.jsxs)("div",{style:{marginTop:"16px",padding:"20px",background:"linear-gradient(135deg, rgba(74, 222, 128, 0.3), rgba(34, 197, 94, 0.2))",border:"3px solid #22c55e",borderRadius:"12px",boxShadow:"0 8px 25px rgba(34, 197, 94, 0.4)",position:"relative",zIndex:1e3},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u2705"}),(0,Sy.jsxs)("span",{style:{color:"#4ade80",fontWeight:"600",fontSize:"0.9rem"},children:["Selected: ",t.shortName]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Sy.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),(async e=>{const t="".concat(d,"-").concat(e.day),n=k[t];if(!n)return;const r=(0,Ce.A)((0,Ce.A)({},e),{},{workout:(0,Ce.A)({},n),focus:n.focus||e.focus,replacementReason:"Choose Your Adventure selection"}),i=(0,Ce.A)((0,Ce.A)({},m),{},{[t]:r});g(i),localStorage.setItem("runeq_modifiedWorkouts",JSON.stringify(i)),wy.currentUser&&(await xy.saveModifiedWorkout(wy.currentUser.uid,d,e.day,r),console.log("\u2705 SAVED to Firestore:",n.name,"for",e.day)),x({}),w(e=>(0,Ce.A)((0,Ce.A)({},e),{},{[t]:!1}))})(n)},style:{flex:1,padding:"12px 20px",background:"linear-gradient(135deg, #22c55e, #16a34a)",color:"white",border:"2px solid #16a34a",borderRadius:"8px",fontSize:"1rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 1px 2px rgba(0,0,0,0.3)",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.4)"},onMouseEnter:e=>e.target.style.background="#22c55e",onMouseLeave:e=>e.target.style.background="#4ade80",children:"\u2713 Confirm Selection"}),(0,Sy.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{const t="".concat(d,"-").concat(e.day);x(e=>{const n=(0,Ce.A)({},e);return delete n[t],n})})(n)},style:{padding:"8px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(239, 68, 68, 0.2)",e.target.style.borderColor="#ef4444"},onMouseLeave:e=>{e.target.style.background="rgba(239, 68, 68, 0.1)",e.target.style.borderColor="rgba(239, 68, 68, 0.3)"},children:"\u2717 Cancel"})]})]})):(console.log("\u274c No selectedOption found for key:",e),console.log("   Available keys:",Object.keys(k)),null)})()]})}):null})()]},e.day)})})]}),(0,Sy.jsxs)("div",{className:"card",style:{background:"linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%)",border:"1px solid #90cdf4"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00D4FF"},children:"\ud83d\ude80 Your RunEQ Advantages"}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00D4FF",fontSize:"1.2rem"},children:"\ud83d\udd04"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Flexible scheduling:"})," Miss a workout? We'll ",s.missedWorkoutPreference]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00D4FF",fontSize:"1.2rem"},children:"\ud83c\udf21\ufe0f"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Climate smart:"})," Automatic pace adjustments for your local weather"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00D4FF",fontSize:"1.2rem"},children:"\ud83c\udfa8"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Never boring:"})," 80+ workout variations from research-based sources"]})]}),s.standUpBikeType&&(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00D4FF",fontSize:"1.2rem"},children:"\u26a1"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Equipment Optimized:"})," ",LE(s.standUpBikeType),"-specific motion training"]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{color:"#00D4FF",fontSize:"1.2rem"},children:"\ud83d\udcf1"}),(0,Sy.jsxs)("span",{children:[(0,Sy.jsx)("strong",{children:"Cross-platform:"})," Works on phone, tablet, and web (unlike competitors!)"]})]})]})]})]}),(0,Sy.jsx)(VE,{isOpen:p.isOpen,onClose:O,currentWorkout:p.workout,userProfile:s,trainingPlan:l,onWorkoutSelect:e=>{const t="".concat(d,"-").concat(e.day),n=(0,Ce.A)((0,Ce.A)({},m),{},{[t]:e});g(n);try{var r;localStorage.setItem("runeq_modifiedWorkouts",JSON.stringify(n)),console.log("\ud83d\udcbe Saved workout replacement:",t,null===(r=e.workout)||void 0===r?void 0:r.name)}catch(i){console.error("Error saving modified workouts:",i)}O()},weather:null})]})});var F,B};const KE=function(e){var t,n,r,o;let{userProfile:a,trainingPlan:s}=e;const l=ee(),{day:c}=function(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),u=J(),[d,h]=(0,i.useState)({isOpen:!1,workout:null}),[p,f]=(0,i.useState)(null),m=null===(t=u.state)||void 0===t?void 0:t.workout,g=(null===(n=u.state)||void 0===n?void 0:n.userProfile)||a,y=(null===(r=u.state)||void 0===r?void 0:r.currentWeek)||1,v=null===(o=u.state)||void 0===o?void 0:o.weekData,b=m||(e=>{if(v&&v.workouts)return v.workouts.find(t=>t.day&&t.day.toLowerCase()===e.toLowerCase());if(!s||!s.weeks)return null;const t=Math.min(y-1,s.weeks.length-1),n=s.weeks[t];return n&&n.workouts?n.workouts.find(t=>t.day&&t.day.toLowerCase()===e.toLowerCase()):null})(c),w={tuesday:{name:null!==a&&void 0!==a&&a.standUpBikeType?"Progressive Build Session":"Sandwich Tempo",type:"tempo",focus:"Lactate Threshold",duration:"45 minutes",description:null!==a&&void 0!==a&&a.standUpBikeType?"Gradually increasing intensity throughout session on your stand-up bike":"Tempo effort sandwiched between easy running",structure:null!==a&&void 0!==a&&a.standUpBikeType?"20 min easy + 20-40 min progressive build to tempo + 10 min easy":"10-15 min easy warmup + 15-20 min tempo + 5-10 min easy cooldown",equipmentSpecific:!(null===a||void 0===a||!a.standUpBikeType),intensity:"Medium-hard effort, sustainable for 20-60 minutes",heartRate:"86-90% Max HR",paceGuidance:null!==a&&void 0!==a&&a.standUpBikeType?"".concat(LE(null===a||void 0===a?void 0:a.standUpBikeType)," specific: Focus on smooth ").concat("cyclete"===(null===a||void 0===a?void 0:a.standUpBikeType)?"teardrop":"elliptical"," motion"):"Half marathon to 10-mile race pace",safetyNotes:['Start conservatively - tempo should feel "controlled discomfort"',"If breathing becomes labored, slow down slightly","Better to run slightly too easy than too hard"],alternatives:{tooHot:"Move indoors or to early morning",tooTired:"Easy run with 4-6 x 1 minute pickups",timeConstraint:"20 min tempo run instead of full session",noEquipment:null!==a&&void 0!==a&&a.standUpBikeType?"Traditional running tempo workout":"Treadmill with 1% incline"}},thursday:{name:"Easy Run",type:"easy",focus:"Recovery",duration:"35-45 minutes",description:"Conversational pace, aerobic base building",structure:"Easy effort throughout, should feel refreshed after",equipmentSpecific:!1,intensity:"Easy conversational pace",heartRate:"65-79% Max HR",paceGuidance:"Should be able to speak in full sentences",safetyNotes:["This should feel easy - not a workout day","Focus on form and relaxation","Cut short if feeling overly fatigued"],alternatives:{tooHot:"Move to air conditioning or pool running",tooTired:"Walk or very easy bike ride",injury:"Cross-training or complete rest",timeConstraint:"20-30 minutes is fine"}},sunday:{name:"Conversational Long Run",type:"longRun",focus:"Endurance",duration:"60-75 minutes",description:"Easy long run emphasizing conversational pace",structure:"Run with partner/group, maintain conversation throughout",equipmentSpecific:!1,intensity:"Easy conversational pace",heartRate:"65-78% Max HR",paceGuidance:"If you can't hold a conversation, you're going too fast",safetyNotes:["Carry water for runs over 60 minutes","Know your route and have bailout options","Focus on time on feet, not speed"],alternatives:{tooHot:"Start very early or split into two shorter runs",timeConstraint:"Run for available time, maintain easy effort",noPartner:"Solo run with audiobook or podcast",injury:"Long bike ride or pool running session"}}},k=function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").toLowerCase();return t.includes("fartlek")?"Develops speed, mental toughness, and ability to surge during races. Improves VO2 max and teaches body to handle varied paces.":t.includes("progressive")?"Builds mental strength and pacing skills. Teaches body to run strong when tired. Improves lactate clearance and finishing speed.":t.includes("tempo")||"tempo"===e?"Raises lactate threshold, improves race pace endurance, and builds mental toughness. Key workout for half marathon and marathon training.":t.includes("interval")||t.includes("speed")||"intervals"===e?"Increases VO2 max, running economy, and speed. Develops neuromuscular power and teaches body to handle high-intensity efforts.":t.includes("hill")||"hills"===e?"Builds leg strength, power, and running economy. Improves form and reduces injury risk through strength development.":t.includes("long")||"longRun"===e?"Builds aerobic endurance, fat adaptation, and mental toughness. Strengthens bones, tendons, and cardiovascular system.":t.includes("easy")||t.includes("recovery")||"easy"===e?"Promotes recovery, builds aerobic base, and strengthens cardiovascular system without stress. Allows body to adapt to training.":"Develops overall fitness and running ability"},x=b?(e=>{var t,n,r,i,o,a,s,l,c,u,d,h,p,f,m,y,v,b,w,x;if(!e)return null;const S=e.workoutDetails||e.workout,E=e.type;console.log("\ud83d\udd0d WorkoutDetail - transformWorkoutData:"),console.log("  workoutType:",E),console.log("  workoutData:",e),console.log("  workoutData.workout:",e.workout),console.log("  workoutData.workout.structure:",null===(t=e.workout)||void 0===t?void 0:t.structure),console.log("  workoutLib:",S),console.log("  workoutLib.structure:",null===S||void 0===S?void 0:S.structure),console.log("  workoutLib.totalWorkout:",null===S||void 0===S?void 0:S.totalWorkout),console.log("  workoutLib.totalWorkout.structure:",null===S||void 0===S||null===(n=S.totalWorkout)||void 0===n?void 0:n.structure),console.log("  workoutLib.repetitions:",null===S||void 0===S?void 0:S.repetitions);const T=(e=>{switch(e){case"intervals":return{intensity:"High intensity - 5K to 1-mile race pace",heartRate:"90-100% Max HR"};case"tempo":return{intensity:"Medium-hard effort, sustainable for 20-60 minutes",heartRate:"86-90% Max HR"};case"hills":return{intensity:"Hard effort on hills, easy on recovery",heartRate:"85-95% Max HR"};case"longRun":return{intensity:"Easy conversational pace",heartRate:"70-80% Max HR"};default:return{intensity:"Moderate effort",heartRate:"70-85% Max HR"}}})(E);let C=null;if(null!==(r=e.workout)&&void 0!==r&&r.structure)C=e.workout.structure;else if(null!==S&&void 0!==S&&S.workout)C=S.workout;else if(null!==S&&void 0!==S&&null!==(i=S.totalWorkout)&&void 0!==i&&i.structure){if(C=S.totalWorkout.structure,"intervals"===E&&S.repetitions){const e=/(\d+)-(\d+)\s*x\s*(\S+)/g;C=C.replace(e,(e,t,n,r)=>{if(S.repetitions.includes(r)){const e=S.repetitions.match(/(\d+\s*x\s*\S+)/);if(e)return e[1]}return e})}}else null!==S&&void 0!==S&&S.structure?C=S.structure:null!==S&&void 0!==S&&S.repetitions&&null!==S&&void 0!==S&&S.recovery?C="".concat(S.repetitions," with ").concat(S.recovery):null!==S&&void 0!==S&&S.repetitions?C="".concat(S.repetitions):null!==(o=e.workout)&&void 0!==o&&o.structure&&(C=e.workout.structure);if(!C||"Complete the workout as prescribed"===C){var D,_,R;const t=(null===(D=e.workout)||void 0===D?void 0:D.name)||(null===S||void 0===S?void 0:S.name)||"Workout",n=(null===(_=e.workout)||void 0===_?void 0:_.description)||(null===S||void 0===S?void 0:S.description)||"",r=(null===(R=e.workout)||void 0===R?void 0:R.duration)||(null===S||void 0===S?void 0:S.duration)||"30-45 minutes";C=t.toLowerCase().includes("fartlek")?"10 min warmup + 20-30 min fartlek (surge when you feel strong, recover as needed) + 10 min cooldown":t.toLowerCase().includes("progressive")?"10 min easy + gradually build pace to moderate-hard finish + 5 min cooldown":t.toLowerCase().includes("tempo")?"10-15 min easy warmup + 20-30 min @ comfortably hard pace + 5-10 min cooldown":t.toLowerCase().includes("interval")||t.toLowerCase().includes("speed")?"15 min warmup + intervals at high intensity with recovery + 10 min cooldown":t.toLowerCase().includes("easy")||t.toLowerCase().includes("recovery")?"".concat(r," at conversational pace throughout"):t.toLowerCase().includes("long")?"".concat(r," at steady, easy pace - focus on time on feet"):n||"Complete the workout as prescribed"}const I=(null===(a=e.workout)||void 0===a||null===(s=a.effort)||void 0===s?void 0:s.perceived)||(null===S||void 0===S?void 0:S.intensity)||T.intensity,P=(null===(l=e.workout)||void 0===l||null===(c=l.effort)||void 0===c?void 0:c.heartRate)||(null===S||void 0===S?void 0:S.heartRate)||T.heartRate;let A="Maintain steady effort throughout";var N,M;e.equipmentSpecific&&null!==g&&void 0!==g&&g.standUpBikeType?A="cyclete"===g.standUpBikeType&&null!==(N=e.workout)&&void 0!==N&&N.cycleteNotes?e.workout.cycleteNotes:"elliptigo"===g.standUpBikeType&&null!==(M=e.workout)&&void 0!==M&&M.elliptigoNotes?e.workout.elliptigoNotes:"".concat(LE(g.standUpBikeType)," specific: Focus on smooth motion and consistent effort"):"intervals"===E&&null!==S&&void 0!==S&&null!==(u=S.paces)&&void 0!==u&&u.interval?A="".concat(S.paces.interval.pace,"/mile"):null!==S&&void 0!==S&&null!==(d=S.paces)&&void 0!==d&&d.threshold?A="".concat(S.paces.threshold.pace,"/mile"):null!==S&&void 0!==S&&null!==(h=S.paces)&&void 0!==h&&h.interval?A="".concat(S.paces.interval.pace,"/mile"):null!==S&&void 0!==S&&null!==(p=S.paces)&&void 0!==p&&p.easy?A="".concat(S.paces.easy.min,"-").concat(S.paces.easy.max,"/mile"):null!==S&&void 0!==S&&S.paceGuidance&&(A="object"===typeof S.paceGuidance?S.paceGuidance.description||"Maintain steady effort throughout":S.paceGuidance);let O=null!==S&&void 0!==S&&S.safetyNotes&&Array.isArray(S.safetyNotes)&&S.safetyNotes.length>0?S.safetyNotes:["Listen to your body and adjust as needed","Stay hydrated throughout the workout","Stop if you feel pain or excessive fatigue"];null!==(f=e.workout)&&void 0!==f&&f.roadConsiderations&&(O=[...O,"Road planning: ".concat(e.workout.roadConsiderations)]);let j=(null===(m=e.workout)||void 0===m?void 0:m.duration)||(null===S||void 0===S?void 0:S.duration)||"30-45 minutes";if(C&&"string"===typeof C){const e=C.match(/(\d+-\d+)\s*minutes?\s*total/i);e?j="".concat(e[1]," minutes total"):C.includes("warmup")&&C.includes("cooldown")&&(j="".concat((null===S||void 0===S?void 0:S.duration)||"30-45 minutes"," (main set)"))}return{name:(null===(y=e.workout)||void 0===y?void 0:y.name)||(null===S||void 0===S?void 0:S.name)||"Workout",type:e.type||"easy",focus:e.focus||(null===S||void 0===S?void 0:S.focus)||"Recovery",duration:j,description:(null===(v=e.workout)||void 0===v?void 0:v.description)||(null===S||void 0===S?void 0:S.description)||"Standard workout",structure:C,equipmentSpecific:e.equipmentSpecific||!1,intensity:I,heartRate:P,paceGuidance:A,safetyNotes:O,alternatives:(null===(b=e.workout)||void 0===b?void 0:b.alternatives)||(null===S||void 0===S?void 0:S.alternatives)||{tooHot:"Move indoors or adjust timing",tooTired:"Easy recovery pace instead",timeConstraint:"Reduce duration but maintain intensity",noEquipment:"Bodyweight alternative available"},hillRequirement:null===S||void 0===S?void 0:S.hillRequirement,terrainInstructions:null===S||void 0===S?void 0:S.terrainInstructions,progression:null===S||void 0===S?void 0:S.progression,benefits:(null===(w=e.workout)||void 0===w?void 0:w.benefits)||(null===S||void 0===S?void 0:S.benefits)||k(E,(null===(x=e.workout)||void 0===x?void 0:x.name)||(null===S||void 0===S?void 0:S.name)),variations:null===S||void 0===S?void 0:S.variations,examples:null===S||void 0===S?void 0:S.examples,trackIntervals:null===S||void 0===S?void 0:S.trackIntervals,fueling:null===S||void 0===S?void 0:S.fueling,runEqOptions:e.runEqOptions,coachingGuidance:e.coachingGuidance}})(b):w[c]||w.tuesday,S=p||x,E=()=>{h({isOpen:!1,workout:null})};return(0,Sy.jsxs)("div",{style:{minHeight:"100vh",background:"#0a0a0a"},children:[(0,Sy.jsxs)("div",{style:{background:(D=S.type,{tempo:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",intervals:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",hills:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",longRun:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",easy:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}[D]||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"),padding:"32px 0 48px 0",position:"relative",overflow:"hidden"},children:[(0,Sy.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.1,background:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,.05) 10px, rgba(255,255,255,.05) 20px)"}}),(0,Sy.jsxs)("div",{className:"container",style:{position:"relative",zIndex:1},children:[(0,Sy.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[(0,Sy.jsx)("button",{onClick:()=>l(-1),style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"8px 16px",borderRadius:"12px",display:"flex",alignItems:"center",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"\u2190 Back"}),(0,Sy.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"rgba(34, 197, 94, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(34, 197, 94, 0.4)",color:"#22c55e",fontSize:"0.9rem",cursor:"pointer",padding:"8px 16px",borderRadius:"12px",display:"flex",alignItems:"center",fontWeight:"600",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",gap:"6px"},title:"Reload workout data from libraries (useful after code changes)",children:"\ud83d\udd04 Refresh"})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[(0,Sy.jsx)("div",{style:{fontSize:"4rem",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"},children:(e=>({tempo:"\u26a1",intervals:"\ud83d\udd25",hills:"\u26f0\ufe0f",longRun:"\ud83c\udfc3",easy:"\ud83c\udf24\ufe0f"}[e]||"\ud83d\udcaa"))(S.type)}),(0,Sy.jsxs)("div",{style:{flex:1},children:[(0,Sy.jsx)("h1",{style:{margin:0,color:"white",fontSize:"2.5rem",fontWeight:"800",textShadow:"0 2px 8px rgba(0,0,0,0.2)",letterSpacing:"-0.5px"},children:"string"===typeof S.name?S.name:"object"===typeof S.name?JSON.stringify(S.name):"Workout"}),(0,Sy.jsxs)("p",{style:{margin:"8px 0 0 0",color:"rgba(255,255,255,0.95)",fontSize:"1.1rem",fontWeight:"500"},children:[c.charAt(0).toUpperCase()+c.slice(1)," \u2022 ","string"===typeof S.duration?S.duration:"object"===typeof S.duration?JSON.stringify(S.duration):"30-45 minutes"]})]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Sy.jsxs)("span",{style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(10px)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:["\ud83c\udfaf ",S.focus]}),S.equipmentSpecific&&(null===a||void 0===a?void 0:a.standUpBikeType)&&(0,Sy.jsxs)("span",{style:{background:"rgba(255, 184, 0, 0.3)",backdropFilter:"blur(10px)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:["\u26a1 ",LE(a.standUpBikeType)]})]})]})]}),(0,Sy.jsxs)("div",{className:"container",style:{padding:"24px 16px"},children:[(0,Sy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.3)",border:"2px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:"\ud83c\udfc3"}),(0,Sy.jsx)("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Target Pace"}),(0,Sy.jsx)("div",{style:{color:"white",fontSize:"1.5rem",fontWeight:"800",lineHeight:"1.2"},children:(e=>{if("string"===typeof e)return e;if("object"===typeof e){const t=Object.entries(e);return 1===t.length?t[0][1]:t.map(e=>{let[t,n]=e;return"".concat(t.charAt(0).toUpperCase()+t.slice(1),": ").concat(n)}).join(" | ")}return"Steady, controlled effort"})(S.paceGuidance)})]}),(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 24px rgba(240, 147, 251, 0.3)",border:"2px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:"\ud83d\udcaa"}),(0,Sy.jsx)("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Intensity"}),(0,Sy.jsx)("div",{style:{color:"white",fontSize:"1.1rem",fontWeight:"700",lineHeight:"1.3"},children:"string"===typeof S.intensity?(C=S.intensity,C?jE.INTENSITY_LABELS[C]?jE.INTENSITY_LABELS[C]:C.includes(" ")&&!C.includes("_")&&C.charAt(0)===C.charAt(0).toUpperCase()?C:FE(C.replace(/_/g," ")):""):"object"===typeof S.intensity?JSON.stringify(S.intensity):"Medium Effort"})]}),(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 24px rgba(250, 112, 154, 0.3)",border:"2px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:"\u2764\ufe0f"}),(0,Sy.jsx)("div",{style:{color:"rgba(0,0,0,0.7)",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Heart Rate Zone"}),(0,Sy.jsx)("div",{style:{color:"#1a1a1a",fontSize:"1.5rem",fontWeight:"800",lineHeight:"1.2"},children:"string"===typeof S.heartRate?(T=S.heartRate,T?T.replace(/max hr/gi,"Max HR").replace(/max heart rate/gi,"Max Heart Rate").replace(/hr/gi,"HR"):""):"object"===typeof S.heartRate?JSON.stringify(S.heartRate):"70-85% Max HR"})]})]}),(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",border:"2px solid rgba(102, 126, 234, 0.3)",borderRadius:"20px",padding:"24px",marginBottom:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)"},children:[(0,Sy.jsxs)("h2",{style:{margin:"0 0 20px 0",color:"white",fontSize:"1.8rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"2rem"},children:"\ud83d\udccb"}),"Workout Structure"]}),(0,Sy.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(10px)",padding:"20px",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"1.1rem",lineHeight:"2",color:"white",fontWeight:"500",whiteSpace:"pre-line"},children:(e=>{if("string"===typeof e)return e;if(Array.isArray(e))return e.map((e,t)=>{if("object"===typeof e){const t=[];return e.duration&&t.push(e.duration),e.type&&t.push(e.type),e.intensity&&t.push("@ ".concat(e.intensity)),e.description&&t.push("(".concat(e.description,")")),e.activity&&t.push(e.activity),t.join(" ")}return e}).join(" \u2192 ");if("object"===typeof e){const t=[];return e.warmup&&t.push("**Warmup:** ".concat(e.warmup)),e.main&&t.push("**Main Set:** ".concat(e.main)),e.recovery&&t.push("**Recovery:** ".concat(e.recovery)),e.cooldown&&t.push("**Cooldown:** ".concat(e.cooldown)),e.repeat&&t.push("**Repeat:** ".concat(e.repeat)),e.effort&&t.push("**Effort:** ".concat(e.effort)),e.technique&&t.push("**Technique:** ".concat(e.technique)),e.style&&t.push("**Style:** ".concat(e.style)),e.approach&&t.push("**Approach:** ".concat(e.approach)),e.pattern&&t.push("**Pattern:** ".concat(e.pattern)),t.length>0?t.join("\n\n"):Object.entries(e).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ")}return"Complete the workout as prescribed"})(S.structure)})]}),S.description&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700"},children:"About This Workout"}),(0,Sy.jsx)("p",{style:{fontSize:"1rem",margin:0,lineHeight:"1.7",color:"#ddd"},children:"string"===typeof S.description?S.description:"object"===typeof S.description?JSON.stringify(S.description):"Standard workout description"})]}),"hot_humid"===(null===a||void 0===a?void 0:a.climate)&&(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 184, 0, 0.15) 0%, rgba(255, 120, 0, 0.15) 100%)",border:"2px solid rgba(255, 184, 0, 0.4)",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 4px 16px rgba(255, 184, 0, 0.2)"},children:[(0,Sy.jsxs)("h3",{style:{margin:"0 0 16px 0",color:"#FFB800",fontSize:"1.5rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.8rem"},children:"\ud83c\udf21\ufe0f"}),"Climate Adjustments"]}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\u23f1\ufe0f"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#FFB800",display:"block",marginBottom:"4px"},children:"Pace:"}),(0,Sy.jsx)("span",{style:{color:"#ddd"},children:"Add 30-60 seconds per mile in high humidity"})]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udca7"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#FFB800",display:"block",marginBottom:"4px"},children:"Hydration:"}),(0,Sy.jsx)("span",{style:{color:"#ddd"},children:"Drink before feeling thirsty"})]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83c\udf05"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#FFB800",display:"block",marginBottom:"4px"},children:"Timing:"}),(0,Sy.jsx)("span",{style:{color:"#ddd"},children:"Early morning (before 7am) or late evening recommended"})]})]}),(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udcaa"}),(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#FFB800",display:"block",marginBottom:"4px"},children:"Effort:"}),(0,Sy.jsx)("span",{style:{color:"#ddd"},children:"Focus on effort level rather than exact pace"})]})]})]})]}),(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 200, 100, 0.1) 100%)",border:"2px solid rgba(0, 255, 136, 0.3)",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 4px 16px rgba(0, 255, 136, 0.15)"},children:[(0,Sy.jsxs)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.5rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.8rem"},children:"\u2705"}),"Safety & Execution Notes"]}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"12px"},children:(Array.isArray(S.safetyNotes)?S.safetyNotes:["Listen to your body and adjust as needed","Stay hydrated throughout the workout","Stop if you feel pain or excessive fatigue"]).map((e,t)=>(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"8px 0"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.5rem",minWidth:"24px"},children:"\u2022"}),(0,Sy.jsx)("span",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:"string"===typeof e?e:JSON.stringify(e)})]},t))})]}),S.hillRequirement&&(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(79, 172, 254, 0.15) 0%, rgba(0, 242, 254, 0.15) 100%)",border:"2px solid rgba(79, 172, 254, 0.4)",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 4px 16px rgba(79, 172, 254, 0.2)"},children:[(0,Sy.jsxs)("h3",{style:{margin:"0 0 16px 0",color:"#4facfe",fontSize:"1.5rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.8rem"},children:"\u26f0\ufe0f"}),"Hill Requirements"]}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[S.hillRequirement.description&&(0,Sy.jsxs)("div",{children:[(0,Sy.jsx)("strong",{style:{color:"#4facfe",display:"block",marginBottom:"8px",fontSize:"1.1rem"},children:"\ud83d\udccd Description:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:S.hillRequirement.description})]}),S.hillRequirement.grade&&(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("strong",{style:{color:"#4facfe",fontSize:"1.1rem"},children:"\ud83d\udcc8 Grade:"}),(0,Sy.jsx)("span",{style:{fontSize:"1rem",color:"#ddd"},children:S.hillRequirement.grade})]}),S.hillRequirement.distance&&(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("strong",{style:{color:"#4facfe",fontSize:"1.1rem"},children:"\ud83d\udccf Distance:"}),(0,Sy.jsx)("span",{style:{fontSize:"1rem",color:"#ddd"},children:S.hillRequirement.distance})]})]})]}),S.terrainInstructions&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83c\udfde\ufe0f Terrain Instructions"}),"string"===typeof S.terrainInstructions?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.terrainInstructions}):"object"===typeof S.terrainInstructions?(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:Object.entries(S.terrainInstructions).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("strong",{style:{color:"#00FF88",textTransform:"capitalize",display:"block",marginBottom:"6px",fontSize:"1.1rem"},children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),"string"===typeof n?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:n}):Array.isArray(n)?(0,Sy.jsx)("div",{style:{paddingLeft:"12px"},children:n.map((e,t)=>(0,Sy.jsxs)("p",{style:{margin:"4px 0",fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:["\u2022 ",e]},t))}):(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:JSON.stringify(n)})]},t)})}):null]}),S.benefits&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83d\udcaa Benefits"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.benefits})]}),S.progression&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83d\udcc8 Progression"}),"string"===typeof S.progression?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.progression}):"object"===typeof S.progression?(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:Object.entries(S.progression).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("strong",{style:{color:"#00FF88",textTransform:"capitalize",display:"block",marginBottom:"6px",fontSize:"1.1rem"},children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:n})]},t)})}):null]}),S.variations&&Array.isArray(S.variations)&&S.variations.length>0&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83d\udd04 Variations"}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"12px"},children:S.variations.map((e,t)=>(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"8px 0"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.5rem",minWidth:"24px"},children:"\u2022"}),(0,Sy.jsx)("span",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:e})]},t))})]}),S.examples&&Array.isArray(S.examples)&&S.examples.length>0&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83d\udcdd Examples"}),(0,Sy.jsx)("div",{style:{display:"grid",gap:"12px"},children:S.examples.map((e,t)=>(0,Sy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"8px 0"},children:[(0,Sy.jsx)("span",{style:{color:"#00FF88",fontSize:"1.5rem",minWidth:"24px"},children:"\u2022"}),(0,Sy.jsx)("span",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:e})]},t))})]}),S.trackIntervals&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83c\udfc3 Track Intervals"}),"string"===typeof S.trackIntervals?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.trackIntervals}):"object"===typeof S.trackIntervals?(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:Object.entries(S.trackIntervals).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("strong",{style:{color:"#00FF88",textTransform:"capitalize",display:"block",marginBottom:"6px",fontSize:"1.1rem"},children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),"object"===typeof n?(0,Sy.jsx)("div",{style:{paddingLeft:"12px"},children:Object.entries(n).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("p",{style:{margin:"4px 0",fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:[(0,Sy.jsxs)("strong",{style:{color:"#00D4FF"},children:[t,":"]})," ","string"===typeof n?n:JSON.stringify(n)]},t)})}):(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:"string"===typeof n?n:JSON.stringify(n)})]},t)})}):null]}),S.fueling&&(0,Sy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",marginBottom:"24px"},children:[(0,Sy.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.3rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83c\udf4e Fueling"}),"string"===typeof S.fueling?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.fueling}):"object"===typeof S.fueling?(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:Object.entries(S.fueling).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("strong",{style:{color:"#00FF88",textTransform:"capitalize",display:"block",marginBottom:"6px",fontSize:"1.1rem"},children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:n})]},t)})}):null]}),S.runEqOptions&&(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%)",border:"2px solid rgba(102, 126, 234, 0.4)",borderRadius:"20px",padding:"24px",marginBottom:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)"},children:[(0,Sy.jsxs)("h3",{style:{margin:"0 0 20px 0",color:"white",fontSize:"1.6rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"2rem"},children:"\ud83d\udd04"}),"RunEQ Options - 4 Ways to Complete This Workout"]}),(0,Sy.jsxs)("div",{style:{display:"grid",gap:"16px"},children:[S.runEqOptions.optionA&&(0,Sy.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("strong",{style:{color:"#00FF88",fontSize:"1.1rem",display:"block",marginBottom:"8px"},children:"Option A:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:S.runEqOptions.optionA})]}),S.runEqOptions.optionB&&(0,Sy.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("strong",{style:{color:"#00FF88",fontSize:"1.1rem",display:"block",marginBottom:"8px"},children:"Option B:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:S.runEqOptions.optionB})]}),S.runEqOptions.optionC&&(0,Sy.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("strong",{style:{color:"#00FF88",fontSize:"1.1rem",display:"block",marginBottom:"8px"},children:"Option C:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:S.runEqOptions.optionC})]}),S.runEqOptions.optionD&&(0,Sy.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Sy.jsx)("strong",{style:{color:"#00FF88",fontSize:"1.1rem",display:"block",marginBottom:"8px"},children:"Option D:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:S.runEqOptions.optionD})]}),S.runEqOptions.recommendation&&(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 255, 136, 0.2) 0%, rgba(0, 200, 100, 0.2) 100%)",padding:"16px",borderRadius:"12px",border:"2px solid rgba(0, 255, 136, 0.4)",boxShadow:"0 4px 16px rgba(0, 255, 136, 0.2)"},children:[(0,Sy.jsx)("strong",{style:{color:"#00FF88",fontSize:"1.2rem",display:"block",marginBottom:"8px"},children:"\ud83d\udca1 Recommended for you:"}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1.05rem",lineHeight:"1.6",color:"white",fontWeight:"500"},children:S.runEqOptions.recommendation})]})]})]}),S.coachingGuidance&&(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 200, 100, 0.1) 100%)",border:"2px solid rgba(0, 255, 136, 0.3)",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 4px 16px rgba(0, 255, 136, 0.15)"},children:[(0,Sy.jsxs)("h3",{style:{margin:"0 0 16px 0",color:"#00FF88",fontSize:"1.5rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.8rem"},children:"\ud83c\udfaf"}),"Coaching Guidance"]}),"string"===typeof S.coachingGuidance?(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.7",color:"#ddd"},children:S.coachingGuidance}):"object"===typeof S.coachingGuidance?(0,Sy.jsx)("div",{style:{display:"grid",gap:"16px"},children:Object.entries(S.coachingGuidance).map(e=>{let[t,n]=e;return(0,Sy.jsxs)("div",{children:[(0,Sy.jsxs)("strong",{style:{color:"#00FF88",textTransform:"capitalize",display:"block",marginBottom:"6px",fontSize:"1.1rem"},children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),(0,Sy.jsx)("p",{style:{margin:0,fontSize:"1rem",lineHeight:"1.6",color:"#ddd"},children:n})]},t)})}):null]}),(0,Sy.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",border:"2px solid rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"24px",marginBottom:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[(0,Sy.jsxs)("button",{onClick:()=>{const e={day:c.charAt(0).toUpperCase()+c.slice(1),type:S.type,workout:{name:S.name,description:S.description},focus:S.focus,equipmentSpecific:S.equipmentSpecific};h({isOpen:!0,workout:e})},style:{width:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",fontSize:"1.2rem",fontWeight:"700",padding:"18px 24px",borderRadius:"16px",cursor:"pointer",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(102, 126, 234, 0.5)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 8px 24px rgba(102, 126, 234, 0.4)"},children:[(0,Sy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udd04"}),"Something Else (Show Alternatives)"]}),(0,Sy.jsx)("div",{style:{marginTop:"20px",textAlign:"center",padding:"16px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,Sy.jsxs)("p",{style:{margin:0,fontSize:"0.95rem",color:"#bbb",lineHeight:"1.6"},children:["\ud83d\udca1 ",(0,Sy.jsx)("strong",{style:{color:"white"},children:"Need something different?"}),(0,Sy.jsx)("br",{}),"Click above for all alternatives including contextual adaptations (too hot, too tired, time constraints, etc.)"]})})]})]}),(0,Sy.jsx)(VE,{isOpen:d.isOpen,onClose:E,currentWorkout:d.workout,userProfile:a,trainingPlan:s,onWorkoutSelect:async e=>{const t=(0,Ce.A)((0,Ce.A)({},x),{},{workout:(0,Ce.A)({},e.workout),name:e.workout.name,description:e.workout.description,type:e.type,focus:e.focus,equipmentSpecific:e.equipmentSpecific,replacementReason:e.replacementReason});f(t);const n="".concat(y,"-").concat(c),r={day:c.charAt(0).toUpperCase()+c.slice(1),workout:(0,Ce.A)({},e.workout),focus:e.focus,type:e.type,equipmentSpecific:e.equipmentSpecific,replacementReason:e.replacementReason},i=JSON.parse(localStorage.getItem("runeq_modifiedWorkouts")||"{}");i[n]=r,localStorage.setItem("runeq_modifiedWorkouts",JSON.stringify(i)),console.log("\ud83d\udcbe WorkoutDetail saved to localStorage:",n,e.workout.name),wy.currentUser&&(await xy.saveModifiedWorkout(wy.currentUser.uid,y,c,r),console.log("\u2705 SAVED to Firestore:",e.workout.name,"for",c)),E()}})]});var T,C,D};function YE(){const{pathname:e}=J();return(0,i.useEffect)(()=>{window.scrollTo(0,0)},[e]),null}const GE=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return at(e).onAuthStateChanged(t,n,r)}(wy,async e=>{if(console.log("\ud83d\udd10 Auth state changed:",e?"Logged in":"Logged out"),e){t(e);const n=await xy.getUserData(e.uid);n.success&&n.data?(console.log("\ud83d\udce6 Loaded user data from Firestore"),n.data.profile&&r(n.data.profile),n.data.trainingPlan&&a(n.data.trainingPlan)):console.log("\u2139\ufe0f No saved data found - new user")}else{t(null),r(null),a(null);const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("runeq_")&&e.push(n)}e.forEach(e=>localStorage.removeItem(e))}l(!1)});return()=>e()},[]);const c=()=>{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("runeq_")&&e.push(n)}e.forEach(e=>localStorage.removeItem(e)),console.log("\ud83e\uddf9 Cleared localStorage:",e)};return s?(0,Sy.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)"},children:(0,Sy.jsx)("div",{style:{textAlign:"center",color:"#00D4FF"},children:(0,Sy.jsx)("h2",{children:"Loading..."})})}):e?(0,Sy.jsxs)(xe,{children:[(0,Sy.jsx)(YE,{}),(0,Sy.jsx)("div",{className:"App",children:(0,Sy.jsxs)(ye,{children:[(0,Sy.jsx)(me,{path:"/",element:o?(0,Sy.jsx)(fe,{to:"/dashboard",replace:!0}):(0,Sy.jsx)(Ty,{})}),(0,Sy.jsx)(me,{path:"/onboarding",element:o?(0,Sy.jsx)(fe,{to:"/dashboard",replace:!0}):(0,Sy.jsx)(UE,{onComplete:async(t,n)=>{r(t),a(n),c(),e&&(await xy.saveUserProfile(e.uid,t),await xy.saveTrainingPlan(e.uid,n))}})}),(0,Sy.jsx)(me,{path:"/preview",element:o?(0,Sy.jsx)(zE,{userProfile:n,trainingPlan:o}):(0,Sy.jsx)(fe,{to:"/onboarding",replace:!0})}),(0,Sy.jsx)(me,{path:"/dashboard",element:o?(0,Sy.jsx)(HE,{userProfile:n,trainingPlan:o,clearAllData:async()=>{e&&await xy.clearUserData(e.uid),r(null),a(null),c(),await Hi(wy),window.location.href="/"}}):(0,Sy.jsx)(fe,{to:"/onboarding",replace:!0})}),(0,Sy.jsx)(me,{path:"/workout/:day",element:(0,Sy.jsx)(KE,{userProfile:n,trainingPlan:o})})]})})]}):(0,Sy.jsx)(Ey,{})},QE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})};a.createRoot(document.getElementById("root")).render((0,Sy.jsx)(i.StrictMode,{children:(0,Sy.jsx)(GE,{})})),QE()})();
//# sourceMappingURL=main.cae2cb6b.js.map