"use strict";(self.webpackChunkrun_plus_plans=self.webpackChunkrun_plus_plans||[]).push([[462],{462:(e,r,s)=>{function t(e,r){const s={valid:!0,errors:[]};if(!e||!e.weeks)return{valid:!1,errors:["Plan or weeks missing"]};const t=function(e){const r=[];return e.forEach((e,s)=>{e.workouts&&0!==e.workouts.length||r.push("Week ".concat(e.weekNumber||s+1," has 0 workouts - parsing may have failed"))}),r.length>0?(console.error("\u274c WORKOUT PARSING VALIDATION FAILED:",r),{valid:!1,errors:r}):{valid:!0}}(e.weeks);t.valid||(s.valid=!1,s.errors.push(...t.errors));const o=(null===r||void 0===r?void 0:r.qualityDays)||(null===r||void 0===r?void 0:r.hardSessionDays)||[];if(o.length>0){const r=function(e,r){if(!r||0===r.length)return{valid:!0};const s=[];return e.forEach(e=>{e.workouts.forEach(t=>{if(r.includes(t.day)){const r=(t.description||"").toLowerCase(),o=r.includes("tempo")||r.includes("interval")||r.includes("hill")||r.includes("speed")||"tempo"===t.workoutType||"interval"===t.workoutType||"hill"===t.workoutType,a=r.includes("rest")||"rest"===t.type,n=r.includes("easy")&&!o;(a||n&&!o)&&s.push("Week ".concat(e.weekNumber,": ").concat(t.day," is a hard day but has ").concat(t.description))}})}),s.length>0?(console.error("\u274c HARD DAYS VALIDATION FAILED:",s),{valid:!1,errors:s}):{valid:!0}}(e.weeks,o);r.valid||(s.valid=!1,s.errors.push(...r.errors))}if(null!==r&&void 0!==r&&r.restDays){const t=function(e,r){if(!r||0===r.length)return{valid:!0};const s=[];return e.forEach(e=>{e.workouts.forEach(t=>{if(r.includes(t.day)){const r=(t.description||"").toLowerCase(),o=r.includes("tempo")||r.includes("interval")||r.includes("hill")||r.includes("speed"),a=r.includes("rest")||"rest"===t.type;o&&!a&&s.push("Week ".concat(e.weekNumber,": ").concat(t.day," is a rest day but has hard workout: ").concat(t.description))}})}),s.length>0?(console.error("\u274c REST DAYS VALIDATION FAILED:",s),{valid:!1,errors:s}):{valid:!0}}(e.weeks,r.restDays);t.valid||(s.valid=!1,s.errors.push(...t.errors))}const a=function(e){const r=[];return e.forEach(e=>{e.workouts.forEach(s=>{if("bike"===s.type||(s.description||"").toLowerCase().includes("runeq")){const t=s.description||"",o=t.match(/runeq/i);t.match(/\d+\s*(?:mile|miles).*cyclete/i)&&!o&&r.push("Week ".concat(e.weekNumber,": ").concat(s.day," bike workout shows actual miles instead of RunEQ: ").concat(t))}})}),r.length>0?(console.error("\u274c RUNEQ MILES VALIDATION FAILED:",r),{valid:!1,errors:r}):{valid:!0}}(e.weeks);a.valid||(s.valid=!1,s.errors.push(...a.errors));const n=function(e){const r=[];return e.forEach(e=>{e.workouts.forEach(s=>{if("longRun"===s.type||(s.description||"").toLowerCase().includes("long run")){const t=s.description||"",o=t.match(/\d+-\d+\s*(?:minutes?|min)/i),a=t.match(/(\d+(?:\.\d+)?)\s*(?:miles?|mi)\b/i);o&&!a&&r.push("Week ".concat(e.weekNumber,": ").concat(s.day," long run shows duration instead of distance: ").concat(t)),s.distance&&0!==s.distance||r.push("Week ".concat(e.weekNumber,": ").concat(s.day," long run missing distance property"))}})}),r.length>0?(console.error("\u274c LONG RUN DISTANCE VALIDATION FAILED:",r),{valid:!1,errors:r}):{valid:!0}}(e.weeks);if(n.valid||(s.valid=!1,s.errors.push(...n.errors)),e.planOverview&&null!==r&&void 0!==r&&r.startDate){const t=(i=e.planOverview,l=r.startDate,i&&i.startDate?l&&i.startDate!==l?{valid:!1,errors:["Week 1 start date mismatch: expected ".concat(l,", got ").concat(i.startDate)]}:{valid:!0}:{valid:!1,errors:["Plan overview missing startDate"]});t.valid||(s.valid=!1,s.errors.push(...t.errors))}var i,l;if(e.planOverview&&null!==r&&void 0!==r&&r.raceDate){const t=new Date(r.raceDate),o=new Date(r.startDate||new Date),a=6048e5,n=Math.ceil((t.getTime()-o.getTime())/a),i=function(e,r){return e&&e.totalWeeks?r&&e.totalWeeks!==r?{valid:!1,errors:["Total weeks mismatch: expected ".concat(r,", got ").concat(e.totalWeeks)]}:{valid:!0}:{valid:!1,errors:["Plan overview missing totalWeeks"]}}(e.planOverview,n);i.valid||(s.valid=!1,s.errors.push(...i.errors))}return s.valid?console.log("\u2705 All training plan validations passed"):console.error("\u274c Training plan validation failed:",s.errors),s}s.d(r,{validateTrainingPlan:()=>t})}}]);
//# sourceMappingURL=462.3323f61f.chunk.js.map